var anki=(()=>{var Vy=Object.create,Xi=Object.defineProperty,Ky=Object.getPrototypeOf,Jy=Object.prototype.hasOwnProperty,Xy=Object.getOwnPropertyNames,Qy=Object.getOwnPropertyDescriptor;var Zy=e=>Xi(e,"__esModule",{value:!0});var ex=(e,t)=>()=>(e&&(t=e(e=0)),t),Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gl=(e,t)=>{for(var r in t)Xi(e,r,{get:t[r],enumerable:!0})},tx=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Xy(t))!Jy.call(e,n)&&n!=="default"&&Xi(e,n,{get:()=>t[n],enumerable:!(r=Qy(t,n))||r.enumerable});return e},Qi=e=>tx(Zy(Xi(e!=null?Vy(Ky(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Fl=Q((C_,Zi)=>{var yl,xl,vl,bl,wl,_l,kl,Sl,Tl,eo,Ls,Cl,Rl,Al,pn,El,Dl,Nl,Ol,jl,Il,ql,Ml,to;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Zi=="object"&&typeof Zi.exports=="object"?e(r(t,r(Zi.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,u){return n[s]=i?i(s,u):u}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])};yl=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},xl=Object.assign||function(n){for(var i,s=1,u=arguments.length;s<u;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},vl=function(n,i){var s={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&i.indexOf(u)<0&&(s[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,u=Object.getOwnPropertySymbols(n);a<u.length;a++)i.indexOf(u[a])<0&&Object.prototype.propertyIsEnumerable.call(n,u[a])&&(s[u[a]]=n[u[a]]);return s},bl=function(n,i,s,u){var a=arguments.length,o=a<3?i:u===null?u=Object.getOwnPropertyDescriptor(i,s):u,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,i,s,u);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(o=(a<3?l(o):a>3?l(i,s,o):l(i,s))||o);return a>3&&o&&Object.defineProperty(i,s,o),o},wl=function(n,i){return function(s,u){i(s,u,n)}},_l=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},kl=function(n,i,s,u){function a(o){return o instanceof s?o:new s(function(l){l(o)})}return new(s||(s=Promise))(function(o,l){function c(p){try{d(u.next(p))}catch(m){l(m)}}function f(p){try{d(u.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((u=u.apply(n,i||[])).next())})},Sl=function(n,i){var s={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},u,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(p){return f([d,p])}}function f(d){if(u)throw new TypeError("Generator is already executing.");for(;s;)try{if(u=1,a&&(o=d[0]&2?a.return:d[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,d[1])).done)return o;switch(a=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,a=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){s.label=d[1];break}if(d[0]===6&&s.label<o[1]){s.label=o[1],o=d;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(d);break}o[2]&&s.ops.pop(),s.trys.pop();continue}d=i.call(n,s)}catch(p){d=[6,p],a=0}finally{u=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Tl=function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&to(i,n,s)},to=Object.create?function(n,i,s,u){u===void 0&&(u=s),Object.defineProperty(n,u,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,u){u===void 0&&(u=s),n[u]=i[s]},eo=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&n[i],u=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&u>=n.length&&(n=void 0),{value:n&&n[u++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Ls=function(n,i){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var u=s.call(n),a,o=[],l;try{for(;(i===void 0||i-- >0)&&!(a=u.next()).done;)o.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(s=u.return)&&s.call(u)}finally{if(l)throw l.error}}return o},Cl=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(Ls(arguments[i]));return n},Rl=function(){for(var n=0,i=0,s=arguments.length;i<s;i++)n+=arguments[i].length;for(var u=Array(n),a=0,i=0;i<s;i++)for(var o=arguments[i],l=0,c=o.length;l<c;l++,a++)u[a]=o[l];return u},Al=function(n,i,s){if(s||arguments.length===2)for(var u=0,a=i.length,o;u<a;u++)(o||!(u in i))&&(o||(o=Array.prototype.slice.call(i,0,u)),o[u]=i[u]);return n.concat(o||i)},pn=function(n){return this instanceof pn?(this.v=n,this):new pn(n)},El=function(n,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=s.apply(n,i||[]),a,o=[];return a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a;function l(h){u[h]&&(a[h]=function(g){return new Promise(function(y,x){o.push([h,g,y,x])>1||c(h,g)})})}function c(h,g){try{f(u[h](g))}catch(y){m(o[0][3],y)}}function f(h){h.value instanceof pn?Promise.resolve(h.value.v).then(d,p):m(o[0][2],h)}function d(h){c("next",h)}function p(h){c("throw",h)}function m(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}},Dl=function(n){var i,s;return i={},u("next"),u("throw",function(a){throw a}),u("return"),i[Symbol.iterator]=function(){return this},i;function u(a,o){i[a]=n[a]?function(l){return(s=!s)?{value:pn(n[a](l)),done:a==="return"}:o?o(l):l}:o}},Nl=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],s;return i?i.call(n):(n=typeof eo=="function"?eo(n):n[Symbol.iterator](),s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s);function u(o){s[o]=n[o]&&function(l){return new Promise(function(c,f){l=n[o](l),a(c,f,l.done,l.value)})}}function a(o,l,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},l)}},Ol=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};jl=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var s in n)s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)&&to(i,n,s);return r(i,n),i},Il=function(n){return n&&n.__esModule?n:{default:n}},ql=function(n,i,s,u){if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!u:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?u:s==="a"?u.call(n):u?u.value:i.get(n)},Ml=function(n,i,s,u,a){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?a.call(n,s):a?a.value=s:i.set(n,s),s},e("__extends",yl),e("__assign",xl),e("__rest",vl),e("__decorate",bl),e("__param",wl),e("__metadata",_l),e("__awaiter",kl),e("__generator",Sl),e("__exportStar",Tl),e("__createBinding",to),e("__values",eo),e("__read",Ls),e("__spread",Cl),e("__spreadArrays",Rl),e("__spreadArray",Al),e("__await",pn),e("__asyncGenerator",El),e("__asyncDelegator",Dl),e("__asyncValues",Nl),e("__makeTemplateObject",Ol),e("__importStar",jl),e("__importDefault",Il),e("__classPrivateFieldGet",ql),e("__classPrivateFieldSet",Ml)})});var Pl={};gl(Pl,{default:()=>ax});function ro(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(t){return typeof t}:ro=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function rx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $l(e,t,r){return t&&Bl(e.prototype,t),r&&Bl(e,r),e}function sx(e,t,r){var n=function(a){do{if(t(a))return a;a=a.replace(/-?[^-]*$/,"")}while(a);return null},i=function(a){for(var o=Gl(a),l=0;l<o.length;++l){var c=n(o[l]);if(c)return c}return n(ix())},s=function(){$l(u,null,[{key:"supportedLocalesOf",value:function(o){return Gl(o).filter(n)}}]);function u(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rx(this,u),this._locale=i(a),this._select=t(this._locale),this._type=ox(o.type),this._nf=new e("en",o)}return $l(u,[{key:"resolvedOptions",value:function(){var o=this._nf.resolvedOptions(),l=o.minimumIntegerDigits,c=o.minimumFractionDigits,f=o.maximumFractionDigits,d=o.minimumSignificantDigits,p=o.maximumSignificantDigits,m={locale:this._locale,minimumIntegerDigits:l,minimumFractionDigits:c,maximumFractionDigits:f,pluralCategories:r(this._locale,this._type==="ordinal"),type:this._type};return typeof d=="number"&&(m.minimumSignificantDigits=d,m.maximumSignificantDigits=p),m}},{key:"select",value:function(o){if(!(this instanceof u))throw new TypeError("select() called on incompatible ".concat(this));if(typeof o!="number"&&(o=Number(o)),!isFinite(o))return"other";var l=this._nf.format(Math.abs(o));return this._select(l,this._type==="ordinal")}}]),u}();return Object.defineProperty(s,"prototype",{writable:!1}),s}var nx,Gl,ix,ox,ax,zl=ex(()=>{nx=function(t){return t.split("-").every(function(r){return/[a-z0-9]+/i.test(r)})},Gl=function(t){if(!t)return[];Array.isArray(t)||(t=[t]);for(var r={},n=0;n<t.length;++n){var i=t[n];if(i&&ro(i)==="object"&&(i=String(i)),typeof i!="string"){var s="Locales should be strings, ".concat(JSON.stringify(i)," isn't.");throw new TypeError(s)}if(i[0]!=="*"){if(!nx(i)){var u=JSON.stringify(i),a="The locale ".concat(u," is not a structurally valid BCP 47 language tag.");throw new RangeError(a)}r[i]=!0}}return Object.keys(r)},ix=function(){return typeof navigator!="undefined"&&navigator&&(navigator.userLanguage||navigator.language)||"en-US"},ox=function(t){if(!t)return"cardinal";if(t==="cardinal"||t==="ordinal")return t;throw new RangeError("Not a valid plural type: "+JSON.stringify(t))};ax=sx});var Hl=Q((X_,Wl)=>{"use strict";function ux(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ul(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lx(e,t,r){return t&&Ul(e.prototype,t),r&&Ul(e,r),e}var cx=function(){function e(t,r){var n=r.minimumIntegerDigits,i=r.minimumFractionDigits,s=r.maximumFractionDigits,u=r.minimumSignificantDigits,a=r.maximumSignificantDigits;ux(this,e),this._minID=typeof n=="number"?n:1,this._minFD=typeof i=="number"?i:0,this._maxFD=typeof s=="number"?s:Math.max(this._minFD,3),(typeof u=="number"||typeof a=="number")&&(this._minSD=typeof u=="number"?u:1,this._maxSD=typeof a=="number"?a:21)}return lx(e,[{key:"resolvedOptions",value:function(){var r={minimumIntegerDigits:this._minID,minimumFractionDigits:this._minFD,maximumFractionDigits:this._maxFD};return typeof this._minSD=="number"&&(r.minimumSignificantDigits=this._minSD,r.maximumSignificantDigits=this._maxSD),r}},{key:"format",value:function(r){if(this._minSD){for(var n=String(r),i=0,s=0;s<n.length;++s){var u=n[s];u>="0"&&u<="9"&&++i}return i<this._minSD?r.toPrecision(this._minSD):i>this._maxSD?r.toPrecision(this._maxSD):n}return this._minFD>0?r.toFixed(this._minFD):this._maxFD===0?r.toFixed(0):String(r)}}]),e}();Wl.exports=cx});var nc=Q((Q_,Yl)=>{"use strict";var fx=(zl(),Pl),dx=Hl();function Vl(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var px=Vl(fx),mx=Vl(dx);function no(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?no=function(t){return typeof t}:no=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}var Kl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xl(e,t,r){return r={path:t,exports:{},require:function(n,i){return hx(n,i==null?r.path:i)}},e(r,r.exports),r.exports}function hx(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ql=Xl(function(e,t){function r(a,o){return o?"other":a==1?"one":"other"}function n(a,o){return o?"other":a==0||a==1?"one":"other"}function i(a,o){var l=String(a).split("."),c=!l[1];return o?"other":a==1&&c?"one":"other"}function s(a,o){return"other"}function u(a,o){return o?"other":a==1?"one":a==2?"two":"other"}(function(a,o){Object.defineProperty(o,"__esModule",{value:!0}),e.exports=o})(Kl,{_in:s,af:r,ak:n,am:function(o,l){return l?"other":o>=0&&o<=1?"one":"other"},an:r,ar:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-2);return l?"other":o==0?"zero":o==1?"one":o==2?"two":d>=3&&d<=10?"few":d>=11&&d<=99?"many":"other"},ars:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-2);return l?"other":o==0?"zero":o==1?"one":o==2?"two":d>=3&&d<=10?"few":d>=11&&d<=99?"many":"other"},as:function(o,l){return l?o==1||o==5||o==7||o==8||o==9||o==10?"one":o==2||o==3?"two":o==4?"few":o==6?"many":"other":o>=0&&o<=1?"one":"other"},asa:r,ast:i,az:function(o,l){var c=String(o).split("."),f=c[0],d=f.slice(-1),p=f.slice(-2),m=f.slice(-3);return l?d==1||d==2||d==5||d==7||d==8||p==20||p==50||p==70||p==80?"one":d==3||d==4||m==100||m==200||m==300||m==400||m==500||m==600||m==700||m==800||m==900?"few":f==0||d==6||p==40||p==60||p==90?"many":"other":o==1?"one":"other"},be:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-1),p=f&&c[0].slice(-2);return l?(d==2||d==3)&&p!=12&&p!=13?"few":"other":d==1&&p!=11?"one":d>=2&&d<=4&&(p<12||p>14)?"few":f&&d==0||d>=5&&d<=9||p>=11&&p<=14?"many":"other"},bem:r,bez:r,bg:r,bho:n,bm:s,bn:function(o,l){return l?o==1||o==5||o==7||o==8||o==9||o==10?"one":o==2||o==3?"two":o==4?"few":o==6?"many":"other":o>=0&&o<=1?"one":"other"},bo:s,br:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-1),p=f&&c[0].slice(-2),m=f&&c[0].slice(-6);return l?"other":d==1&&p!=11&&p!=71&&p!=91?"one":d==2&&p!=12&&p!=72&&p!=92?"two":(d==3||d==4||d==9)&&(p<10||p>19)&&(p<70||p>79)&&(p<90||p>99)?"few":o!=0&&f&&m==0?"many":"other"},brx:r,bs:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=f.slice(-2),g=d.slice(-1),y=d.slice(-2);return l?"other":p&&m==1&&h!=11||g==1&&y!=11?"one":p&&m>=2&&m<=4&&(h<12||h>14)||g>=2&&g<=4&&(y<12||y>14)?"few":"other"},ca:function(o,l){var c=String(o).split("."),f=!c[1];return l?o==1||o==3?"one":o==2?"two":o==4?"few":"other":o==1&&f?"one":"other"},ce:r,ceb:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=d.slice(-1);return l?"other":p&&(f==1||f==2||f==3)||p&&m!=4&&m!=6&&m!=9||!p&&h!=4&&h!=6&&h!=9?"one":"other"},cgg:r,chr:r,ckb:r,cs:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1];return l?"other":o==1&&d?"one":f>=2&&f<=4&&d?"few":d?"other":"many"},cy:function(o,l){return l?o==0||o==7||o==8||o==9?"zero":o==1?"one":o==2?"two":o==3||o==4?"few":o==5||o==6?"many":"other":o==0?"zero":o==1?"one":o==2?"two":o==3?"few":o==6?"many":"other"},da:function(o,l){var c=String(o).split("."),f=c[0],d=Number(c[0])==o;return l?"other":o==1||!d&&(f==0||f==1)?"one":"other"},de:i,dsb:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-2),h=d.slice(-2);return l?"other":p&&m==1||h==1?"one":p&&m==2||h==2?"two":p&&(m==3||m==4)||h==3||h==4?"few":"other"},dv:r,dz:s,ee:r,el:r,en:function(o,l){var c=String(o).split("."),f=!c[1],d=Number(c[0])==o,p=d&&c[0].slice(-1),m=d&&c[0].slice(-2);return l?p==1&&m!=11?"one":p==2&&m!=12?"two":p==3&&m!=13?"few":"other":o==1&&f?"one":"other"},eo:r,es:r,et:i,eu:r,fa:function(o,l){return l?"other":o>=0&&o<=1?"one":"other"},ff:function(o,l){return l?"other":o>=0&&o<2?"one":"other"},fi:i,fil:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=d.slice(-1);return l?o==1?"one":"other":p&&(f==1||f==2||f==3)||p&&m!=4&&m!=6&&m!=9||!p&&h!=4&&h!=6&&h!=9?"one":"other"},fo:r,fr:function(o,l){return l?o==1?"one":"other":o>=0&&o<2?"one":"other"},fur:r,fy:i,ga:function(o,l){var c=String(o).split("."),f=Number(c[0])==o;return l?o==1?"one":"other":o==1?"one":o==2?"two":f&&o>=3&&o<=6?"few":f&&o>=7&&o<=10?"many":"other"},gd:function(o,l){var c=String(o).split("."),f=Number(c[0])==o;return l?o==1||o==11?"one":o==2||o==12?"two":o==3||o==13?"few":"other":o==1||o==11?"one":o==2||o==12?"two":f&&o>=3&&o<=10||f&&o>=13&&o<=19?"few":"other"},gl:i,gsw:r,gu:function(o,l){return l?o==1?"one":o==2||o==3?"two":o==4?"few":o==6?"many":"other":o>=0&&o<=1?"one":"other"},guw:n,gv:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=f.slice(-1),m=f.slice(-2);return l?"other":d&&p==1?"one":d&&p==2?"two":d&&(m==0||m==20||m==40||m==60||m==80)?"few":d?"other":"many"},ha:r,haw:r,he:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=Number(c[0])==o,m=p&&c[0].slice(-1);return l?"other":o==1&&d?"one":f==2&&d?"two":d&&(o<0||o>10)&&p&&m==0?"many":"other"},hi:function(o,l){return l?o==1?"one":o==2||o==3?"two":o==4?"few":o==6?"many":"other":o>=0&&o<=1?"one":"other"},hr:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=f.slice(-2),g=d.slice(-1),y=d.slice(-2);return l?"other":p&&m==1&&h!=11||g==1&&y!=11?"one":p&&m>=2&&m<=4&&(h<12||h>14)||g>=2&&g<=4&&(y<12||y>14)?"few":"other"},hsb:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-2),h=d.slice(-2);return l?"other":p&&m==1||h==1?"one":p&&m==2||h==2?"two":p&&(m==3||m==4)||h==3||h==4?"few":"other"},hu:function(o,l){return l?o==1||o==5?"one":"other":o==1?"one":"other"},hy:function(o,l){return l?o==1?"one":"other":o>=0&&o<2?"one":"other"},ia:i,id:s,ig:s,ii:s,io:i,is:function(o,l){var c=String(o).split("."),f=c[0],d=Number(c[0])==o,p=f.slice(-1),m=f.slice(-2);return l?"other":d&&p==1&&m!=11||!d?"one":"other"},it:function(o,l){var c=String(o).split("."),f=!c[1];return l?o==11||o==8||o==80||o==800?"many":"other":o==1&&f?"one":"other"},iu:u,iw:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=Number(c[0])==o,m=p&&c[0].slice(-1);return l?"other":o==1&&d?"one":f==2&&d?"two":d&&(o<0||o>10)&&p&&m==0?"many":"other"},ja:s,jbo:s,jgo:r,ji:i,jmc:r,jv:s,jw:s,ka:function(o,l){var c=String(o).split("."),f=c[0],d=f.slice(-2);return l?f==1?"one":f==0||d>=2&&d<=20||d==40||d==60||d==80?"many":"other":o==1?"one":"other"},kab:function(o,l){return l?"other":o>=0&&o<2?"one":"other"},kaj:r,kcg:r,kde:s,kea:s,kk:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-1);return l?d==6||d==9||f&&d==0&&o!=0?"many":"other":o==1?"one":"other"},kkj:r,kl:r,km:s,kn:function(o,l){return l?"other":o>=0&&o<=1?"one":"other"},ko:s,ks:r,ksb:r,ksh:function(o,l){return l?"other":o==0?"zero":o==1?"one":"other"},ku:r,kw:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-2),p=f&&c[0].slice(-3),m=f&&c[0].slice(-5),h=f&&c[0].slice(-6);return l?f&&o>=1&&o<=4||d>=1&&d<=4||d>=21&&d<=24||d>=41&&d<=44||d>=61&&d<=64||d>=81&&d<=84?"one":o==5||d==5?"many":"other":o==0?"zero":o==1?"one":d==2||d==22||d==42||d==62||d==82||f&&p==0&&(m>=1e3&&m<=2e4||m==4e4||m==6e4||m==8e4)||o!=0&&h==1e5?"two":d==3||d==23||d==43||d==63||d==83?"few":o!=1&&(d==1||d==21||d==41||d==61||d==81)?"many":"other"},ky:r,lag:function(o,l){var c=String(o).split("."),f=c[0];return l?"other":o==0?"zero":(f==0||f==1)&&o!=0?"one":"other"},lb:r,lg:r,lkt:s,ln:n,lo:function(o,l){return l&&o==1?"one":"other"},lt:function(o,l){var c=String(o).split("."),f=c[1]||"",d=Number(c[0])==o,p=d&&c[0].slice(-1),m=d&&c[0].slice(-2);return l?"other":p==1&&(m<11||m>19)?"one":p>=2&&p<=9&&(m<11||m>19)?"few":f!=0?"many":"other"},lv:function(o,l){var c=String(o).split("."),f=c[1]||"",d=f.length,p=Number(c[0])==o,m=p&&c[0].slice(-1),h=p&&c[0].slice(-2),g=f.slice(-2),y=f.slice(-1);return l?"other":p&&m==0||h>=11&&h<=19||d==2&&g>=11&&g<=19?"zero":m==1&&h!=11||d==2&&y==1&&g!=11||d!=2&&y==1?"one":"other"},mas:r,mg:n,mgo:r,mk:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=f.slice(-2),g=d.slice(-1),y=d.slice(-2);return l?m==1&&h!=11?"one":m==2&&h!=12?"two":(m==7||m==8)&&h!=17&&h!=18?"many":"other":p&&m==1&&h!=11||g==1&&y!=11?"one":"other"},ml:r,mn:r,mo:function(o,l){var c=String(o).split("."),f=!c[1],d=Number(c[0])==o,p=d&&c[0].slice(-2);return l?o==1?"one":"other":o==1&&f?"one":!f||o==0||p>=2&&p<=19?"few":"other"},mr:function(o,l){return l?o==1?"one":o==2||o==3?"two":o==4?"few":"other":o==1?"one":"other"},ms:function(o,l){return l&&o==1?"one":"other"},mt:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-2);return l?"other":o==1?"one":o==0||d>=2&&d<=10?"few":d>=11&&d<=19?"many":"other"},my:s,nah:r,naq:u,nb:r,nd:r,ne:function(o,l){var c=String(o).split("."),f=Number(c[0])==o;return l?f&&o>=1&&o<=4?"one":"other":o==1?"one":"other"},nl:i,nn:r,nnh:r,no:r,nqo:s,nr:r,nso:n,ny:r,nyn:r,om:r,or:function(o,l){var c=String(o).split("."),f=Number(c[0])==o;return l?o==1||o==5||f&&o>=7&&o<=9?"one":o==2||o==3?"two":o==4?"few":o==6?"many":"other":o==1?"one":"other"},os:r,osa:s,pa:n,pap:r,pl:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=f.slice(-1),m=f.slice(-2);return l?"other":o==1&&d?"one":d&&p>=2&&p<=4&&(m<12||m>14)?"few":d&&f!=1&&(p==0||p==1)||d&&p>=5&&p<=9||d&&m>=12&&m<=14?"many":"other"},prg:function(o,l){var c=String(o).split("."),f=c[1]||"",d=f.length,p=Number(c[0])==o,m=p&&c[0].slice(-1),h=p&&c[0].slice(-2),g=f.slice(-2),y=f.slice(-1);return l?"other":p&&m==0||h>=11&&h<=19||d==2&&g>=11&&g<=19?"zero":m==1&&h!=11||d==2&&y==1&&g!=11||d!=2&&y==1?"one":"other"},ps:r,pt:function(o,l){var c=String(o).split("."),f=c[0];return l?"other":f==0||f==1?"one":"other"},pt_PT:i,rm:r,ro:function(o,l){var c=String(o).split("."),f=!c[1],d=Number(c[0])==o,p=d&&c[0].slice(-2);return l?o==1?"one":"other":o==1&&f?"one":!f||o==0||p>=2&&p<=19?"few":"other"},rof:r,root:s,ru:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=f.slice(-1),m=f.slice(-2);return l?"other":d&&p==1&&m!=11?"one":d&&p>=2&&p<=4&&(m<12||m>14)?"few":d&&p==0||d&&p>=5&&p<=9||d&&m>=11&&m<=14?"many":"other"},rwk:r,sah:s,saq:r,sc:function(o,l){var c=String(o).split("."),f=!c[1];return l?o==11||o==8||o==80||o==800?"many":"other":o==1&&f?"one":"other"},scn:function(o,l){var c=String(o).split("."),f=!c[1];return l?o==11||o==8||o==80||o==800?"many":"other":o==1&&f?"one":"other"},sd:r,sdh:r,se:u,seh:r,ses:s,sg:s,sh:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=f.slice(-2),g=d.slice(-1),y=d.slice(-2);return l?"other":p&&m==1&&h!=11||g==1&&y!=11?"one":p&&m>=2&&m<=4&&(h<12||h>14)||g>=2&&g<=4&&(y<12||y>14)?"few":"other"},shi:function(o,l){var c=String(o).split("."),f=Number(c[0])==o;return l?"other":o>=0&&o<=1?"one":f&&o>=2&&o<=10?"few":"other"},si:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"";return l?"other":o==0||o==1||f==0&&d==1?"one":"other"},sk:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1];return l?"other":o==1&&d?"one":f>=2&&f<=4&&d?"few":d?"other":"many"},sl:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=f.slice(-2);return l?"other":d&&p==1?"one":d&&p==2?"two":d&&(p==3||p==4)||!d?"few":"other"},sma:u,smi:u,smj:u,smn:u,sms:u,sn:r,so:r,sq:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-1),p=f&&c[0].slice(-2);return l?o==1?"one":d==4&&p!=14?"many":"other":o==1?"one":"other"},sr:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=f.slice(-2),g=d.slice(-1),y=d.slice(-2);return l?"other":p&&m==1&&h!=11||g==1&&y!=11?"one":p&&m>=2&&m<=4&&(h<12||h>14)||g>=2&&g<=4&&(y<12||y>14)?"few":"other"},ss:r,ssy:r,st:r,su:s,sv:function(o,l){var c=String(o).split("."),f=!c[1],d=Number(c[0])==o,p=d&&c[0].slice(-1),m=d&&c[0].slice(-2);return l?(p==1||p==2)&&m!=11&&m!=12?"one":"other":o==1&&f?"one":"other"},sw:i,syr:r,ta:r,te:r,teo:r,th:s,ti:n,tig:r,tk:function(o,l){var c=String(o).split("."),f=Number(c[0])==o,d=f&&c[0].slice(-1);return l?d==6||d==9||o==10?"few":"other":o==1?"one":"other"},tl:function(o,l){var c=String(o).split("."),f=c[0],d=c[1]||"",p=!c[1],m=f.slice(-1),h=d.slice(-1);return l?o==1?"one":"other":p&&(f==1||f==2||f==3)||p&&m!=4&&m!=6&&m!=9||!p&&h!=4&&h!=6&&h!=9?"one":"other"},tn:r,to:s,tr:r,ts:r,tzm:function(o,l){var c=String(o).split("."),f=Number(c[0])==o;return l?"other":o==0||o==1||f&&o>=11&&o<=99?"one":"other"},ug:r,uk:function(o,l){var c=String(o).split("."),f=c[0],d=!c[1],p=Number(c[0])==o,m=p&&c[0].slice(-1),h=p&&c[0].slice(-2),g=f.slice(-1),y=f.slice(-2);return l?m==3&&h!=13?"few":"other":d&&g==1&&y!=11?"one":d&&g>=2&&g<=4&&(y<12||y>14)?"few":d&&g==0||d&&g>=5&&g<=9||d&&y>=11&&y<=14?"many":"other"},ur:i,uz:r,ve:r,vi:function(o,l){return l&&o==1?"one":"other"},vo:r,vun:r,wa:n,wae:r,wo:s,xh:r,xog:r,yi:i,yo:s,yue:s,zh:s,zu:function(o,l){return l?"other":o>=0&&o<=1?"one":"other"}})}),Zl=Jl(Ql),gx=Object.freeze(Object.assign(Object.create(null),Ql,{default:Zl})),ec=Xl(function(e,t){var r="zero",n="one",i="two",s="few",u="many",a="other",o={cardinal:[n,a],ordinal:[a]},l={cardinal:[a],ordinal:[a]},c={cardinal:[n,s,u,a],ordinal:[a]},f={cardinal:[n,a],ordinal:[n,a]},d={cardinal:[n,i,a],ordinal:[a]};(function(p,m){Object.defineProperty(m,"__esModule",{value:!0}),e.exports=m})(Kl,{_in:l,af:o,ak:o,am:o,an:o,ar:{cardinal:[r,n,i,s,u,a],ordinal:[a]},ars:{cardinal:[r,n,i,s,u,a],ordinal:[a]},as:{cardinal:[n,a],ordinal:[n,i,s,u,a]},asa:o,ast:o,az:{cardinal:[n,a],ordinal:[n,s,u,a]},be:{cardinal:[n,s,u,a],ordinal:[s,a]},bem:o,bez:o,bg:o,bho:o,bm:l,bn:{cardinal:[n,a],ordinal:[n,i,s,u,a]},bo:l,br:{cardinal:[n,i,s,u,a],ordinal:[a]},brx:o,bs:{cardinal:[n,s,a],ordinal:[a]},ca:{cardinal:[n,a],ordinal:[n,i,s,a]},ce:o,ceb:o,cgg:o,chr:o,ckb:o,cs:c,cy:{cardinal:[r,n,i,s,u,a],ordinal:[r,n,i,s,u,a]},da:o,de:o,dsb:{cardinal:[n,i,s,a],ordinal:[a]},dv:o,dz:l,ee:o,el:o,en:{cardinal:[n,a],ordinal:[n,i,s,a]},eo:o,es:o,et:o,eu:o,fa:o,ff:o,fi:o,fil:f,fo:o,fr:f,fur:o,fy:o,ga:{cardinal:[n,i,s,u,a],ordinal:[n,a]},gd:{cardinal:[n,i,s,a],ordinal:[n,i,s,a]},gl:o,gsw:o,gu:{cardinal:[n,a],ordinal:[n,i,s,u,a]},guw:o,gv:{cardinal:[n,i,s,u,a],ordinal:[a]},ha:o,haw:o,he:{cardinal:[n,i,u,a],ordinal:[a]},hi:{cardinal:[n,a],ordinal:[n,i,s,u,a]},hr:{cardinal:[n,s,a],ordinal:[a]},hsb:{cardinal:[n,i,s,a],ordinal:[a]},hu:f,hy:f,ia:o,id:l,ig:l,ii:l,io:o,is:o,it:{cardinal:[n,a],ordinal:[u,a]},iu:d,iw:{cardinal:[n,i,u,a],ordinal:[a]},ja:l,jbo:l,jgo:o,ji:o,jmc:o,jv:l,jw:l,ka:{cardinal:[n,a],ordinal:[n,u,a]},kab:o,kaj:o,kcg:o,kde:l,kea:l,kk:{cardinal:[n,a],ordinal:[u,a]},kkj:o,kl:o,km:l,kn:o,ko:l,ks:o,ksb:o,ksh:{cardinal:[r,n,a],ordinal:[a]},ku:o,kw:{cardinal:[r,n,i,s,u,a],ordinal:[n,u,a]},ky:o,lag:{cardinal:[r,n,a],ordinal:[a]},lb:o,lg:o,lkt:l,ln:o,lo:{cardinal:[a],ordinal:[n,a]},lt:c,lv:{cardinal:[r,n,a],ordinal:[a]},mas:o,mg:o,mgo:o,mk:{cardinal:[n,a],ordinal:[n,i,u,a]},ml:o,mn:o,mo:{cardinal:[n,s,a],ordinal:[n,a]},mr:{cardinal:[n,a],ordinal:[n,i,s,a]},ms:{cardinal:[a],ordinal:[n,a]},mt:c,my:l,nah:o,naq:d,nb:o,nd:o,ne:f,nl:o,nn:o,nnh:o,no:o,nqo:l,nr:o,nso:o,ny:o,nyn:o,om:o,or:{cardinal:[n,a],ordinal:[n,i,s,u,a]},os:o,osa:l,pa:o,pap:o,pl:c,prg:{cardinal:[r,n,a],ordinal:[a]},ps:o,pt:o,pt_PT:o,rm:o,ro:{cardinal:[n,s,a],ordinal:[n,a]},rof:o,root:l,ru:c,rwk:o,sah:l,saq:o,sc:{cardinal:[n,a],ordinal:[u,a]},scn:{cardinal:[n,a],ordinal:[u,a]},sd:o,sdh:o,se:d,seh:o,ses:l,sg:l,sh:{cardinal:[n,s,a],ordinal:[a]},shi:{cardinal:[n,s,a],ordinal:[a]},si:o,sk:c,sl:{cardinal:[n,i,s,a],ordinal:[a]},sma:d,smi:d,smj:d,smn:d,sms:d,sn:o,so:o,sq:{cardinal:[n,a],ordinal:[n,u,a]},sr:{cardinal:[n,s,a],ordinal:[a]},ss:o,ssy:o,st:o,su:l,sv:f,sw:o,syr:o,ta:o,te:o,teo:o,th:l,ti:o,tig:o,tk:{cardinal:[n,a],ordinal:[s,a]},tl:f,tn:o,to:l,tr:o,ts:o,tzm:o,ug:o,uk:{cardinal:[n,s,u,a],ordinal:[s,a]},ur:o,uz:o,ve:o,vi:{cardinal:[a],ordinal:[n,a]},vo:o,vun:o,wa:o,wae:o,wo:l,xh:o,xog:o,yi:o,yo:l,yue:l,zh:l,zu:o})}),tc=Jl(ec),yx=Object.freeze(Object.assign(Object.create(null),ec,{default:tc})),xx=Zl||gx,vx=tc||yx,bx=(typeof Intl=="undefined"?"undefined":no(Intl))==="object"&&Intl.NumberFormat||mx.default,rc=function(t){return t==="in"?"_in":t==="pt-PT"?"pt_PT":t},wx=function(t){return xx[rc(t)]},_x=function(t,r){return vx[rc(t)][r?"ordinal":"cardinal"]},kx=px.default(bx,wx,_x);Yl.exports=kx});var sc=Q(ic=>{"use strict";var Sx=nc();function Tx(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var wr=Tx(Sx);typeof Intl=="undefined"?(typeof global!="undefined"?global.Intl={PluralRules:wr.default}:typeof window!="undefined"?window.Intl={PluralRules:wr.default}:ic.Intl={PluralRules:wr.default},wr.default.polyfill=!0):Intl.PluralRules?(Ps=["en","es","ru","zh"],oc=Intl.PluralRules.supportedLocalesOf(Ps),oc.length<Ps.length&&(Intl.PluralRules=wr.default,wr.default.polyfill=!0)):(Intl.PluralRules=wr.default,wr.default.polyfill=!0);var Ps,oc});var uc=Q((io,ac)=>{(function(e,t){typeof io=="object"&&typeof ac!="undefined"?t(io):typeof define=="function"&&define.amd?define("@fluent/bundle",["exports"],t):(e=e||self,t(e.FluentBundle={}))})(io,function(e){"use strict";function t(T,v,w){return v in T?Object.defineProperty(T,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):T[v]=w,T}function r(T,v){var w=Object.keys(T);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(T);v&&($=$.filter(function(Y){return Object.getOwnPropertyDescriptor(T,Y).enumerable})),w.push.apply(w,$)}return w}function n(T){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?r(Object(w),!0).forEach(function($){t(T,$,w[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(w)):r(Object(w)).forEach(function($){Object.defineProperty(T,$,Object.getOwnPropertyDescriptor(w,$))})}return T}function i(T,v){return s(T)||u(T,v)||a()}function s(T){if(Array.isArray(T))return T}function u(T,v){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]"){var w=[],$=!0,Y=!1,oe=void 0;try{for(var re=T[Symbol.iterator](),ue;!($=(ue=re.next()).done)&&(w.push(ue.value),!(v&&w.length===v));$=!0);}catch(Te){Y=!0,oe=Te}finally{try{!$&&re.return!=null&&re.return()}finally{if(Y)throw oe}}return w}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}class o{constructor(v){this.value=v}valueOf(){return this.value}}class l extends o{constructor(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"???";super(v)}toString(v){return"{".concat(this.value,"}")}}class c extends o{constructor(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(v);this.opts=w}toString(v){try{var w=v.memoizeIntlObject(Intl.NumberFormat,this.opts);return w.format(this.value)}catch($){return v.reportError($),this.value.toString(10)}}}class f extends o{constructor(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(v);this.opts=w}toString(v){try{var w=v.memoizeIntlObject(Intl.DateTimeFormat,this.opts);return w.format(this.value)}catch($){return v.reportError($),new Date(this.value).toISOString()}}}var d=100,p="\u2068",m="\u2069";function h(T,v,w){if(w===v||w instanceof c&&v instanceof c&&w.value===v.value)return!0;if(v instanceof c&&typeof w=="string"){var $=T.memoizeIntlObject(Intl.PluralRules,v.opts).select(v.value);if(w===$)return!0}return!1}function g(T,v,w){return v[w]?P(T,v[w].value):(T.reportError(new RangeError("No default")),new l)}function y(T,v){var w=[],$=Object.create(null),Y=!0,oe=!1,re=void 0;try{for(var ue=v[Symbol.iterator](),Te;!(Y=(Te=ue.next()).done);Y=!0){var He=Te.value;He.type==="narg"?$[He.name]=x(T,He.value):w.push(x(T,He))}}catch(vr){oe=!0,re=vr}finally{try{!Y&&ue.return!=null&&ue.return()}finally{if(oe)throw re}}return{positional:w,named:$}}function x(T,v){switch(v.type){case"str":return v.value;case"num":return new c(v.value,{minimumFractionDigits:v.precision});case"var":return k(T,v);case"mesg":return j(T,v);case"term":return q(T,v);case"func":return b(T,v);case"select":return _(T,v);default:return new l}}function k(T,v){var w=v.name,$;if(T.params)if(Object.prototype.hasOwnProperty.call(T.params,w))$=T.params[w];else return new l("$".concat(w));else if(T.args&&Object.prototype.hasOwnProperty.call(T.args,w))$=T.args[w];else return T.reportError(new ReferenceError("Unknown variable: $".concat(w))),new l("$".concat(w));if($ instanceof o)return $;switch(typeof $){case"string":return $;case"number":return new c($);case"object":if($ instanceof Date)return new f($.getTime());default:return T.reportError(new TypeError("Variable type not supported: $".concat(w,", ").concat(typeof $))),new l("$".concat(w))}}function j(T,v){var w=v.name,$=v.attr,Y=T.bundle._messages.get(w);if(!Y)return T.reportError(new ReferenceError("Unknown message: ".concat(w))),new l(w);if($){var oe=Y.attributes[$];return oe?P(T,oe):(T.reportError(new ReferenceError("Unknown attribute: ".concat($))),new l("".concat(w,".").concat($)))}return Y.value?P(T,Y.value):(T.reportError(new ReferenceError("No value: ".concat(w))),new l(w))}function q(T,v){var w=v.name,$=v.attr,Y=v.args,oe="-".concat(w),re=T.bundle._terms.get(oe);if(!re)return T.reportError(new ReferenceError("Unknown term: ".concat(oe))),new l(oe);if($){var ue=re.attributes[$];if(ue){T.params=y(T,Y).named;var Te=P(T,ue);return T.params=null,Te}return T.reportError(new ReferenceError("Unknown attribute: ".concat($))),new l("".concat(oe,".").concat($))}T.params=y(T,Y).named;var He=P(T,re.value);return T.params=null,He}function b(T,v){var w=v.name,$=v.args,Y=T.bundle._functions[w];if(!Y)return T.reportError(new ReferenceError("Unknown function: ".concat(w,"()"))),new l("".concat(w,"()"));if(typeof Y!="function")return T.reportError(new TypeError("Function ".concat(w,"() is not callable"))),new l("".concat(w,"()"));try{var oe=y(T,$);return Y(oe.positional,oe.named)}catch(re){return T.reportError(re),new l("".concat(w,"()"))}}function _(T,v){var w=v.selector,$=v.variants,Y=v.star,oe=x(T,w);if(oe instanceof l)return g(T,$,Y);var re=!0,ue=!1,Te=void 0;try{for(var He=$[Symbol.iterator](),vr;!(re=(vr=He.next()).done);re=!0){var cn=vr.value,Jn=x(T,cn.key);if(h(T,oe,Jn))return P(T,cn.value)}}catch(Ji){ue=!0,Te=Ji}finally{try{!re&&He.return!=null&&He.return()}finally{if(ue)throw Te}}return g(T,$,Y)}function D(T,v){if(T.dirty.has(v))return T.reportError(new RangeError("Cyclic reference")),new l;T.dirty.add(v);var w=[],$=T.bundle._useIsolating&&v.length>1,Y=!0,oe=!1,re=void 0;try{for(var ue=v[Symbol.iterator](),Te;!(Y=(Te=ue.next()).done);Y=!0){var He=Te.value;if(typeof He=="string"){w.push(T.bundle._transform(He));continue}if(T.placeables++,T.placeables>d)throw T.dirty.delete(v),new RangeError("Too many placeables expanded: ".concat(T.placeables,", ")+"max allowed is ".concat(d));$&&w.push(p),w.push(x(T,He).toString(T)),$&&w.push(m)}}catch(vr){oe=!0,re=vr}finally{try{!Y&&ue.return!=null&&ue.return()}finally{if(oe)throw re}}return T.dirty.delete(v),w.join("")}function P(T,v){return typeof v=="string"?T.bundle._transform(v):D(T,v)}class K{constructor(v,w,$){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=v,this.errors=w,this.args=$}reportError(v){if(!this.errors)throw v;this.errors.push(v)}memoizeIntlObject(v,w){var $=this.bundle._intls.get(v);$||($={},this.bundle._intls.set(v,$));var Y=JSON.stringify(w);return $[Y]||($[Y]=new v(this.bundle.locales,w)),$[Y]}}function N(T,v){for(var w=Object.create(null),$=0,Y=Object.entries(T);$<Y.length;$++){var oe=i(Y[$],2),re=oe[0],ue=oe[1];v.includes(re)&&(w[re]=ue.valueOf())}return w}var F=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function C(T,v){var w=T[0];if(w instanceof l)return new l("NUMBER(".concat(w.valueOf(),")"));if(w instanceof c||w instanceof f)return new c(w.valueOf(),n({},w.opts,{},N(v,F)));throw new TypeError("Invalid argument to NUMBER")}var ae=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Oe(T,v){var w=T[0];if(w instanceof l)return new l("DATETIME(".concat(w.valueOf(),")"));if(w instanceof c||w instanceof f)return new f(w.valueOf(),n({},w.opts,{},N(v,ae)));throw new TypeError("Invalid argument to DATETIME")}class We{constructor(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=w.functions,Y=w.useIsolating,oe=Y===void 0?!0:Y,re=w.transform,ue=re===void 0?Te=>Te:re;this._terms=new Map,this._messages=new Map,this._intls=new WeakMap,this.locales=Array.isArray(v)?v:[v],this._functions=n({NUMBER:C,DATETIME:Oe},$),this._useIsolating=oe,this._transform=ue}hasMessage(v){return this._messages.has(v)}getMessage(v){return this._messages.get(v)}addResource(v){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=w.allowOverrides,Y=$===void 0?!1:$,oe=[],re=0;re<v.body.length;re++){var ue=v.body[re];if(ue.id.startsWith("-")){if(Y===!1&&this._terms.has(ue.id)){oe.push(new Error('Attempt to override an existing term: "'.concat(ue.id,'"')));continue}this._terms.set(ue.id,ue)}else{if(Y===!1&&this._messages.has(ue.id)){oe.push(new Error('Attempt to override an existing message: "'.concat(ue.id,'"')));continue}this._messages.set(ue.id,ue)}}return oe}formatPattern(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof v=="string")return this._transform(v);var Y=new K(this,$,w);try{var oe=D(Y,v);return oe.toString(Y)}catch(re){if(Y.errors)return Y.errors.push(re),new l().toString(Y);throw re}}}var Fe=/^(-?[a-zA-Z][\w-]*) *= */gm,Ue=/\.([a-zA-Z][\w-]*) *= */y,Ee=/\*?\[/y,et=/(-?[0-9]+(?:\.([0-9]+))?)/y,tr=/([a-zA-Z][\w-]*)/y,rr=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,nr=/^[A-Z][A-Z0-9_-]*$/,qe=/([^{}\n\r]+)/y,ir=/([^\\"\n\r]*)/y,kt=/\\([\\"])/y,jt=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,hr=/^\n+/,H=/ +$/,he=/ *\r?\n/g,xe=/( *)$/,gr=/{\s*/y,yr=/\s*}/y,xr=/\[\s*/y,Is=/\s*] */y,Yn=/\s*\(\s*/y,qs=/\s*->\s*/y,Vn=/\s*:\s*/y,Kn=/\s*,?\s*/y,Py=/\s+/y;class By{constructor(v){this.body=[],Fe.lastIndex=0;for(var w=0;;){var $=Fe.exec(v);if($===null)break;w=Fe.lastIndex;try{this.body.push(He($[1]))}catch(B){if(B instanceof SyntaxError)continue;throw B}}function Y(B){return B.lastIndex=w,B.test(v)}function oe(B,ee){if(v[w]===B)return w++,!0;if(ee)throw new ee("Expected ".concat(B));return!1}function re(B,ee){if(Y(B))return w=B.lastIndex,!0;if(ee)throw new ee("Expected ".concat(B.toString()));return!1}function ue(B){B.lastIndex=w;var ee=B.exec(v);if(ee===null)throw new SyntaxError("Expected ".concat(B.toString()));return w=B.lastIndex,ee}function Te(B){return ue(B)[1]}function He(B){var ee=cn(),be=vr();if(ee===null&&Object.keys(be).length===0)throw new SyntaxError("Expected message value or attributes");return{id:B,value:ee,attributes:be}}function vr(){for(var B=Object.create(null);Y(Ue);){var ee=Te(Ue),be=cn();if(be===null)throw new SyntaxError("Expected attribute value");B[ee]=be}return B}function cn(){var B;if(Y(qe)&&(B=Te(qe)),v[w]==="{"||v[w]==="}")return Jn(B?[B]:[],Infinity);var ee=fl();return ee?B?Jn([B,ee],ee.length):(ee.value=Ms(ee.value,hr),Jn([ee],ee.length)):B?Ms(B,H):null}function Jn(){for(var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ee=arguments.length>1?arguments[1]:void 0;;){if(Y(qe)){B.push(Te(qe));continue}if(v[w]==="{"){B.push(Ji());continue}if(v[w]==="}")throw new SyntaxError("Unbalanced closing brace");var be=fl();if(be){B.push(be),ee=Math.min(ee,be.length);continue}break}var Ye=B.length-1,tt=B[Ye];typeof tt=="string"&&(B[Ye]=Ms(tt,H));var br=[],fn=!0,pl=!1,ml=void 0;try{for(var Fs=B[Symbol.iterator](),hl;!(fn=(hl=Fs.next()).done);fn=!0){var dn=hl.value;dn instanceof al&&(dn=dn.value.slice(0,dn.value.length-ee)),dn&&br.push(dn)}}catch(Yy){pl=!0,ml=Yy}finally{try{!fn&&Fs.return!=null&&Fs.return()}finally{if(pl)throw ml}}return br}function Ji(){re(gr,SyntaxError);var B=ul();if(re(yr))return B;if(re(qs)){var ee=zy();return re(yr,SyntaxError),n({type:"select",selector:B},ee)}throw new SyntaxError("Unclosed placeable")}function ul(){if(v[w]==="{")return Ji();if(Y(rr)){var B=ue(rr),ee=i(B,4),be=ee[1],Ye=ee[2],tt=ee[3],br=tt===void 0?null:tt;if(be==="$")return{type:"var",name:Ye};if(re(Yn)){var fn=$y();if(be==="-")return{type:"term",name:Ye,attr:br,args:fn};if(nr.test(Ye))return{type:"func",name:Ye,args:fn};throw new SyntaxError("Function names must be all upper-case")}return be==="-"?{type:"term",name:Ye,attr:br,args:[]}:{type:"mesg",name:Ye,attr:br}}return ll()}function $y(){for(var B=[];;){switch(v[w]){case")":return w++,B;case void 0:throw new SyntaxError("Unclosed argument list")}B.push(Gy()),re(Kn)}}function Gy(){var B=ul();return B.type!=="mesg"?B:re(Vn)?{type:"narg",name:B.name,value:ll()}:B}function zy(){for(var B=[],ee=0,be;Y(Ee);){oe("*")&&(be=ee);var Ye=Wy(),tt=cn();if(tt===null)throw new SyntaxError("Expected variant value");B[ee++]={key:Ye,value:tt}}if(ee===0)return null;if(be===void 0)throw new SyntaxError("Expected default variant");return{variants:B,star:be}}function Wy(){re(xr,SyntaxError);var B;return Y(et)?B=cl():B={type:"str",value:Te(tr)},re(Is,SyntaxError),B}function ll(){if(Y(et))return cl();if(v[w]==='"')return Uy();throw new SyntaxError("Invalid expression")}function cl(){var B=ue(et),ee=i(B,3),be=ee[1],Ye=ee[2],tt=Ye===void 0?"":Ye,br=tt.length;return{type:"num",value:parseFloat(be),precision:br}}function Uy(){oe('"',SyntaxError);for(var B="";;){if(B+=Te(ir),v[w]==="\\"){B+=Hy();continue}if(oe('"'))return{type:"str",value:B};throw new SyntaxError("Unclosed string literal")}}function Hy(){if(Y(kt))return Te(kt);if(Y(jt)){var B=ue(jt),ee=i(B,3),be=ee[1],Ye=ee[2],tt=parseInt(be||Ye,16);return tt<=55295||57344<=tt?String.fromCodePoint(tt):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function fl(){var B=w;switch(re(Py),v[w]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return dl(v.slice(B,w))}return v[w-1]===" "?dl(v.slice(B,w)):!1}function Ms(B,ee){return B.replace(ee,"")}function dl(B){var ee=B.replace(he,`
`),be=xe.exec(B)[1].length;return new al(ee,be)}}}class al{constructor(v,w){this.value=v,this.length=w}}e.FluentBundle=We,e.FluentDateTime=f,e.FluentNumber=c,e.FluentResource=By,e.FluentType=o,Object.defineProperty(e,"__esModule",{value:!0})})});var ea=Q((kk,Mf)=>{"use strict";Mf.exports=Px;function Px(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,o){r[n]=function(c){if(s)if(s=!1,c)o(c);else{for(var f=new Array(arguments.length-1),d=0;d<f.length;)f[d++]=arguments[d];a.apply(null,f)}};try{e.apply(t||null,r)}catch(l){s&&(s=!1,o(l))}})}});var Bf=Q(Ff=>{"use strict";var yo=Ff;yo.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Cn=new Array(64),Lf=new Array(123);for(var Pt=0;Pt<64;)Lf[Cn[Pt]=Pt<26?Pt+65:Pt<52?Pt+71:Pt<62?Pt-4:Pt-59|43]=Pt++;yo.encode=function(t,r,n){for(var i=null,s=[],u=0,a=0,o;r<n;){var l=t[r++];switch(a){case 0:s[u++]=Cn[l>>2],o=(l&3)<<4,a=1;break;case 1:s[u++]=Cn[o|l>>4],o=(l&15)<<2,a=2;break;case 2:s[u++]=Cn[o|l>>6],s[u++]=Cn[l&63],a=0;break}u>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),u=0)}return a&&(s[u++]=Cn[o],s[u++]=61,a===1&&(s[u++]=61)),i?(u&&i.push(String.fromCharCode.apply(String,s.slice(0,u))),i.join("")):String.fromCharCode.apply(String,s.slice(0,u))};var Pf="invalid encoding";yo.decode=function(t,r,n){for(var i=n,s=0,u,a=0;a<t.length;){var o=t.charCodeAt(a++);if(o===61&&s>1)break;if((o=Lf[o])===void 0)throw Error(Pf);switch(s){case 0:u=o,s=1;break;case 1:r[n++]=u<<2|(o&48)>>4,u=o,s=2;break;case 2:r[n++]=(u&15)<<4|(o&60)>>2,u=o,s=3;break;case 3:r[n++]=(u&3)<<6|o,s=0;break}}if(s===1)throw Error(Pf);return n-i};yo.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var Gf=Q((Tk,$f)=>{"use strict";$f.exports=xo;function xo(){this._listeners={}}xo.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};xo.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};xo.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Kf=Q((Ck,zf)=>{"use strict";zf.exports=Wf(Wf);function Wf(e){return typeof Float32Array!="undefined"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(o,l,c){t[0]=o,l[c]=r[0],l[c+1]=r[1],l[c+2]=r[2],l[c+3]=r[3]}function s(o,l,c){t[0]=o,l[c]=r[3],l[c+1]=r[2],l[c+2]=r[1],l[c+3]=r[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i;function u(o,l){return r[0]=o[l],r[1]=o[l+1],r[2]=o[l+2],r[3]=o[l+3],t[0]}function a(o,l){return r[3]=o[l],r[2]=o[l+1],r[1]=o[l+2],r[0]=o[l+3],t[0]}e.readFloatLE=n?u:a,e.readFloatBE=n?a:u}():function(){function t(n,i,s,u){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,u);else if(isNaN(i))n(2143289344,s,u);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,u);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,u);else{var o=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-o)*8388608)&8388607;n((a<<31|o+127<<23|l)>>>0,s,u)}}e.writeFloatLE=t.bind(null,Uf),e.writeFloatBE=t.bind(null,Hf);function r(n,i,s){var u=n(i,s),a=(u>>31)*2+1,o=u>>>23&255,l=u&8388607;return o===255?l?NaN:a*Infinity:o===0?a*1401298464324817e-60*l:a*Math.pow(2,o-150)*(l+8388608)}e.readFloatLE=r.bind(null,Yf),e.readFloatBE=r.bind(null,Vf)}(),typeof Float64Array!="undefined"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(o,l,c){t[0]=o,l[c]=r[0],l[c+1]=r[1],l[c+2]=r[2],l[c+3]=r[3],l[c+4]=r[4],l[c+5]=r[5],l[c+6]=r[6],l[c+7]=r[7]}function s(o,l,c){t[0]=o,l[c]=r[7],l[c+1]=r[6],l[c+2]=r[5],l[c+3]=r[4],l[c+4]=r[3],l[c+5]=r[2],l[c+6]=r[1],l[c+7]=r[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i;function u(o,l){return r[0]=o[l],r[1]=o[l+1],r[2]=o[l+2],r[3]=o[l+3],r[4]=o[l+4],r[5]=o[l+5],r[6]=o[l+6],r[7]=o[l+7],t[0]}function a(o,l){return r[7]=o[l],r[6]=o[l+1],r[5]=o[l+2],r[4]=o[l+3],r[3]=o[l+4],r[2]=o[l+5],r[1]=o[l+6],r[0]=o[l+7],t[0]}e.readDoubleLE=n?u:a,e.readDoubleBE=n?a:u}():function(){function t(n,i,s,u,a,o){var l=u<0?1:0;if(l&&(u=-u),u===0)n(0,a,o+i),n(1/u>0?0:2147483648,a,o+s);else if(isNaN(u))n(0,a,o+i),n(2146959360,a,o+s);else if(u>17976931348623157e292)n(0,a,o+i),n((l<<31|2146435072)>>>0,a,o+s);else{var c;if(u<22250738585072014e-324)c=u/5e-324,n(c>>>0,a,o+i),n((l<<31|c/4294967296)>>>0,a,o+s);else{var f=Math.floor(Math.log(u)/Math.LN2);f===1024&&(f=1023),c=u*Math.pow(2,-f),n(c*4503599627370496>>>0,a,o+i),n((l<<31|f+1023<<20|c*1048576&1048575)>>>0,a,o+s)}}}e.writeDoubleLE=t.bind(null,Uf,0,4),e.writeDoubleBE=t.bind(null,Hf,4,0);function r(n,i,s,u,a){var o=n(u,a+i),l=n(u,a+s),c=(l>>31)*2+1,f=l>>>20&2047,d=4294967296*(l&1048575)+o;return f===2047?d?NaN:c*Infinity:f===0?c*5e-324*d:c*Math.pow(2,f-1075)*(d+4503599627370496)}e.readDoubleLE=r.bind(null,Yf,0,4),e.readDoubleBE=r.bind(null,Vf,4,0)}(),e}function Uf(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function Hf(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function Yf(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Vf(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var ta=Q((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Xf=Q(Jf=>{"use strict";var ra=Jf;ra.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(t.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};ra.read=function(t,r,n){var i=n-r;if(i<1)return"";for(var s=null,u=[],a=0,o;r<n;)o=t[r++],o<128?u[a++]=o:o>191&&o<224?u[a++]=(o&31)<<6|t[r++]&63:o>239&&o<365?(o=((o&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,u[a++]=55296+(o>>10),u[a++]=56320+(o&1023)):u[a++]=(o&15)<<12|(t[r++]&63)<<6|t[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,u)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,u.slice(0,a))),s.join("")):String.fromCharCode.apply(String,u.slice(0,a))};ra.write=function(t,r,n){for(var i=n,s,u,a=0;a<t.length;++a)s=t.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)==55296&&((u=t.charCodeAt(a+1))&64512)==56320?(s=65536+((s&1023)<<10)+(u&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var Zf=Q((Ak,Qf)=>{"use strict";Qf.exports=Bx;function Bx(e,t,r){var n=r||8192,i=n>>>1,s=null,u=n;return function(o){if(o<1||o>i)return e(o);u+o>n&&(s=e(n),u=0);var l=t.call(s,u,u+=o);return u&7&&(u=(u|7)+1),l}}});var td=Q((Ek,ed)=>{"use strict";ed.exports=Me;var ri=Bt();function Me(e,t){this.lo=e>>>0,this.hi=t>>>0}var Gr=Me.zero=new Me(0,0);Gr.toNumber=function(){return 0};Gr.zzEncode=Gr.zzDecode=function(){return this};Gr.length=function(){return 1};var $x=Me.zeroHash="\0\0\0\0\0\0\0\0";Me.fromNumber=function(t){if(t===0)return Gr;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Me(n,i)};Me.from=function(t){if(typeof t=="number")return Me.fromNumber(t);if(ri.isString(t))if(ri.Long)t=ri.Long.fromString(t);else return Me.fromNumber(parseInt(t,10));return t.low||t.high?new Me(t.low>>>0,t.high>>>0):Gr};Me.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Me.prototype.toLong=function(t){return ri.Long?new ri.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var Cr=String.prototype.charCodeAt;Me.fromHash=function(t){return t===$x?Gr:new Me((Cr.call(t,0)|Cr.call(t,1)<<8|Cr.call(t,2)<<16|Cr.call(t,3)<<24)>>>0,(Cr.call(t,4)|Cr.call(t,5)<<8|Cr.call(t,6)<<16|Cr.call(t,7)<<24)>>>0)};Me.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Me.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Me.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Me.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Bt=Q(na=>{"use strict";var V=na;V.asPromise=ea();V.base64=Bf();V.EventEmitter=Gf();V.float=Kf();V.inquire=ta();V.utf8=Xf();V.pool=Zf();V.LongBits=td();V.isNode=Boolean(typeof global!="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);V.global=V.isNode&&global||typeof window!="undefined"&&window||typeof self!="undefined"&&self||na;V.emptyArray=Object.freeze?Object.freeze([]):[];V.emptyObject=Object.freeze?Object.freeze({}):{};V.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};V.isString=function(t){return typeof t=="string"||t instanceof String};V.isObject=function(t){return t&&typeof t=="object"};V.isset=V.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};V.Buffer=function(){try{var e=V.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}();V._Buffer_from=null;V._Buffer_allocUnsafe=null;V.newBuffer=function(t){return typeof t=="number"?V.Buffer?V._Buffer_allocUnsafe(t):new V.Array(t):V.Buffer?V._Buffer_from(t):typeof Uint8Array=="undefined"?t:new Uint8Array(t)};V.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;V.Long=V.global.dcodeIO&&V.global.dcodeIO.Long||V.global.Long||V.inquire("long");V.key2Re=/^true|false|0|1$/;V.key32Re=/^-?(?:0|[1-9][0-9]*)$/;V.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;V.longToHash=function(t){return t?V.LongBits.from(t).toHash():V.LongBits.zeroHash};V.longFromHash=function(t,r){var n=V.LongBits.fromHash(t);return V.Long?V.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function rd(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!r)&&(e[n[i]]=t[n[i]]);return e}V.merge=rd;V.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function nd(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&rd(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}V.newError=nd;V.ProtocolError=nd("ProtocolError");V.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};V.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};V.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};V._configure=function(){var e=V.Buffer;if(!e){V._Buffer_from=V._Buffer_allocUnsafe=null;return}V._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},V._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var bo=Q((Nk,id)=>{"use strict";id.exports=ce;var pt=Bt(),ia,vo=pt.LongBits,od=pt.base64,sd=pt.utf8;function ni(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function oa(){}function Gx(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function ce(){this.len=0,this.head=new ni(oa,0,0),this.tail=this.head,this.states=null}var ad=function(){return pt.Buffer?function(){return(ce.create=function(){return new ia})()}:function(){return new ce}};ce.create=ad();ce.alloc=function(t){return new pt.Array(t)};pt.Array!==Array&&(ce.alloc=pt.pool(ce.alloc,pt.Array.prototype.subarray));ce.prototype._push=function(t,r,n){return this.tail=this.tail.next=new ni(t,r,n),this.len+=r,this};function sa(e,t,r){t[r]=e&255}function zx(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function aa(e,t){this.len=e,this.next=void 0,this.val=t}aa.prototype=Object.create(ni.prototype);aa.prototype.fn=zx;ce.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new aa((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};ce.prototype.int32=function(t){return t<0?this._push(ua,10,vo.fromNumber(t)):this.uint32(t)};ce.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function ua(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}ce.prototype.uint64=function(t){var r=vo.from(t);return this._push(ua,r.length(),r)};ce.prototype.int64=ce.prototype.uint64;ce.prototype.sint64=function(t){var r=vo.from(t).zzEncode();return this._push(ua,r.length(),r)};ce.prototype.bool=function(t){return this._push(sa,1,t?1:0)};function la(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}ce.prototype.fixed32=function(t){return this._push(la,4,t>>>0)};ce.prototype.sfixed32=ce.prototype.fixed32;ce.prototype.fixed64=function(t){var r=vo.from(t);return this._push(la,4,r.lo)._push(la,4,r.hi)};ce.prototype.sfixed64=ce.prototype.fixed64;ce.prototype.float=function(t){return this._push(pt.float.writeFloatLE,4,t)};ce.prototype.double=function(t){return this._push(pt.float.writeDoubleLE,8,t)};var Wx=pt.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};ce.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(sa,1,0);if(pt.isString(t)){var n=ce.alloc(r=od.length(t));od.decode(t,n,0),t=n}return this.uint32(r)._push(Wx,r,t)};ce.prototype.string=function(t){var r=sd.length(t);return r?this.uint32(r)._push(sd.write,r,t):this._push(sa,1,0)};ce.prototype.fork=function(){return this.states=new Gx(this),this.head=this.tail=new ni(oa,0,0),this.len=0,this};ce.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ni(oa,0,0),this.len=0),this};ce.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};ce.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};ce._configure=function(e){ia=e,ce.create=ad(),ia._configure()}});var cd=Q((Ok,ud)=>{"use strict";ud.exports=$t;var ld=bo();($t.prototype=Object.create(ld.prototype)).constructor=$t;var Rr=Bt();function $t(){ld.call(this)}$t._configure=function(){$t.alloc=Rr._Buffer_allocUnsafe,$t.writeBytesBuffer=Rr.Buffer&&Rr.Buffer.prototype instanceof Uint8Array&&Rr.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};$t.prototype.bytes=function(t){Rr.isString(t)&&(t=Rr._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push($t.writeBytesBuffer,r,t),this};function Ux(e,t,r){e.length<40?Rr.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}$t.prototype.string=function(t){var r=Rr.Buffer.byteLength(t);return this.uint32(r),r&&this._push(Ux,r,t),this};$t._configure()});var _o=Q((jk,fd)=>{"use strict";fd.exports=Ce;var Gt=Bt(),ca,dd=Gt.LongBits,Hx=Gt.utf8;function Tt(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Ce(e){this.buf=e,this.pos=0,this.len=e.length}var pd=typeof Uint8Array!="undefined"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Ce(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Ce(t);throw Error("illegal buffer")},md=function(){return Gt.Buffer?function(r){return(Ce.create=function(i){return Gt.Buffer.isBuffer(i)?new ca(i):pd(i)})(r)}:pd};Ce.create=md();Ce.prototype._slice=Gt.Array.prototype.subarray||Gt.Array.prototype.slice;Ce.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Tt(this,10);return t}}();Ce.prototype.int32=function(){return this.uint32()|0};Ce.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function fa(){var e=new dd(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Tt(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Tt(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Ce.prototype.bool=function(){return this.uint32()!==0};function wo(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}Ce.prototype.fixed32=function(){if(this.pos+4>this.len)throw Tt(this,4);return wo(this.buf,this.pos+=4)};Ce.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Tt(this,4);return wo(this.buf,this.pos+=4)|0};function hd(){if(this.pos+8>this.len)throw Tt(this,8);return new dd(wo(this.buf,this.pos+=4),wo(this.buf,this.pos+=4))}Ce.prototype.float=function(){if(this.pos+4>this.len)throw Tt(this,4);var t=Gt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Ce.prototype.double=function(){if(this.pos+8>this.len)throw Tt(this,4);var t=Gt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Ce.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Tt(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Ce.prototype.string=function(){var t=this.bytes();return Hx.read(t,0,t.length)};Ce.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Tt(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Tt(this);while(this.buf[this.pos++]&128);return this};Ce.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Ce._configure=function(e){ca=e,Ce.create=md(),ca._configure();var t=Gt.Long?"toLong":"toNumber";Gt.merge(Ce.prototype,{int64:function(){return fa.call(this)[t](!1)},uint64:function(){return fa.call(this)[t](!0)},sint64:function(){return fa.call(this).zzDecode()[t](!1)},fixed64:function(){return hd.call(this)[t](!0)},sfixed64:function(){return hd.call(this)[t](!1)}})}});var vd=Q((Ik,gd)=>{"use strict";gd.exports=zr;var yd=_o();(zr.prototype=Object.create(yd.prototype)).constructor=zr;var xd=Bt();function zr(e){yd.call(this,e)}zr._configure=function(){xd.Buffer&&(zr.prototype._slice=xd.Buffer.prototype.slice)};zr.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};zr._configure()});var wd=Q((qk,bd)=>{"use strict";bd.exports=ii;var da=Bt();(ii.prototype=Object.create(da.EventEmitter.prototype)).constructor=ii;function ii(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");da.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}ii.prototype.rpcCall=function e(t,r,n,i,s){if(!i)throw TypeError("request must be specified");var u=this;if(!s)return da.asPromise(e,u,t,r,n,i);if(!u.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return u.rpcImpl(t,r[u.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(o,l){if(o)return u.emit("error",o,t),s(o);if(l===null){u.end(!0);return}if(!(l instanceof n))try{l=n[u.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return u.emit("error",c,t),s(c)}return u.emit("data",l,t),s(null,l)})}catch(a){u.emit("error",a,t),setTimeout(function(){s(a)},0);return}};ii.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var pa=Q(_d=>{"use strict";var Yx=_d;Yx.Service=wd()});var ma=Q((Fk,kd)=>{"use strict";kd.exports={}});var Cd=Q(Sd=>{"use strict";var rt=Sd;rt.build="minimal";rt.Writer=bo();rt.BufferWriter=cd();rt.Reader=_o();rt.BufferReader=vd();rt.util=Bt();rt.rpc=pa();rt.roots=ma();rt.configure=Td;function Td(){rt.util._configure(),rt.Writer._configure(rt.BufferWriter),rt.Reader._configure(rt.BufferReader)}Td()});var Ad=Q((Pk,Rd)=>{"use strict";Rd.exports=ha;function ha(e,t){typeof e=="string"&&(t=e,e=void 0);var r=[];function n(s){if(typeof s!="string"){var u=i();if(ha.verbose&&console.log("codegen: "+u),u="return "+u,s){for(var a=Object.keys(s),o=new Array(a.length+1),l=new Array(a.length),c=0;c<a.length;)o[c]=a[c],l[c]=s[a[c++]];return o[c]=u,Function.apply(null,o).apply(null,l)}return Function(u)()}for(var f=new Array(arguments.length-1),d=0;d<f.length;)f[d]=arguments[++d];if(d=0,s=s.replace(/%([%dfijs])/g,function(m,h){var g=f[d++];switch(h){case"d":case"f":return String(Number(g));case"i":return String(Math.floor(g));case"j":return JSON.stringify(g);case"s":return String(g)}return"%"}),d!==f.length)throw Error("parameter count mismatch");return r.push(s),n}function i(s){return"function "+(s||t||"")+"("+(e&&e.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return n.toString=i,n}ha.verbose=!1});var Dd=Q((Bk,Ed)=>{"use strict";Ed.exports=oi;var Vx=ea(),Kx=ta(),ga=Kx("fs");function oi(e,t,r){return typeof t=="function"?(r=t,t={}):t||(t={}),r?!t.xhr&&ga&&ga.readFile?ga.readFile(e,function(i,s){return i&&typeof XMLHttpRequest!="undefined"?oi.xhr(e,t,r):i?r(i):r(null,t.binary?s:s.toString("utf8"))}):oi.xhr(e,t,r):Vx(oi,this,e,t)}oi.xhr=function(t,r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return n(Error("status "+i.status));if(r.binary){var u=i.response;if(!u){u=[];for(var a=0;a<i.responseText.length;++a)u.push(i.responseText.charCodeAt(a)&255)}return n(null,typeof Uint8Array!="undefined"?new Uint8Array(u):u)}return n(null,i.responseText)}},r.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",t),i.send()}});var jd=Q(Nd=>{"use strict";var ya=Nd,Od=ya.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},xa=ya.normalize=function(t){t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=t.split("/"),n=Od(t),i="";n&&(i=r.shift()+"/");for(var s=0;s<r.length;)r[s]===".."?s>0&&r[s-1]!==".."?r.splice(--s,2):n?r.splice(s,1):++s:r[s]==="."?r.splice(s,1):++s;return i+r.join("/")};ya.resolve=function(t,r,n){return n||(r=xa(r)),Od(r)?r:(n||(t=xa(t)),(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?xa(t+"/"+r):r)}});var Rn=Q(Id=>{"use strict";var si=Id,Jx=Pe(),Xx=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function ai(e,t){var r=0,n={};for(t|=0;r<e.length;)n[Xx[r+t]]=e[r++];return n}si.basic=ai([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);si.defaults=ai([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Jx.emptyArray,null]);si.long=ai([0,0,0,1,1],7);si.mapKey=ai([0,0,0,5,5,0,0,0,1,1,0,2],2);si.packed=ai([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Ur=Q((zk,qd)=>{"use strict";qd.exports=mt;var ko=Wr();((mt.prototype=Object.create(ko.prototype)).constructor=mt).className="Field";var Md=zt(),Fd=Rn(),De=Pe(),va,Qx=/^required|optional|repeated$/;mt.fromJSON=function(t,r){return new mt(t,r.id,r.type,r.rule,r.extend,r.options,r.comment)};function mt(e,t,r,n,i,s,u){if(De.isObject(n)?(u=i,s=n,n=i=void 0):De.isObject(i)&&(u=s,s=i,i=void 0),ko.call(this,e,s),!De.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!De.isString(r))throw TypeError("type must be a string");if(n!==void 0&&!Qx.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!De.isString(i))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=De.Long?Fd.long[r]!==void 0:!1,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}Object.defineProperty(mt.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});mt.prototype.setOption=function(t,r,n){return t==="packed"&&(this._packed=null),ko.prototype.setOption.call(this,t,r,n)};mt.prototype.toJSON=function(t){var r=t?Boolean(t.keepComments):!1;return De.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};mt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Fd.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof va?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Md&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Md))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=De.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var t;De.base64.test(this.typeDefault)?De.base64.decode(this.typeDefault,t=De.newBuffer(De.base64.length(this.typeDefault)),0):De.utf8.write(this.typeDefault,t=De.newBuffer(De.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=De.emptyObject:this.repeated?this.defaultValue=De.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof va&&(this.parent.ctor.prototype[this.name]=this.defaultValue),ko.prototype.resolve.call(this)};mt.d=function(t,r,n,i){return typeof r=="function"?r=De.decorateType(r).name:r&&typeof r=="object"&&(r=De.decorateEnum(r).name),function(u,a){De.decorateType(u.constructor).add(new mt(a,t,r,n,{default:i}))}};mt._configure=function(t){va=t}});var ui=Q((Wk,Ld)=>{"use strict";Ld.exports=ht;var So=Wr();((ht.prototype=Object.create(So.prototype)).constructor=ht).className="OneOf";var Pd=Ur(),To=Pe();function ht(e,t,r,n){if(Array.isArray(t)||(r=t,t=void 0),So.call(this,e,r),!(t===void 0||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}ht.fromJSON=function(t,r){return new ht(t,r.oneof,r.options,r.comment)};ht.prototype.toJSON=function(t){var r=t?Boolean(t.keepComments):!1;return To.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function Bd(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}ht.prototype.add=function(t){if(!(t instanceof Pd))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,Bd(this),this};ht.prototype.remove=function(t){if(!(t instanceof Pd))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(t);if(r<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(t.name),r>-1&&this.oneof.splice(r,1),t.partOf=null,this};ht.prototype.onAdd=function(t){So.prototype.onAdd.call(this,t);for(var r=this,n=0;n<this.oneof.length;++n){var i=t.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=r,r.fieldsArray.push(i))}Bd(this)};ht.prototype.onRemove=function(t){for(var r=0,n;r<this.fieldsArray.length;++r)(n=this.fieldsArray[r]).parent&&n.parent.remove(n);So.prototype.onRemove.call(this,t)};ht.d=function(){for(var t=new Array(arguments.length),r=0;r<arguments.length;)t[r]=arguments[r++];return function(i,s){To.decorateType(i.constructor).add(new ht(s,t)),Object.defineProperty(i,s,{get:To.oneOfGetter(t),set:To.oneOfSetter(t)})}}});var Dn=Q((Uk,$d)=>{"use strict";$d.exports=de;var ba=Wr();((de.prototype=Object.create(ba.prototype)).constructor=de).className="Namespace";var Gd=Ur(),Zx=ui(),Co=Pe(),An,li,En;de.fromJSON=function(t,r){return new de(t,r.options).addJSON(r.nested)};function zd(e,t){if(!!(e&&e.length)){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}de.arrayToJSON=zd;de.isReservedId=function(t,r){if(t){for(var n=0;n<t.length;++n)if(typeof t[n]!="string"&&t[n][0]<=r&&t[n][1]>r)return!0}return!1};de.isReservedName=function(t,r){if(t){for(var n=0;n<t.length;++n)if(t[n]===r)return!0}return!1};function de(e,t){ba.call(this,e,t),this.nested=void 0,this._nestedArray=null}function Wd(e){return e._nestedArray=null,e}Object.defineProperty(de.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Co.toArray(this.nested))}});de.prototype.toJSON=function(t){return Co.toObject(["options",this.options,"nested",zd(this.nestedArray,t)])};de.prototype.addJSON=function(t){var r=this;if(t)for(var n=Object.keys(t),i=0,s;i<n.length;++i)s=t[n[i]],r.add((s.fields!==void 0?An.fromJSON:s.values!==void 0?En.fromJSON:s.methods!==void 0?li.fromJSON:s.id!==void 0?Gd.fromJSON:de.fromJSON)(n[i],s));return this};de.prototype.get=function(t){return this.nested&&this.nested[t]||null};de.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof En)return this.nested[t].values;throw Error("no such enum: "+t)};de.prototype.add=function(t){if(!(t instanceof Gd&&t.extend!==void 0||t instanceof An||t instanceof En||t instanceof li||t instanceof de||t instanceof Zx))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var r=this.get(t.name);if(r)if(r instanceof de&&t instanceof de&&!(r instanceof An||r instanceof li)){for(var n=r.nestedArray,i=0;i<n.length;++i)t.add(n[i]);this.remove(r),this.nested||(this.nested={}),t.setOptions(r.options,!0)}else throw Error("duplicate name '"+t.name+"' in "+this)}return this.nested[t.name]=t,t.onAdd(this),Wd(this)};de.prototype.remove=function(t){if(!(t instanceof ba))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),Wd(this)};de.prototype.define=function(t,r){if(Co.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&t[0]==="")throw Error("path must be relative");for(var n=this;t.length>0;){var i=t.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof de))throw Error("path conflicts with non-namespace objects")}else n.add(n=new de(i))}return r&&n.addJSON(r),n};de.prototype.resolveAll=function(){for(var t=this.nestedArray,r=0;r<t.length;)t[r]instanceof de?t[r++].resolveAll():t[r++].resolve();return this.resolve()};de.prototype.lookup=function(t,r,n){if(typeof r=="boolean"?(n=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),Co.isString(t)&&t.length){if(t===".")return this.root;t=t.split(".")}else if(!t.length)return this;if(t[0]==="")return this.root.lookup(t.slice(1),r);var i=this.get(t[0]);if(i){if(t.length===1){if(!r||r.indexOf(i.constructor)>-1)return i}else if(i instanceof de&&(i=i.lookup(t.slice(1),r,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof de&&(i=this._nestedArray[s].lookup(t,r,!0)))return i;return this.parent===null||n?null:this.parent.lookup(t,r)};de.prototype.lookupType=function(t){var r=this.lookup(t,[An]);if(!r)throw Error("no such type: "+t);return r};de.prototype.lookupEnum=function(t){var r=this.lookup(t,[En]);if(!r)throw Error("no such Enum '"+t+"' in "+this);return r};de.prototype.lookupTypeOrEnum=function(t){var r=this.lookup(t,[An,En]);if(!r)throw Error("no such Type or Enum '"+t+"' in "+this);return r};de.prototype.lookupService=function(t){var r=this.lookup(t,[li]);if(!r)throw Error("no such Service '"+t+"' in "+this);return r};de._configure=function(e,t,r){An=e,li=t,En=r}});var _a=Q((Hk,Ud)=>{"use strict";Ud.exports=or;var wa=Ur();((or.prototype=Object.create(wa.prototype)).constructor=or).className="MapField";var ev=Rn(),ci=Pe();function or(e,t,r,n,i,s){if(wa.call(this,e,t,n,void 0,void 0,i,s),!ci.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}or.fromJSON=function(t,r){return new or(t,r.id,r.keyType,r.type,r.options,r.comment)};or.prototype.toJSON=function(t){var r=t?Boolean(t.keepComments):!1;return ci.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};or.prototype.resolve=function(){if(this.resolved)return this;if(ev.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return wa.prototype.resolve.call(this)};or.d=function(t,r,n){return typeof n=="function"?n=ci.decorateType(n).name:n&&typeof n=="object"&&(n=ci.decorateEnum(n).name),function(s,u){ci.decorateType(s.constructor).add(new or(u,t,r,n))}}});var Sa=Q((Yk,Hd)=>{"use strict";Hd.exports=Hr;var ka=Wr();((Hr.prototype=Object.create(ka.prototype)).constructor=Hr).className="Method";var Nn=Pe();function Hr(e,t,r,n,i,s,u,a,o){if(Nn.isObject(i)?(u=i,i=s=void 0):Nn.isObject(s)&&(u=s,s=void 0),!(t===void 0||Nn.isString(t)))throw TypeError("type must be a string");if(!Nn.isString(r))throw TypeError("requestType must be a string");if(!Nn.isString(n))throw TypeError("responseType must be a string");ka.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=i?!0:void 0,this.responseType=n,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=o}Hr.fromJSON=function(t,r){return new Hr(t,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};Hr.prototype.toJSON=function(t){var r=t?Boolean(t.keepComments):!1;return Nn.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};Hr.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),ka.prototype.resolve.call(this))}});var Ca=Q((Vk,Yd)=>{"use strict";Yd.exports=gt;var Ar=Dn();((gt.prototype=Object.create(Ar.prototype)).constructor=gt).className="Service";var Ta=Sa(),fi=Pe(),tv=pa();function gt(e,t){Ar.call(this,e,t),this.methods={},this._methodsArray=null}gt.fromJSON=function(t,r){var n=new gt(t,r.options);if(r.methods)for(var i=Object.keys(r.methods),s=0;s<i.length;++s)n.add(Ta.fromJSON(i[s],r.methods[i[s]]));return r.nested&&n.addJSON(r.nested),n.comment=r.comment,n};gt.prototype.toJSON=function(t){var r=Ar.prototype.toJSON.call(this,t),n=t?Boolean(t.keepComments):!1;return fi.toObject(["options",r&&r.options||void 0,"methods",Ar.arrayToJSON(this.methodsArray,t)||{},"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};Object.defineProperty(gt.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=fi.toArray(this.methods))}});function Vd(e){return e._methodsArray=null,e}gt.prototype.get=function(t){return this.methods[t]||Ar.prototype.get.call(this,t)};gt.prototype.resolveAll=function(){for(var t=this.methodsArray,r=0;r<t.length;++r)t[r].resolve();return Ar.prototype.resolve.call(this)};gt.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof Ta?(this.methods[t.name]=t,t.parent=this,Vd(this)):Ar.prototype.add.call(this,t)};gt.prototype.remove=function(t){if(t instanceof Ta){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,Vd(this)}return Ar.prototype.remove.call(this,t)};gt.prototype.create=function(t,r,n){for(var i=new tv.Service(t,r,n),s=0,u;s<this.methodsArray.length;++s){var a=fi.lcFirst((u=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=fi.codegen(["r","c"],fi.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:u,q:u.resolvedRequestType.ctor,s:u.resolvedResponseType.ctor})}return i}});var Ro=Q((Kk,Kd)=>{"use strict";Kd.exports=Wt;var rv=Bt();function Wt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}Wt.create=function(t){return this.$type.create(t)};Wt.encode=function(t,r){return this.$type.encode(t,r)};Wt.encodeDelimited=function(t,r){return this.$type.encodeDelimited(t,r)};Wt.decode=function(t){return this.$type.decode(t)};Wt.decodeDelimited=function(t){return this.$type.decodeDelimited(t)};Wt.verify=function(t){return this.$type.verify(t)};Wt.fromObject=function(t){return this.$type.fromObject(t)};Wt.toObject=function(t,r){return this.$type.toObject(t,r)};Wt.prototype.toJSON=function(){return this.$type.toObject(this,rv.toJSONOptions)}});var Ra=Q((Jk,Jd)=>{"use strict";Jd.exports=nv;var iv=zt(),sr=Rn(),Xd=Pe();function ov(e){return"missing required '"+e.name+"'"}function nv(e){var t=Xd.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var n=e._fieldsArray[r].resolve(),i=n.resolvedType instanceof iv?"int32":n.type,s="m"+Xd.safeProp(n.name);t("case %i:",n.id),n.map?(t("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),sr.defaults[n.keyType]!==void 0?t("k=%j",sr.defaults[n.keyType]):t("k=null"),sr.defaults[i]!==void 0?t("value=%j",sr.defaults[i]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),sr.basic[i]===void 0?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",i),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),sr.long[n.keyType]!==void 0?t('%s[typeof k==="object"?util.longToHash(k):k]=value',s):t("%s[k]=value",s)):n.repeated?(t("if(!(%s&&%s.length))",s,s)("%s=[]",s),sr.packed[i]!==void 0&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),sr.basic[i]===void 0?t(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,r):t("%s.push(r.%s())",s,i)):sr.basic[i]===void 0?t(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,r):t("%s=r.%s()",s,i),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",ov(u))}return t("return m")}});var Da=Q((Xk,Qd)=>{"use strict";Qd.exports=sv;var av=zt(),Aa=Pe();function yt(e,t){return e.name+": "+t+(e.repeated&&t!=="array"?"[]":e.map&&t!=="object"?"{k:"+e.keyType+"}":"")+" expected"}function Ea(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof av){e("switch(%s){",n)("default:")("return%j",yt(t,"enum value"));for(var i=Object.keys(t.resolvedType.values),s=0;s<i.length;++s)e("case %i:",t.resolvedType.values[i[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",n)("return%j",yt(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",yt(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',n)("return%j",yt(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',n)("return%j",yt(t,"boolean"));break;case"string":e("if(!util.isString(%s))",n)("return%j",yt(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",yt(t,"buffer"));break}return e}function uv(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",yt(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",yt(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",yt(t,"boolean key"));break}return e}function sv(e){var t=Aa.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var i=0;i<e.fieldsArray.length;++i){var s=e._fieldsArray[i].resolve(),u="m"+Aa.safeProp(s.name);if(s.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,s.name),s.map)t("if(!util.isObject(%s))",u)("return%j",yt(s,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),uv(t,s,"k[i]"),Ea(t,s,i,u+"[k[i]]")("}");else if(s.repeated)t("if(!Array.isArray(%s))",u)("return%j",yt(s,"array"))("for(var i=0;i<%s.length;++i){",u),Ea(t,s,i,u+"[i]")("}");else{if(s.partOf){var a=Aa.safeProp(s.partOf.name);n[s.partOf.name]===1&&t("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),n[s.partOf.name]=1,t("p%s=1",a)}Ea(t,s,i,u)}s.optional&&t("}")}return t("return null")}});var ja=Q(Zd=>{"use strict";var ep=Zd,di=zt(),Ut=Pe();function Na(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof di){e("switch(d%s){",n);for(var i=t.resolvedType.values,s=Object.keys(i),u=0;u<s.length;++u)t.repeated&&i[s[u]]===t.typeDefault&&e("default:"),e("case%j:",s[u])("case %i:",i[s[u]])("m%s=%j",n,i[s[u]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var a=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,a)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,a?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n);break}}return e}ep.fromObject=function(t){var r=t.fieldsArray,n=Ut.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<r.length;++i){var s=r[i].resolve(),u=Ut.safeProp(s.name);s.map?(n("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),Na(n,s,i,u+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),Na(n,s,i,u+"[i]")("}")("}")):(s.resolvedType instanceof di||n("if(d%s!=null){",u),Na(n,s,i,u),s.resolvedType instanceof di||n("}"))}return n("return m")};function Oa(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof di?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n);break}}return e}ep.toObject=function(t){var r=t.fieldsArray.slice().sort(Ut.compareFieldsById);if(!r.length)return Ut.codegen()("return {}");for(var n=Ut.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],u=[],a=0;a<r.length;++a)r[a].partOf||(r[a].resolve().repeated?i:r[a].map?s:u).push(r[a]);if(i.length){for(n("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)n("d%s=[]",Ut.safeProp(i[a].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),a=0;a<s.length;++a)n("d%s={}",Ut.safeProp(s[a].name));n("}")}if(u.length){for(n("if(o.defaults){"),a=0;a<u.length;++a){var o=u[a],l=Ut.safeProp(o.name);if(o.resolvedType instanceof di)n("d%s=o.enums===String?%j:%j",l,o.resolvedType.valuesById[o.typeDefault],o.typeDefault);else if(o.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",o.typeDefault.low,o.typeDefault.high,o.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,o.typeDefault.toString(),o.typeDefault.toNumber());else if(o.bytes){var c="["+Array.prototype.slice.call(o.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,o.typeDefault))("else{")("d%s=%s",l,c)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,o.typeDefault)}n("}")}var f=!1;for(a=0;a<r.length;++a){var o=r[a],d=t._fieldsArray.indexOf(o),l=Ut.safeProp(o.name);o.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),Oa(n,o,d,l+"[ks2[j]]")("}")):o.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),Oa(n,o,d,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,o.name),Oa(n,o,d,l),o.partOf&&n("if(o.oneofs)")("d%s=%j",Ut.safeProp(o.partOf.name),o.name)),n("}")}return n("return d")}});var Ia=Q(tp=>{"use strict";var lv=tp,cv=Ro();lv[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n=e["@type"].charAt(0)==="."?e["@type"].substr(1):e["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",n="",i="";if(t&&t.json&&e.type_url&&e.value){i=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof cv){var u=e.$type.toObject(e,t),a=e.$type.fullName[0]==="."?e.$type.fullName.substr(1):e.$type.fullName;return n===""&&(n=r),i=n+a,u["@type"]=i,u}return this.toObject(e,t)}}});var Pa=Q((eS,rp)=>{"use strict";rp.exports=ye;var Ct=Dn();((ye.prototype=Object.create(Ct.prototype)).constructor=ye).className="Type";var fv=zt(),qa=ui(),Ao=Ur(),dv=_a(),pv=Ca(),Ma=Ro(),Fa=_o(),mv=bo(),Ke=Pe(),hv=La(),gv=Ra(),yv=Da(),np=ja(),xv=Ia();function ye(e,t){Ct.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(ye.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Ke.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Ke.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=ye.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof Ma||((e.prototype=new Ma).constructor=e,Ke.merge(e.prototype,t)),e.$type=e.prototype.$type=this,Ke.merge(e,Ma,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:Ke.oneOfGetter(this._oneofsArray[r].oneof),set:Ke.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}});ye.generateConstructor=function(t){for(var r=Ke.codegen(["p"],t.name),n=0,i;n<t.fieldsArray.length;++n)(i=t._fieldsArray[n]).map?r("this%s={}",Ke.safeProp(i.name)):i.repeated&&r("this%s=[]",Ke.safeProp(i.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Eo(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}ye.fromJSON=function(t,r){var n=new ye(t,r.options);n.extensions=r.extensions,n.reserved=r.reserved;for(var i=Object.keys(r.fields),s=0;s<i.length;++s)n.add((typeof r.fields[i[s]].keyType!="undefined"?dv.fromJSON:Ao.fromJSON)(i[s],r.fields[i[s]]));if(r.oneofs)for(i=Object.keys(r.oneofs),s=0;s<i.length;++s)n.add(qa.fromJSON(i[s],r.oneofs[i[s]]));if(r.nested)for(i=Object.keys(r.nested),s=0;s<i.length;++s){var u=r.nested[i[s]];n.add((u.id!==void 0?Ao.fromJSON:u.fields!==void 0?ye.fromJSON:u.values!==void 0?fv.fromJSON:u.methods!==void 0?pv.fromJSON:Ct.fromJSON)(i[s],u))}return r.extensions&&r.extensions.length&&(n.extensions=r.extensions),r.reserved&&r.reserved.length&&(n.reserved=r.reserved),r.group&&(n.group=!0),r.comment&&(n.comment=r.comment),n};ye.prototype.toJSON=function(t){var r=Ct.prototype.toJSON.call(this,t),n=t?Boolean(t.keepComments):!1;return Ke.toObject(["options",r&&r.options||void 0,"oneofs",Ct.arrayToJSON(this.oneofsArray,t),"fields",Ct.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};ye.prototype.resolveAll=function(){for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();var n=this.oneofsArray;for(r=0;r<n.length;)n[r++].resolve();return Ct.prototype.resolveAll.call(this)};ye.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null};ye.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof Ao&&t.extend===void 0){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),Eo(this)}return t instanceof qa?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),Eo(this)):Ct.prototype.add.call(this,t)};ye.prototype.remove=function(t){if(t instanceof Ao&&t.extend===void 0){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),Eo(this)}if(t instanceof qa){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),Eo(this)}return Ct.prototype.remove.call(this,t)};ye.prototype.isReservedId=function(t){return Ct.isReservedId(this.reserved,t)};ye.prototype.isReservedName=function(t){return Ct.isReservedName(this.reserved,t)};ye.prototype.create=function(t){return new this.ctor(t)};ye.prototype.setup=function(){for(var t=this.fullName,r=[],n=0;n<this.fieldsArray.length;++n)r.push(this._fieldsArray[n].resolve().resolvedType);this.encode=hv(this)({Writer:mv,types:r,util:Ke}),this.decode=gv(this)({Reader:Fa,types:r,util:Ke}),this.verify=yv(this)({types:r,util:Ke}),this.fromObject=np.fromObject(this)({types:r,util:Ke}),this.toObject=np.toObject(this)({types:r,util:Ke});var i=xv[t];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};ye.prototype.encode=function(t,r){return this.setup().encode(t,r)};ye.prototype.encodeDelimited=function(t,r){return this.encode(t,r&&r.len?r.fork():r).ldelim()};ye.prototype.decode=function(t,r){return this.setup().decode(t,r)};ye.prototype.decodeDelimited=function(t){return t instanceof Fa||(t=Fa.create(t)),this.decode(t,t.uint32())};ye.prototype.verify=function(t){return this.setup().verify(t)};ye.prototype.fromObject=function(t){return this.setup().fromObject(t)};ye.prototype.toObject=function(t,r){return this.setup().toObject(t,r)};ye.d=function(t){return function(n){Ke.decorateType(n,t)}}});var Ga=Q((tS,ip)=>{"use strict";ip.exports=st;var Do=Dn();((st.prototype=Object.create(Do.prototype)).constructor=st).className="Root";var Ba=Ur(),op=zt(),vv=ui(),Er=Pe(),sp,$a,pi;function st(e){Do.call(this,"",e),this.deferred=[],this.files=[]}st.fromJSON=function(t,r){return r||(r=new st),t.options&&r.setOptions(t.options),r.addJSON(t.nested)};st.prototype.resolvePath=Er.path.resolve;st.prototype.fetch=Er.fetch;function ap(){}st.prototype.load=function e(t,r,n){typeof r=="function"&&(n=r,r=void 0);var i=this;if(!n)return Er.asPromise(e,i,t,r);var s=n===ap;function u(p,m){if(!!n){var h=n;if(n=null,s)throw p;h(p,m)}}function a(p){var m=p.lastIndexOf("google/protobuf/");if(m>-1){var h=p.substring(m);if(h in pi)return h}return null}function o(p,m){try{if(Er.isString(m)&&m.charAt(0)==="{"&&(m=JSON.parse(m)),!Er.isString(m))i.setOptions(m.options).addJSON(m.nested);else{$a.filename=p;var h=$a(m,i,r),g,y=0;if(h.imports)for(;y<h.imports.length;++y)(g=a(h.imports[y])||i.resolvePath(p,h.imports[y]))&&l(g);if(h.weakImports)for(y=0;y<h.weakImports.length;++y)(g=a(h.weakImports[y])||i.resolvePath(p,h.weakImports[y]))&&l(g,!0)}}catch(x){u(x)}!s&&!c&&u(null,i)}function l(p,m){if(!(i.files.indexOf(p)>-1)){if(i.files.push(p),p in pi){s?o(p,pi[p]):(++c,setTimeout(function(){--c,o(p,pi[p])}));return}if(s){var h;try{h=Er.fs.readFileSync(p).toString("utf8")}catch(g){m||u(g);return}o(p,h)}else++c,i.fetch(p,function(g,y){if(--c,!!n){if(g){m?c||u(null,i):u(g);return}o(p,y)}})}}var c=0;Er.isString(t)&&(t=[t]);for(var f=0,d;f<t.length;++f)(d=i.resolvePath("",t[f]))&&l(d);if(s)return i;c||u(null,i)};st.prototype.loadSync=function(t,r){if(!Er.isNode)throw Error("not supported");return this.load(t,r,ap)};st.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return Do.prototype.resolveAll.call(this)};var No=/^[A-Za-z]/;function up(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new Ba(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}st.prototype._handleAdd=function(t){if(t instanceof Ba)t.extend!==void 0&&!t.extensionField&&(up(this,t)||this.deferred.push(t));else if(t instanceof op)No.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof vv)){if(t instanceof sp)for(var r=0;r<this.deferred.length;)up(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var n=0;n<t.nestedArray.length;++n)this._handleAdd(t._nestedArray[n]);No.test(t.name)&&(t.parent[t.name]=t)}};st.prototype._handleRemove=function(t){if(t instanceof Ba){if(t.extend!==void 0)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var r=this.deferred.indexOf(t);r>-1&&this.deferred.splice(r,1)}}else if(t instanceof op)No.test(t.name)&&delete t.parent[t.name];else if(t instanceof Do){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);No.test(t.name)&&delete t.parent[t.name]}};st._configure=function(e,t,r){sp=e,$a=t,pi=r}});var Pe=Q((rS,lp)=>{"use strict";var Re=lp.exports=Bt(),cp=ma(),za,Wa;Re.codegen=Ad();Re.fetch=Dd();Re.path=jd();Re.fs=Re.inquire("fs");Re.toArray=function(t){if(t){for(var r=Object.keys(t),n=new Array(r.length),i=0;i<r.length;)n[i]=t[r[i++]];return n}return[]};Re.toObject=function(t){for(var r={},n=0;n<t.length;){var i=t[n++],s=t[n++];s!==void 0&&(r[i]=s)}return r};var bv=/\\/g,wv=/"/g;Re.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)};Re.safeProp=function(t){return!/^[$\w_]+$/.test(t)||Re.isReserved(t)?'["'+t.replace(bv,"\\\\").replace(wv,'\\"')+'"]':"."+t};Re.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var _v=/_([a-z])/g;Re.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(_v,function(r,n){return n.toUpperCase()})};Re.compareFieldsById=function(t,r){return t.id-r.id};Re.decorateType=function(t,r){if(t.$type)return r&&t.$type.name!==r&&(Re.decorateRoot.remove(t.$type),t.$type.name=r,Re.decorateRoot.add(t.$type)),t.$type;za||(za=Pa());var n=new za(r||t.name);return Re.decorateRoot.add(n),n.ctor=t,Object.defineProperty(t,"$type",{value:n,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:n,enumerable:!1}),n};var kv=0;Re.decorateEnum=function(t){if(t.$type)return t.$type;Wa||(Wa=zt());var r=new Wa("Enum"+kv++,t);return Re.decorateRoot.add(r),Object.defineProperty(t,"$type",{value:r,enumerable:!1}),r};Re.setProperty=function(t,r,n){function i(s,u,a){var o=u.shift();if(u.length>0)s[o]=i(s[o]||{},u,a);else{var l=s[o];l&&(a=[].concat(l).concat(a)),s[o]=a}return s}if(typeof t!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),i(t,r,n)};Object.defineProperty(Re,"decorateRoot",{get:function(){return cp.decorated||(cp.decorated=new(Ga()))}})});var Wr=Q((nS,fp)=>{"use strict";fp.exports=at;at.className="ReflectionObject";var Oo=Pe(),jo;function at(e,t){if(!Oo.isString(e))throw TypeError("name must be a string");if(t&&!Oo.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(at.prototype,{root:{get:function(){for(var e=this;e.parent!==null;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}});at.prototype.toJSON=function(){throw Error()};at.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var r=t.root;r instanceof jo&&r._handleAdd(this)};at.prototype.onRemove=function(t){var r=t.root;r instanceof jo&&r._handleRemove(this),this.parent=null,this.resolved=!1};at.prototype.resolve=function(){return this.resolved?this:(this.root instanceof jo&&(this.resolved=!0),this)};at.prototype.getOption=function(t){if(this.options)return this.options[t]};at.prototype.setOption=function(t,r,n){return(!n||!this.options||this.options[t]===void 0)&&((this.options||(this.options={}))[t]=r),this};at.prototype.setParsedOption=function(t,r,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var s=i.find(function(o){return Object.prototype.hasOwnProperty.call(o,t)});if(s){var u=s[t];Oo.setProperty(u,n,r)}else s={},s[t]=Oo.setProperty({},n,r),i.push(s)}else{var a={};a[t]=r,i.push(a)}return this};at.prototype.setOptions=function(t,r){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)this.setOption(n[i],t[n[i]],r);return this};at.prototype.toString=function(){var t=this.constructor.className,r=this.fullName;return r.length?t+" "+r:t};at._configure=function(e){jo=e}});var zt=Q((iS,dp)=>{"use strict";dp.exports=Ht;var pp=Wr();((Ht.prototype=Object.create(pp.prototype)).constructor=Ht).className="Enum";var mp=Dn(),Io=Pe();function Ht(e,t,r,n,i){if(pp.call(this,e,r),t&&typeof t!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.reserved=void 0,t)for(var s=Object.keys(t),u=0;u<s.length;++u)typeof t[s[u]]=="number"&&(this.valuesById[this.values[s[u]]=t[s[u]]]=s[u])}Ht.fromJSON=function(t,r){var n=new Ht(t,r.values,r.options,r.comment,r.comments);return n.reserved=r.reserved,n};Ht.prototype.toJSON=function(t){var r=t?Boolean(t.keepComments):!1;return Io.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};Ht.prototype.add=function(t,r,n){if(!Io.isString(t))throw TypeError("name must be a string");if(!Io.isInteger(r))throw TypeError("id must be an integer");if(this.values[t]!==void 0)throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[t]=r}else this.valuesById[this.values[t]=r]=t;return this.comments[t]=n||null,this};Ht.prototype.remove=function(t){if(!Io.isString(t))throw TypeError("name must be a string");var r=this.values[t];if(r==null)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[t],delete this.comments[t],this};Ht.prototype.isReservedId=function(t){return mp.isReservedId(this.reserved,t)};Ht.prototype.isReservedName=function(t){return mp.isReservedName(this.reserved,t)}});var La=Q((oS,hp)=>{"use strict";hp.exports=Sv;var Tv=zt(),Ua=Rn(),Ha=Pe();function gp(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function Sv(e){for(var t=Ha.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),r,n,i=e.fieldsArray.slice().sort(Ha.compareFieldsById),r=0;r<i.length;++r){var s=i[r].resolve(),u=e._fieldsArray.indexOf(s),a=s.resolvedType instanceof Tv?"int32":s.type,o=Ua.basic[a];n="m"+Ha.safeProp(s.name),s.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|Ua.mapKey[s.keyType],s.keyType),o===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,n):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|o,a,n),t("}")("}")):s.repeated?(t("if(%s!=null&&%s.length){",n,n),s.packed&&Ua.packed[a]!==void 0?t("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",a,n)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",n),o===void 0?gp(t,s,u,n+"[i]"):t("w.uint32(%i).%s(%s[i])",(s.id<<3|o)>>>0,a,n)),t("}")):(s.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,s.name),o===void 0?gp(t,s,u,n):t("w.uint32(%i).%s(%s)",(s.id<<3|o)>>>0,a,n))}return t("return w")}});var xp=Q((sS,yp)=>{"use strict";var le=yp.exports=Cd();le.build="light";function Cv(e,t,r){return typeof t=="function"?(r=t,t=new le.Root):t||(t=new le.Root),t.load(e,r)}le.load=Cv;function Rv(e,t){return t||(t=new le.Root),t.loadSync(e)}le.loadSync=Rv;le.encoder=La();le.decoder=Ra();le.verifier=Da();le.converter=ja();le.ReflectionObject=Wr();le.Namespace=Dn();le.Root=Ga();le.Enum=zt();le.Type=Pa();le.Field=Ur();le.OneOf=ui();le.MapField=_a();le.Service=Ca();le.Method=Sa();le.Message=Ro();le.wrappers=Ia();le.types=Rn();le.util=Pe();le.ReflectionObject._configure(le.Root);le.Namespace._configure(le.Type,le.Service,le.Enum);le.Root._configure(le.Type);le.Field._configure(le.Type)});var bp=Q((aS,vp)=>{"use strict";vp.exports=xp()});var _p=Q((wp,mi)=>{(function(e,t){typeof define=="function"&&define.amd?define(["protobufjs/light"],t):typeof mi=="object"&&mi&&mi.exports&&(mi.exports=t(bp()))})(wp,function(e){"use strict";var t=(e.roots.default||(e.roots.default=new e.Root)).addJSON({anki:{nested:{backend:{nested:{ServiceIndex:{values:{SERVICE_INDEX_SCHEDULER:0,SERVICE_INDEX_DECKS:1,SERVICE_INDEX_NOTES:2,SERVICE_INDEX_SYNC:3,SERVICE_INDEX_NOTETYPES:4,SERVICE_INDEX_CONFIG:5,SERVICE_INDEX_CARD_RENDERING:6,SERVICE_INDEX_DECK_CONFIG:7,SERVICE_INDEX_TAGS:8,SERVICE_INDEX_SEARCH:9,SERVICE_INDEX_STATS:10,SERVICE_INDEX_MEDIA:11,SERVICE_INDEX_I18N:12,SERVICE_INDEX_COLLECTION:13,SERVICE_INDEX_CARDS:14,SERVICE_INDEX_LINKS:15}},BackendInit:{fields:{preferredLangs:{rule:"repeated",type:"string",id:1},localeFolderPath:{type:"string",id:2},server:{type:"bool",id:3}}},I18nBackendInit:{fields:{preferredLangs:{rule:"repeated",type:"string",id:4},localeFolderPath:{type:"string",id:5}}},BackendError:{fields:{localized:{type:"string",id:1},kind:{type:"Kind",id:2}},nested:{Kind:{values:{INVALID_INPUT:0,UNDO_EMPTY:1,INTERRUPTED:2,TEMPLATE_PARSE:3,IO_ERROR:4,DB_ERROR:5,NETWORK_ERROR:6,SYNC_AUTH_ERROR:7,SYNC_OTHER_ERROR:8,JSON_ERROR:9,PROTO_ERROR:10,NOT_FOUND_ERROR:11,EXISTS:12,FILTERED_DECK_ERROR:13,SEARCH_ERROR:14}}}}}},card_rendering:{nested:{CardRenderingService:{methods:{ExtractAVTags:{requestType:"ExtractAVTagsRequest",responseType:"ExtractAVTagsResponse"},ExtractLatex:{requestType:"ExtractLatexRequest",responseType:"ExtractLatexResponse"},GetEmptyCards:{requestType:"generic.Empty",responseType:"EmptyCardsReport"},RenderExistingCard:{requestType:"RenderExistingCardRequest",responseType:"RenderCardResponse"},RenderUncommittedCard:{requestType:"RenderUncommittedCardRequest",responseType:"RenderCardResponse"},RenderUncommittedCardLegacy:{requestType:"RenderUncommittedCardLegacyRequest",responseType:"RenderCardResponse"},StripAVTags:{requestType:"generic.String",responseType:"generic.String"},RenderMarkdown:{requestType:"RenderMarkdownRequest",responseType:"generic.String"},EncodeIriPaths:{requestType:"generic.String",responseType:"generic.String"},DecodeIriPaths:{requestType:"generic.String",responseType:"generic.String"}}},ExtractAVTagsRequest:{fields:{text:{type:"string",id:1},questionSide:{type:"bool",id:2}}},ExtractAVTagsResponse:{fields:{text:{type:"string",id:1},avTags:{rule:"repeated",type:"AVTag",id:2}}},AVTag:{oneofs:{value:{oneof:["soundOrVideo","tts"]}},fields:{soundOrVideo:{type:"string",id:1},tts:{type:"TTSTag",id:2}}},TTSTag:{fields:{fieldText:{type:"string",id:1},lang:{type:"string",id:2},voices:{rule:"repeated",type:"string",id:3},speed:{type:"float",id:4},otherArgs:{rule:"repeated",type:"string",id:5}}},ExtractLatexRequest:{fields:{text:{type:"string",id:1},svg:{type:"bool",id:2},expandClozes:{type:"bool",id:3}}},ExtractLatexResponse:{fields:{text:{type:"string",id:1},latex:{rule:"repeated",type:"ExtractedLatex",id:2}}},ExtractedLatex:{fields:{filename:{type:"string",id:1},latexBody:{type:"string",id:2}}},EmptyCardsReport:{fields:{report:{type:"string",id:1},notes:{rule:"repeated",type:"NoteWithEmptyCards",id:2}},nested:{NoteWithEmptyCards:{fields:{noteId:{type:"int64",id:1},cardIds:{rule:"repeated",type:"int64",id:2},willDeleteNote:{type:"bool",id:3}}}}},RenderExistingCardRequest:{fields:{cardId:{type:"int64",id:1},browser:{type:"bool",id:2}}},RenderUncommittedCardRequest:{fields:{note:{type:"notes.Note",id:1},cardOrd:{type:"uint32",id:2},template:{type:"notetypes.Notetype.Template",id:3},fillEmpty:{type:"bool",id:4}}},RenderUncommittedCardLegacyRequest:{fields:{note:{type:"notes.Note",id:1},cardOrd:{type:"uint32",id:2},template:{type:"bytes",id:3},fillEmpty:{type:"bool",id:4}}},RenderCardResponse:{fields:{questionNodes:{rule:"repeated",type:"RenderedTemplateNode",id:1},answerNodes:{rule:"repeated",type:"RenderedTemplateNode",id:2},css:{type:"string",id:3},latexSvg:{type:"bool",id:4}}},RenderedTemplateNode:{oneofs:{value:{oneof:["text","replacement"]}},fields:{text:{type:"string",id:1},replacement:{type:"RenderedTemplateReplacement",id:2}}},RenderedTemplateReplacement:{fields:{fieldName:{type:"string",id:1},currentText:{type:"string",id:2},filters:{rule:"repeated",type:"string",id:3}}},RenderMarkdownRequest:{fields:{markdown:{type:"string",id:1},sanitize:{type:"bool",id:2}}}}},cards:{nested:{CardsService:{methods:{GetCard:{requestType:"CardId",responseType:"Card"},UpdateCards:{requestType:"UpdateCardsRequest",responseType:"collection.OpChanges"},RemoveCards:{requestType:"RemoveCardsRequest",responseType:"generic.Empty"},SetDeck:{requestType:"SetDeckRequest",responseType:"collection.OpChangesWithCount"},SetFlag:{requestType:"SetFlagRequest",responseType:"collection.OpChangesWithCount"}}},CardId:{fields:{cid:{type:"int64",id:1}}},CardIds:{fields:{cids:{rule:"repeated",type:"int64",id:1}}},Card:{fields:{id:{type:"int64",id:1},noteId:{type:"int64",id:2},deckId:{type:"int64",id:3},templateIdx:{type:"uint32",id:4},mtimeSecs:{type:"int64",id:5},usn:{type:"sint32",id:6},ctype:{type:"uint32",id:7},queue:{type:"sint32",id:8},due:{type:"sint32",id:9},interval:{type:"uint32",id:10},easeFactor:{type:"uint32",id:11},reps:{type:"uint32",id:12},lapses:{type:"uint32",id:13},remainingSteps:{type:"uint32",id:14},originalDue:{type:"sint32",id:15},originalDeckId:{type:"int64",id:16},flags:{type:"uint32",id:17},data:{type:"string",id:18}}},UpdateCardsRequest:{fields:{cards:{rule:"repeated",type:"Card",id:1},skipUndoEntry:{type:"bool",id:2}}},RemoveCardsRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1}}},SetDeckRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1},deckId:{type:"int64",id:2}}},SetFlagRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1},flag:{type:"uint32",id:2}}}}},collection:{nested:{CollectionService:{methods:{OpenCollection:{requestType:"OpenCollectionRequest",responseType:"generic.Empty"},CloseCollection:{requestType:"CloseCollectionRequest",responseType:"generic.Empty"},CheckDatabase:{requestType:"generic.Empty",responseType:"CheckDatabaseResponse"},GetUndoStatus:{requestType:"generic.Empty",responseType:"UndoStatus"},Undo:{requestType:"generic.Empty",responseType:"OpChangesAfterUndo"},Redo:{requestType:"generic.Empty",responseType:"OpChangesAfterUndo"},AddCustomUndoEntry:{requestType:"generic.String",responseType:"generic.UInt32"},MergeUndoEntries:{requestType:"generic.UInt32",responseType:"OpChanges"},LatestProgress:{requestType:"generic.Empty",responseType:"Progress"},SetWantsAbort:{requestType:"generic.Empty",responseType:"generic.Empty"}}},OpenCollectionRequest:{fields:{collectionPath:{type:"string",id:1},mediaFolderPath:{type:"string",id:2},mediaDbPath:{type:"string",id:3},logPath:{type:"string",id:4}}},CloseCollectionRequest:{fields:{downgradeToSchema11:{type:"bool",id:1}}},CheckDatabaseResponse:{fields:{problems:{rule:"repeated",type:"string",id:1}}},OpChanges:{fields:{card:{type:"bool",id:1},note:{type:"bool",id:2},deck:{type:"bool",id:3},tag:{type:"bool",id:4},notetype:{type:"bool",id:5},config:{type:"bool",id:6},deckConfig:{type:"bool",id:11},mtime:{type:"bool",id:12},browserTable:{type:"bool",id:7},browserSidebar:{type:"bool",id:8},noteText:{type:"bool",id:9},studyQueues:{type:"bool",id:10}}},OpChangesWithCount:{fields:{count:{type:"uint32",id:1},changes:{type:"OpChanges",id:2}}},OpChangesWithId:{fields:{id:{type:"int64",id:1},changes:{type:"OpChanges",id:2}}},UndoStatus:{fields:{undo:{type:"string",id:1},redo:{type:"string",id:2},lastStep:{type:"uint32",id:3}}},OpChangesAfterUndo:{fields:{changes:{type:"OpChanges",id:1},operation:{type:"string",id:2},revertedToTimestamp:{type:"int64",id:3},newStatus:{type:"UndoStatus",id:4},counter:{type:"uint32",id:5}}},Progress:{oneofs:{value:{oneof:["none","mediaSync","mediaCheck","fullSync","normalSync","databaseCheck"]}},fields:{none:{type:"generic.Empty",id:1},mediaSync:{type:"MediaSync",id:2},mediaCheck:{type:"string",id:3},fullSync:{type:"FullSync",id:4},normalSync:{type:"NormalSync",id:5},databaseCheck:{type:"DatabaseCheck",id:6}},nested:{MediaSync:{fields:{checked:{type:"string",id:1},added:{type:"string",id:2},removed:{type:"string",id:3}}},FullSync:{fields:{transferred:{type:"uint32",id:1},total:{type:"uint32",id:2}}},NormalSync:{fields:{stage:{type:"string",id:1},added:{type:"string",id:2},removed:{type:"string",id:3}}},DatabaseCheck:{fields:{stage:{type:"string",id:1},stageTotal:{type:"uint32",id:2},stageCurrent:{type:"uint32",id:3}}}}}}},config:{nested:{ConfigService:{methods:{GetConfigJson:{requestType:"generic.String",responseType:"generic.Json"},SetConfigJson:{requestType:"SetConfigJsonRequest",responseType:"collection.OpChanges"},SetConfigJsonNoUndo:{requestType:"SetConfigJsonRequest",responseType:"generic.Empty"},RemoveConfig:{requestType:"generic.String",responseType:"collection.OpChanges"},GetAllConfig:{requestType:"generic.Empty",responseType:"generic.Json"},GetConfigBool:{requestType:"GetConfigBoolRequest",responseType:"generic.Bool"},SetConfigBool:{requestType:"SetConfigBoolRequest",responseType:"collection.OpChanges"},GetConfigString:{requestType:"GetConfigStringRequest",responseType:"generic.String"},SetConfigString:{requestType:"SetConfigStringRequest",responseType:"collection.OpChanges"},GetPreferences:{requestType:"generic.Empty",responseType:"Preferences"},SetPreferences:{requestType:"Preferences",responseType:"collection.OpChanges"}}},ConfigKey:{fields:{},nested:{Bool:{values:{BROWSER_TABLE_SHOW_NOTES_MODE:0,PREVIEW_BOTH_SIDES:3,COLLAPSE_TAGS:4,COLLAPSE_NOTETYPES:5,COLLAPSE_DECKS:6,COLLAPSE_SAVED_SEARCHES:7,COLLAPSE_TODAY:8,COLLAPSE_CARD_STATE:9,COLLAPSE_FLAGS:10,SCHED_2021:11,ADDING_DEFAULTS_TO_CURRENT_DECK:12,HIDE_AUDIO_PLAY_BUTTONS:13,INTERRUPT_AUDIO_WHEN_ANSWERING:14,PASTE_IMAGES_AS_PNG:15,PASTE_STRIPS_FORMATTING:16,NORMALIZE_NOTE_TEXT:17}},String:{values:{SET_DUE_BROWSER:0,SET_DUE_REVIEWER:1,DEFAULT_SEARCH_TEXT:2,CARD_STATE_CUSTOMIZER:3}}}},GetConfigBoolRequest:{fields:{key:{type:"ConfigKey.Bool",id:1}}},SetConfigBoolRequest:{fields:{key:{type:"ConfigKey.Bool",id:1},value:{type:"bool",id:2},undoable:{type:"bool",id:3}}},GetConfigStringRequest:{fields:{key:{type:"ConfigKey.String",id:1}}},SetConfigStringRequest:{fields:{key:{type:"ConfigKey.String",id:1},value:{type:"string",id:2},undoable:{type:"bool",id:3}}},OptionalStringConfigKey:{fields:{key:{type:"ConfigKey.String",id:1}}},SetConfigJsonRequest:{fields:{key:{type:"string",id:1},valueJson:{type:"bytes",id:2},undoable:{type:"bool",id:3}}},Preferences:{fields:{scheduling:{type:"Scheduling",id:1},reviewing:{type:"Reviewing",id:2},editing:{type:"Editing",id:3}},nested:{Scheduling:{fields:{schedulerVersion:{type:"uint32",id:1},rollover:{type:"uint32",id:2},learnAheadSecs:{type:"uint32",id:3},newReviewMix:{type:"NewReviewMix",id:4},newTimezone:{type:"bool",id:5},dayLearnFirst:{type:"bool",id:6}},nested:{NewReviewMix:{values:{DISTRIBUTE:0,REVIEWS_FIRST:1,NEW_FIRST:2}}}},Reviewing:{fields:{hideAudioPlayButtons:{type:"bool",id:1},interruptAudioWhenAnswering:{type:"bool",id:2},showRemainingDueCounts:{type:"bool",id:3},showIntervalsOnButtons:{type:"bool",id:4},timeLimitSecs:{type:"uint32",id:5}}},Editing:{fields:{addingDefaultsToCurrentDeck:{type:"bool",id:1},pasteImagesAsPng:{type:"bool",id:2},pasteStripsFormatting:{type:"bool",id:3},defaultSearchText:{type:"string",id:4}}}}}}},deckconfig:{nested:{DeckConfigService:{methods:{AddOrUpdateDeckConfigLegacy:{requestType:"generic.Json",responseType:"DeckConfigId"},GetDeckConfig:{requestType:"DeckConfigId",responseType:"DeckConfig"},AllDeckConfigLegacy:{requestType:"generic.Empty",responseType:"generic.Json"},GetDeckConfigLegacy:{requestType:"DeckConfigId",responseType:"generic.Json"},NewDeckConfigLegacy:{requestType:"generic.Empty",responseType:"generic.Json"},RemoveDeckConfig:{requestType:"DeckConfigId",responseType:"generic.Empty"},GetDeckConfigsForUpdate:{requestType:"decks.DeckId",responseType:"DeckConfigsForUpdate"},UpdateDeckConfigs:{requestType:"UpdateDeckConfigsRequest",responseType:"collection.OpChanges"}}},DeckConfigId:{fields:{dcid:{type:"int64",id:1}}},DeckConfig:{fields:{id:{type:"int64",id:1},name:{type:"string",id:2},mtimeSecs:{type:"int64",id:3},usn:{type:"int32",id:4},config:{type:"Config",id:5}},nested:{Config:{fields:{learnSteps:{rule:"repeated",type:"float",id:1},relearnSteps:{rule:"repeated",type:"float",id:2},newPerDay:{type:"uint32",id:9},reviewsPerDay:{type:"uint32",id:10},newPerDayMinimum:{type:"uint32",id:29},initialEase:{type:"float",id:11},easyMultiplier:{type:"float",id:12},hardMultiplier:{type:"float",id:13},lapseMultiplier:{type:"float",id:14},intervalMultiplier:{type:"float",id:15},maximumReviewInterval:{type:"uint32",id:16},minimumLapseInterval:{type:"uint32",id:17},graduatingIntervalGood:{type:"uint32",id:18},graduatingIntervalEasy:{type:"uint32",id:19},newCardInsertOrder:{type:"NewCardInsertOrder",id:20},newCardGatherPriority:{type:"NewCardGatherPriority",id:34},newCardSortOrder:{type:"NewCardSortOrder",id:32},newMix:{type:"ReviewMix",id:30},reviewOrder:{type:"ReviewCardOrder",id:33},interdayLearningMix:{type:"ReviewMix",id:31},leechAction:{type:"LeechAction",id:21},leechThreshold:{type:"uint32",id:22},disableAutoplay:{type:"bool",id:23},capAnswerTimeToSecs:{type:"uint32",id:24},showTimer:{type:"bool",id:25},skipQuestionWhenReplayingAnswer:{type:"bool",id:26},buryNew:{type:"bool",id:27},buryReviews:{type:"bool",id:28},other:{type:"bytes",id:255}},reserved:[[3,8]],nested:{NewCardInsertOrder:{values:{NEW_CARD_INSERT_ORDER_DUE:0,NEW_CARD_INSERT_ORDER_RANDOM:1}},NewCardGatherPriority:{values:{NEW_CARD_GATHER_PRIORITY_DECK:0,NEW_CARD_GATHER_PRIORITY_LOWEST_POSITION:1,NEW_CARD_GATHER_PRIORITY_HIGHEST_POSITION:2}},NewCardSortOrder:{values:{NEW_CARD_SORT_ORDER_TEMPLATE_THEN_LOWEST_POSITION:0,NEW_CARD_SORT_ORDER_TEMPLATE_THEN_HIGHEST_POSITION:1,NEW_CARD_SORT_ORDER_TEMPLATE_THEN_RANDOM:2,NEW_CARD_SORT_ORDER_LOWEST_POSITION:3,NEW_CARD_SORT_ORDER_HIGHEST_POSITION:4,NEW_CARD_SORT_ORDER_RANDOM:5,NEW_CARD_SORT_ORDER_TEMPLATE_ONLY:6,NEW_CARD_SORT_ORDER_NO_SORT:7}},ReviewCardOrder:{values:{REVIEW_CARD_ORDER_DAY:0,REVIEW_CARD_ORDER_DAY_THEN_DECK:1,REVIEW_CARD_ORDER_DECK_THEN_DAY:2,REVIEW_CARD_ORDER_INTERVALS_ASCENDING:3,REVIEW_CARD_ORDER_INTERVALS_DESCENDING:4,REVIEW_CARD_ORDER_EASE_ASCENDING:5,REVIEW_CARD_ORDER_EASE_DESCENDING:6}},ReviewMix:{values:{REVIEW_MIX_MIX_WITH_REVIEWS:0,REVIEW_MIX_AFTER_REVIEWS:1,REVIEW_MIX_BEFORE_REVIEWS:2}},LeechAction:{values:{LEECH_ACTION_SUSPEND:0,LEECH_ACTION_TAG_ONLY:1}}}}}},DeckConfigsForUpdate:{fields:{allConfig:{rule:"repeated",type:"ConfigWithExtra",id:1},currentDeck:{type:"CurrentDeck",id:2},defaults:{type:"DeckConfig",id:3},schemaModified:{type:"bool",id:4},v3Scheduler:{type:"bool",id:5},haveAddons:{type:"bool",id:6},cardStateCustomizer:{type:"string",id:7}},nested:{ConfigWithExtra:{fields:{config:{type:"DeckConfig",id:1},useCount:{type:"uint32",id:2}}},CurrentDeck:{fields:{name:{type:"string",id:1},configId:{type:"int64",id:2},parentConfigIds:{rule:"repeated",type:"int64",id:3}}}}},UpdateDeckConfigsRequest:{fields:{targetDeckId:{type:"int64",id:1},configs:{rule:"repeated",type:"DeckConfig",id:2},removedConfigIds:{rule:"repeated",type:"int64",id:3},applyToChildren:{type:"bool",id:4},cardStateCustomizer:{type:"string",id:5}}}}},decks:{nested:{DecksService:{methods:{AddDeckLegacy:{requestType:"generic.Json",responseType:"collection.OpChangesWithId"},AddOrUpdateDeckLegacy:{requestType:"AddOrUpdateDeckLegacyRequest",responseType:"DeckId"},DeckTree:{requestType:"DeckTreeRequest",responseType:"DeckTreeNode"},DeckTreeLegacy:{requestType:"generic.Empty",responseType:"generic.Json"},GetAllDecksLegacy:{requestType:"generic.Empty",responseType:"generic.Json"},GetDeckIdByName:{requestType:"generic.String",responseType:"DeckId"},GetDeck:{requestType:"DeckId",responseType:"Deck"},UpdateDeck:{requestType:"Deck",responseType:"collection.OpChanges"},UpdateDeckLegacy:{requestType:"generic.Json",responseType:"collection.OpChanges"},SetDeckCollapsed:{requestType:"SetDeckCollapsedRequest",responseType:"collection.OpChanges"},GetDeckLegacy:{requestType:"DeckId",responseType:"generic.Json"},GetDeckNames:{requestType:"GetDeckNamesRequest",responseType:"DeckNames"},NewDeckLegacy:{requestType:"generic.Bool",responseType:"generic.Json"},RemoveDecks:{requestType:"DeckIds",responseType:"collection.OpChangesWithCount"},ReparentDecks:{requestType:"ReparentDecksRequest",responseType:"collection.OpChangesWithCount"},RenameDeck:{requestType:"RenameDeckRequest",responseType:"collection.OpChanges"},GetOrCreateFilteredDeck:{requestType:"DeckId",responseType:"FilteredDeckForUpdate"},AddOrUpdateFilteredDeck:{requestType:"FilteredDeckForUpdate",responseType:"collection.OpChangesWithId"},FilteredDeckOrderLabels:{requestType:"generic.Empty",responseType:"generic.StringList"},SetCurrentDeck:{requestType:"DeckId",responseType:"collection.OpChanges"},GetCurrentDeck:{requestType:"generic.Empty",responseType:"Deck"}}},DeckId:{fields:{did:{type:"int64",id:1}}},DeckIds:{fields:{dids:{rule:"repeated",type:"int64",id:1}}},Deck:{oneofs:{kind:{oneof:["normal","filtered"]}},fields:{id:{type:"int64",id:1},name:{type:"string",id:2},mtimeSecs:{type:"int64",id:3},usn:{type:"int32",id:4},common:{type:"Common",id:5},normal:{type:"Normal",id:6},filtered:{type:"Filtered",id:7}},nested:{Common:{fields:{studyCollapsed:{type:"bool",id:1},browserCollapsed:{type:"bool",id:2},lastDayStudied:{type:"uint32",id:3},newStudied:{type:"int32",id:4},reviewStudied:{type:"int32",id:5},millisecondsStudied:{type:"int32",id:7},learningStudied:{type:"int32",id:6},other:{type:"bytes",id:255}},reserved:[[8,13]]},Normal:{fields:{configId:{type:"int64",id:1},extendNew:{type:"uint32",id:2},extendReview:{type:"uint32",id:3},description:{type:"string",id:4},markdownDescription:{type:"bool",id:5}},reserved:[[6,11]]},Filtered:{fields:{reschedule:{type:"bool",id:1},searchTerms:{rule:"repeated",type:"SearchTerm",id:2},delays:{rule:"repeated",type:"float",id:3},previewDelay:{type:"uint32",id:4}},nested:{SearchTerm:{fields:{search:{type:"string",id:1},limit:{type:"uint32",id:2},order:{type:"Order",id:3}},nested:{Order:{values:{OLDEST_REVIEWED_FIRST:0,RANDOM:1,INTERVALS_ASCENDING:2,INTERVALS_DESCENDING:3,LAPSES:4,ADDED:5,DUE:6,REVERSE_ADDED:7,DUE_PRIORITY:8}}}}}},KindContainer:{oneofs:{kind:{oneof:["normal","filtered"]}},fields:{normal:{type:"Normal",id:1},filtered:{type:"Filtered",id:2}}}}},AddOrUpdateDeckLegacyRequest:{fields:{deck:{type:"bytes",id:1},preserveUsnAndMtime:{type:"bool",id:2}}},DeckTreeRequest:{fields:{now:{type:"int64",id:1},topDeckId:{type:"int64",id:2}}},DeckTreeNode:{fields:{deckId:{type:"int64",id:1},name:{type:"string",id:2},level:{type:"uint32",id:4},collapsed:{type:"bool",id:5},reviewCount:{type:"uint32",id:6},learnCount:{type:"uint32",id:7},newCount:{type:"uint32",id:8},intradayLearning:{type:"uint32",id:9},interdayLearningUncapped:{type:"uint32",id:10},newUncapped:{type:"uint32",id:11},reviewUncapped:{type:"uint32",id:12},totalInDeck:{type:"uint32",id:13},totalIncludingChildren:{type:"uint32",id:14},filtered:{type:"bool",id:16},children:{rule:"repeated",type:"DeckTreeNode",id:3}}},SetDeckCollapsedRequest:{fields:{deckId:{type:"int64",id:1},collapsed:{type:"bool",id:2},scope:{type:"Scope",id:3}},nested:{Scope:{values:{REVIEWER:0,BROWSER:1}}}},GetDeckNamesRequest:{fields:{skipEmptyDefault:{type:"bool",id:1},includeFiltered:{type:"bool",id:2}}},DeckNames:{fields:{entries:{rule:"repeated",type:"DeckNameId",id:1}}},DeckNameId:{fields:{id:{type:"int64",id:1},name:{type:"string",id:2}}},ReparentDecksRequest:{fields:{deckIds:{rule:"repeated",type:"int64",id:1},newParent:{type:"int64",id:2}}},RenameDeckRequest:{fields:{deckId:{type:"int64",id:1},newName:{type:"string",id:2}}},FilteredDeckForUpdate:{fields:{id:{type:"int64",id:1},name:{type:"string",id:2},config:{type:"Deck.Filtered",id:3}}}}},generic:{nested:{Empty:{fields:{}},OptionalInt32:{fields:{val:{type:"sint32",id:1}}},OptionalUInt32:{fields:{val:{type:"uint32",id:1}}},Int32:{fields:{val:{type:"sint32",id:1}}},UInt32:{fields:{val:{type:"uint32",id:1}}},Int64:{fields:{val:{type:"int64",id:1}}},String:{fields:{val:{type:"string",id:1}}},Json:{fields:{json:{type:"bytes",id:1}}},Bool:{fields:{val:{type:"bool",id:1}}},StringList:{fields:{vals:{rule:"repeated",type:"string",id:1}}}}},i18n:{nested:{I18nService:{methods:{TranslateString:{requestType:"TranslateStringRequest",responseType:"generic.String"},FormatTimespan:{requestType:"FormatTimespanRequest",responseType:"generic.String"},I18nResources:{requestType:"I18nResourcesRequest",responseType:"generic.Json"}}},TranslateStringRequest:{fields:{moduleIndex:{type:"uint32",id:1},messageIndex:{type:"uint32",id:2},args:{keyType:"string",type:"TranslateArgValue",id:3}}},TranslateArgValue:{oneofs:{value:{oneof:["str","number"]}},fields:{str:{type:"string",id:1},number:{type:"double",id:2}}},FormatTimespanRequest:{fields:{seconds:{type:"float",id:1},context:{type:"Context",id:2}},nested:{Context:{values:{PRECISE:0,ANSWER_BUTTONS:1,INTERVALS:2}}}},I18nResourcesRequest:{fields:{modules:{rule:"repeated",type:"string",id:1}}}}},links:{nested:{LinksService:{methods:{HelpPageLink:{requestType:"HelpPageLinkRequest",responseType:"generic.String"}}},HelpPageLinkRequest:{fields:{page:{type:"HelpPage",id:1}},nested:{HelpPage:{values:{NOTE_TYPE:0,BROWSING:1,BROWSING_FIND_AND_REPLACE:2,BROWSING_NOTES_MENU:3,KEYBOARD_SHORTCUTS:4,EDITING:5,ADDING_CARD_AND_NOTE:6,ADDING_A_NOTE_TYPE:7,LATEX:8,PREFERENCES:9,INDEX:10,TEMPLATES:11,FILTERED_DECK:12,IMPORTING:13,CUSTOMIZING_FIELDS:14,DECK_OPTIONS:15,EDITING_FEATURES:16}}}}}},media:{nested:{MediaService:{methods:{CheckMedia:{requestType:"generic.Empty",responseType:"CheckMediaResponse"},TrashMediaFiles:{requestType:"TrashMediaFilesRequest",responseType:"generic.Empty"},AddMediaFile:{requestType:"AddMediaFileRequest",responseType:"generic.String"},EmptyTrash:{requestType:"generic.Empty",responseType:"generic.Empty"},RestoreTrash:{requestType:"generic.Empty",responseType:"generic.Empty"}}},CheckMediaResponse:{fields:{unused:{rule:"repeated",type:"string",id:1},missing:{rule:"repeated",type:"string",id:2},report:{type:"string",id:3},haveTrash:{type:"bool",id:4}}},TrashMediaFilesRequest:{fields:{fnames:{rule:"repeated",type:"string",id:1}}},AddMediaFileRequest:{fields:{desiredName:{type:"string",id:1},data:{type:"bytes",id:2}}}}},notes:{nested:{NotesService:{methods:{NewNote:{requestType:"notetypes.NotetypeId",responseType:"Note"},AddNote:{requestType:"AddNoteRequest",responseType:"AddNoteResponse"},DefaultsForAdding:{requestType:"DefaultsForAddingRequest",responseType:"DeckAndNotetype"},DefaultDeckForNotetype:{requestType:"notetypes.NotetypeId",responseType:"decks.DeckId"},UpdateNotes:{requestType:"UpdateNotesRequest",responseType:"collection.OpChanges"},GetNote:{requestType:"NoteId",responseType:"Note"},RemoveNotes:{requestType:"RemoveNotesRequest",responseType:"collection.OpChangesWithCount"},ClozeNumbersInNote:{requestType:"Note",responseType:"ClozeNumbersInNoteResponse"},AfterNoteUpdates:{requestType:"AfterNoteUpdatesRequest",responseType:"collection.OpChangesWithCount"},FieldNamesForNotes:{requestType:"FieldNamesForNotesRequest",responseType:"FieldNamesForNotesResponse"},NoteFieldsCheck:{requestType:"Note",responseType:"NoteFieldsCheckResponse"},CardsOfNote:{requestType:"NoteId",responseType:"cards.CardIds"},GetSingleNotetypeOfNotes:{requestType:"notes.NoteIds",responseType:"notetypes.NotetypeId"}}},NoteId:{fields:{nid:{type:"int64",id:1}}},NoteIds:{fields:{noteIds:{rule:"repeated",type:"int64",id:1}}},Note:{fields:{id:{type:"int64",id:1},guid:{type:"string",id:2},notetypeId:{type:"int64",id:3},mtimeSecs:{type:"uint32",id:4},usn:{type:"int32",id:5},tags:{rule:"repeated",type:"string",id:6},fields:{rule:"repeated",type:"string",id:7}}},AddNoteRequest:{fields:{note:{type:"Note",id:1},deckId:{type:"int64",id:2}}},AddNoteResponse:{fields:{noteId:{type:"int64",id:1},changes:{type:"collection.OpChanges",id:2}}},UpdateNotesRequest:{fields:{notes:{rule:"repeated",type:"Note",id:1},skipUndoEntry:{type:"bool",id:2}}},DefaultsForAddingRequest:{fields:{homeDeckOfCurrentReviewCard:{type:"int64",id:1}}},DeckAndNotetype:{fields:{deckId:{type:"int64",id:1},notetypeId:{type:"int64",id:2}}},RemoveNotesRequest:{fields:{noteIds:{rule:"repeated",type:"int64",id:1},cardIds:{rule:"repeated",type:"int64",id:2}}},ClozeNumbersInNoteResponse:{fields:{numbers:{rule:"repeated",type:"uint32",id:1}}},AfterNoteUpdatesRequest:{fields:{nids:{rule:"repeated",type:"int64",id:1},markNotesModified:{type:"bool",id:2},generateCards:{type:"bool",id:3}}},FieldNamesForNotesRequest:{fields:{nids:{rule:"repeated",type:"int64",id:1}}},FieldNamesForNotesResponse:{fields:{fields:{rule:"repeated",type:"string",id:1}}},NoteFieldsCheckResponse:{fields:{state:{type:"State",id:1}},nested:{State:{values:{NORMAL:0,EMPTY:1,DUPLICATE:2,MISSING_CLOZE:3,NOTETYPE_NOT_CLOZE:4,FIELD_NOT_CLOZE:5}}}}}},notetypes:{nested:{NotetypesService:{methods:{AddNotetype:{requestType:"Notetype",responseType:"collection.OpChangesWithId"},UpdateNotetype:{requestType:"Notetype",responseType:"collection.OpChanges"},AddNotetypeLegacy:{requestType:"generic.Json",responseType:"collection.OpChangesWithId"},UpdateNotetypeLegacy:{requestType:"generic.Json",responseType:"collection.OpChanges"},AddOrUpdateNotetype:{requestType:"AddOrUpdateNotetypeRequest",responseType:"NotetypeId"},GetStockNotetypeLegacy:{requestType:"StockNotetype",responseType:"generic.Json"},GetNotetype:{requestType:"NotetypeId",responseType:"Notetype"},GetNotetypeLegacy:{requestType:"NotetypeId",responseType:"generic.Json"},GetNotetypeNames:{requestType:"generic.Empty",responseType:"NotetypeNames"},GetNotetypeNamesAndCounts:{requestType:"generic.Empty",responseType:"NotetypeUseCounts"},GetNotetypeIdByName:{requestType:"generic.String",responseType:"NotetypeId"},RemoveNotetype:{requestType:"NotetypeId",responseType:"collection.OpChanges"},GetAuxNotetypeConfigKey:{requestType:"GetAuxConfigKeyRequest",responseType:"generic.String"},GetAuxTemplateConfigKey:{requestType:"GetAuxTemplateConfigKeyRequest",responseType:"generic.String"},GetChangeNotetypeInfo:{requestType:"GetChangeNotetypeInfoRequest",responseType:"ChangeNotetypeInfo"},ChangeNotetype:{requestType:"ChangeNotetypeRequest",responseType:"collection.OpChanges"}}},NotetypeId:{fields:{ntid:{type:"int64",id:1}}},Notetype:{fields:{id:{type:"int64",id:1},name:{type:"string",id:2},mtimeSecs:{type:"int64",id:3},usn:{type:"sint32",id:4},config:{type:"Config",id:7},fields:{rule:"repeated",type:"Field",id:8},templates:{rule:"repeated",type:"Template",id:9}},nested:{Config:{fields:{kind:{type:"Kind",id:1},sortFieldIdx:{type:"uint32",id:2},css:{type:"string",id:3},targetDeckIdUnused:{type:"int64",id:4},latexPre:{type:"string",id:5},latexPost:{type:"string",id:6},latexSvg:{type:"bool",id:7},reqs:{rule:"repeated",type:"CardRequirement",id:8},other:{type:"bytes",id:255}},nested:{Kind:{values:{KIND_NORMAL:0,KIND_CLOZE:1}},CardRequirement:{fields:{cardOrd:{type:"uint32",id:1},kind:{type:"Kind",id:2},fieldOrds:{rule:"repeated",type:"uint32",id:3}},nested:{Kind:{values:{KIND_NONE:0,KIND_ANY:1,KIND_ALL:2}}}}}},Field:{fields:{ord:{type:"generic.OptionalUInt32",id:1},name:{type:"string",id:2},config:{type:"Config",id:5}},nested:{Config:{fields:{sticky:{type:"bool",id:1},rtl:{type:"bool",id:2},fontName:{type:"string",id:3},fontSize:{type:"uint32",id:4},other:{type:"bytes",id:255}}}}},Template:{fields:{ord:{type:"generic.OptionalUInt32",id:1},name:{type:"string",id:2},mtimeSecs:{type:"int64",id:3},usn:{type:"sint32",id:4},config:{type:"Config",id:5}},nested:{Config:{fields:{qFormat:{type:"string",id:1},aFormat:{type:"string",id:2},qFormatBrowser:{type:"string",id:3},aFormatBrowser:{type:"string",id:4},targetDeckId:{type:"int64",id:5},browserFontName:{type:"string",id:6},browserFontSize:{type:"uint32",id:7},other:{type:"bytes",id:255}}}}}}},AddOrUpdateNotetypeRequest:{fields:{json:{type:"bytes",id:1},preserveUsnAndMtime:{type:"bool",id:2},skipChecks:{type:"bool",id:3}}},StockNotetype:{fields:{kind:{type:"Kind",id:1}},nested:{Kind:{values:{BASIC:0,BASIC_AND_REVERSED:1,BASIC_OPTIONAL_REVERSED:2,BASIC_TYPING:3,CLOZE:4}}}},NotetypeNames:{fields:{entries:{rule:"repeated",type:"NotetypeNameId",id:1}}},NotetypeUseCounts:{fields:{entries:{rule:"repeated",type:"NotetypeNameIdUseCount",id:1}}},NotetypeNameId:{fields:{id:{type:"int64",id:1},name:{type:"string",id:2}}},NotetypeNameIdUseCount:{fields:{id:{type:"int64",id:1},name:{type:"string",id:2},useCount:{type:"uint32",id:3}}},GetAuxConfigKeyRequest:{fields:{id:{type:"int64",id:1},key:{type:"string",id:2}}},GetAuxTemplateConfigKeyRequest:{fields:{notetypeId:{type:"int64",id:1},cardOrdinal:{type:"uint32",id:2},key:{type:"string",id:3}}},GetChangeNotetypeInfoRequest:{fields:{oldNotetypeId:{type:"int64",id:1},newNotetypeId:{type:"int64",id:2}}},ChangeNotetypeRequest:{fields:{noteIds:{rule:"repeated",type:"int64",id:1},newFields:{rule:"repeated",type:"int32",id:2},newTemplates:{rule:"repeated",type:"int32",id:3},oldNotetypeId:{type:"int64",id:4},newNotetypeId:{type:"int64",id:5},currentSchema:{type:"int64",id:6}}},ChangeNotetypeInfo:{fields:{oldFieldNames:{rule:"repeated",type:"string",id:1},oldTemplateNames:{rule:"repeated",type:"string",id:2},newFieldNames:{rule:"repeated",type:"string",id:3},newTemplateNames:{rule:"repeated",type:"string",id:4},input:{type:"ChangeNotetypeRequest",id:5}}}}},scheduler:{nested:{SchedulerService:{methods:{GetQueuedCards:{requestType:"GetQueuedCardsRequest",responseType:"QueuedCards"},AnswerCard:{requestType:"CardAnswer",responseType:"collection.OpChanges"},SchedTimingToday:{requestType:"generic.Empty",responseType:"SchedTimingTodayResponse"},StudiedToday:{requestType:"generic.Empty",responseType:"generic.String"},StudiedTodayMessage:{requestType:"StudiedTodayMessageRequest",responseType:"generic.String"},UpdateStats:{requestType:"UpdateStatsRequest",responseType:"generic.Empty"},ExtendLimits:{requestType:"ExtendLimitsRequest",responseType:"generic.Empty"},CountsForDeckToday:{requestType:"decks.DeckId",responseType:"CountsForDeckTodayResponse"},CongratsInfo:{requestType:"generic.Empty",responseType:"CongratsInfoResponse"},RestoreBuriedAndSuspendedCards:{requestType:"cards.CardIds",responseType:"collection.OpChanges"},UnburyDeck:{requestType:"UnburyDeckRequest",responseType:"collection.OpChanges"},BuryOrSuspendCards:{requestType:"BuryOrSuspendCardsRequest",responseType:"collection.OpChangesWithCount"},EmptyFilteredDeck:{requestType:"decks.DeckId",responseType:"collection.OpChanges"},RebuildFilteredDeck:{requestType:"decks.DeckId",responseType:"collection.OpChangesWithCount"},ScheduleCardsAsNew:{requestType:"ScheduleCardsAsNewRequest",responseType:"collection.OpChanges"},SetDueDate:{requestType:"SetDueDateRequest",responseType:"collection.OpChanges"},SortCards:{requestType:"SortCardsRequest",responseType:"collection.OpChangesWithCount"},SortDeck:{requestType:"SortDeckRequest",responseType:"collection.OpChangesWithCount"},GetNextCardStates:{requestType:"cards.CardId",responseType:"NextCardStates"},DescribeNextStates:{requestType:"NextCardStates",responseType:"generic.StringList"},StateIsLeech:{requestType:"SchedulingState",responseType:"generic.Bool"},UpgradeScheduler:{requestType:"generic.Empty",responseType:"generic.Empty"}}},SchedulingState:{oneofs:{value:{oneof:["normal","filtered"]}},fields:{normal:{type:"Normal",id:1},filtered:{type:"Filtered",id:2}},nested:{New:{fields:{position:{type:"uint32",id:1}}},Learning:{fields:{remainingSteps:{type:"uint32",id:1},scheduledSecs:{type:"uint32",id:2}}},Review:{fields:{scheduledDays:{type:"uint32",id:1},elapsedDays:{type:"uint32",id:2},easeFactor:{type:"float",id:3},lapses:{type:"uint32",id:4},leeched:{type:"bool",id:5}}},Relearning:{fields:{review:{type:"Review",id:1},learning:{type:"Learning",id:2}}},Normal:{oneofs:{value:{oneof:["new","learning","review","relearning"]}},fields:{new:{type:"New",id:1},learning:{type:"Learning",id:2},review:{type:"Review",id:3},relearning:{type:"Relearning",id:4}}},Preview:{fields:{scheduledSecs:{type:"uint32",id:1},finished:{type:"bool",id:2}}},ReschedulingFilter:{fields:{originalState:{type:"Normal",id:1}}},Filtered:{oneofs:{value:{oneof:["preview","rescheduling"]}},fields:{preview:{type:"Preview",id:1},rescheduling:{type:"ReschedulingFilter",id:2}}}}},QueuedCards:{fields:{cards:{rule:"repeated",type:"QueuedCard",id:1},newCount:{type:"uint32",id:2},learningCount:{type:"uint32",id:3},reviewCount:{type:"uint32",id:4}},nested:{Queue:{values:{NEW:0,LEARNING:1,REVIEW:2}},QueuedCard:{fields:{card:{type:"cards.Card",id:1},queue:{type:"Queue",id:2},nextStates:{type:"NextCardStates",id:3}}}}},GetQueuedCardsRequest:{fields:{fetchLimit:{type:"uint32",id:1},intradayLearningOnly:{type:"bool",id:2}}},SchedTimingTodayResponse:{fields:{daysElapsed:{type:"uint32",id:1},nextDayAt:{type:"int64",id:2}}},StudiedTodayMessageRequest:{fields:{cards:{type:"uint32",id:1},seconds:{type:"double",id:2}}},UpdateStatsRequest:{fields:{deckId:{type:"int64",id:1},newDelta:{type:"int32",id:2},reviewDelta:{type:"int32",id:4},millisecondDelta:{type:"int32",id:5}}},ExtendLimitsRequest:{fields:{deckId:{type:"int64",id:1},newDelta:{type:"int32",id:2},reviewDelta:{type:"int32",id:3}}},CountsForDeckTodayResponse:{fields:{new:{type:"int32",id:1},review:{type:"int32",id:2}}},CongratsInfoResponse:{fields:{learnRemaining:{type:"uint32",id:1},secsUntilNextLearn:{type:"uint32",id:2},reviewRemaining:{type:"bool",id:3},newRemaining:{type:"bool",id:4},haveSchedBuried:{type:"bool",id:5},haveUserBuried:{type:"bool",id:6},isFilteredDeck:{type:"bool",id:7},bridgeCommandsSupported:{type:"bool",id:8},deckDescription:{type:"string",id:9}}},UnburyDeckRequest:{fields:{deckId:{type:"int64",id:1},mode:{type:"Mode",id:2}},nested:{Mode:{values:{ALL:0,SCHED_ONLY:1,USER_ONLY:2}}}},BuryOrSuspendCardsRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1},noteIds:{rule:"repeated",type:"int64",id:2},mode:{type:"Mode",id:3}},nested:{Mode:{values:{SUSPEND:0,BURY_SCHED:1,BURY_USER:2}}}},ScheduleCardsAsNewRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1},log:{type:"bool",id:2}}},SetDueDateRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1},days:{type:"string",id:2},configKey:{type:"config.OptionalStringConfigKey",id:3}}},SortCardsRequest:{fields:{cardIds:{rule:"repeated",type:"int64",id:1},startingFrom:{type:"uint32",id:2},stepSize:{type:"uint32",id:3},randomize:{type:"bool",id:4},shiftExisting:{type:"bool",id:5}}},SortDeckRequest:{fields:{deckId:{type:"int64",id:1},randomize:{type:"bool",id:2}}},NextCardStates:{fields:{current:{type:"SchedulingState",id:1},again:{type:"SchedulingState",id:2},hard:{type:"SchedulingState",id:3},good:{type:"SchedulingState",id:4},easy:{type:"SchedulingState",id:5}}},CardAnswer:{fields:{cardId:{type:"int64",id:1},currentState:{type:"SchedulingState",id:2},newState:{type:"SchedulingState",id:3},rating:{type:"Rating",id:4},answeredAtMillis:{type:"int64",id:5},millisecondsTaken:{type:"uint32",id:6}},nested:{Rating:{values:{AGAIN:0,HARD:1,GOOD:2,EASY:3}}}}}},search:{nested:{SearchService:{methods:{BuildSearchString:{requestType:"SearchNode",responseType:"generic.String"},SearchCards:{requestType:"SearchRequest",responseType:"SearchResponse"},SearchNotes:{requestType:"SearchRequest",responseType:"SearchResponse"},JoinSearchNodes:{requestType:"JoinSearchNodesRequest",responseType:"generic.String"},ReplaceSearchNode:{requestType:"ReplaceSearchNodeRequest",responseType:"generic.String"},FindAndReplace:{requestType:"FindAndReplaceRequest",responseType:"collection.OpChangesWithCount"},AllBrowserColumns:{requestType:"generic.Empty",responseType:"BrowserColumns"},BrowserRowForId:{requestType:"generic.Int64",responseType:"BrowserRow"},SetActiveBrowserColumns:{requestType:"generic.StringList",responseType:"generic.Empty"}}},SearchNode:{oneofs:{filter:{oneof:["group","negated","parsableText","template","nid","dupe","fieldName","rated","addedInDays","dueInDays","flag","cardState","nids","editedInDays","deck","dueOnDay","tag","note","introducedInDays"]}},fields:{group:{type:"Group",id:1},negated:{type:"SearchNode",id:2},parsableText:{type:"string",id:3},template:{type:"uint32",id:4},nid:{type:"int64",id:5},dupe:{type:"Dupe",id:6},fieldName:{type:"string",id:7},rated:{type:"Rated",id:8},addedInDays:{type:"uint32",id:9},dueInDays:{type:"int32",id:10},flag:{type:"Flag",id:11},cardState:{type:"CardState",id:12},nids:{type:"IdList",id:13},editedInDays:{type:"uint32",id:14},deck:{type:"string",id:15},dueOnDay:{type:"int32",id:16},tag:{type:"string",id:17},note:{type:"string",id:18},introducedInDays:{type:"uint32",id:19}},nested:{Dupe:{fields:{notetypeId:{type:"int64",id:1},firstField:{type:"string",id:2}}},Flag:{values:{FLAG_NONE:0,FLAG_ANY:1,FLAG_RED:2,FLAG_ORANGE:3,FLAG_GREEN:4,FLAG_BLUE:5,FLAG_PINK:6,FLAG_TURQUOISE:7,FLAG_PURPLE:8}},Rating:{values:{RATING_ANY:0,RATING_AGAIN:1,RATING_HARD:2,RATING_GOOD:3,RATING_EASY:4,RATING_BY_RESCHEDULE:5}},Rated:{fields:{days:{type:"uint32",id:1},rating:{type:"Rating",id:2}}},CardState:{values:{CARD_STATE_NEW:0,CARD_STATE_LEARN:1,CARD_STATE_REVIEW:2,CARD_STATE_DUE:3,CARD_STATE_SUSPENDED:4,CARD_STATE_BURIED:5}},IdList:{fields:{ids:{rule:"repeated",type:"int64",id:1}}},Group:{fields:{nodes:{rule:"repeated",type:"SearchNode",id:1},joiner:{type:"Joiner",id:2}},nested:{Joiner:{values:{AND:0,OR:1}}}}}},SearchRequest:{fields:{search:{type:"string",id:1},order:{type:"SortOrder",id:2}}},SearchResponse:{fields:{ids:{rule:"repeated",type:"int64",id:1}}},SortOrder:{oneofs:{value:{oneof:["none","custom","builtin"]}},fields:{none:{type:"generic.Empty",id:1},custom:{type:"string",id:2},builtin:{type:"Builtin",id:3}},nested:{Builtin:{fields:{column:{type:"string",id:1},reverse:{type:"bool",id:2}}}}},JoinSearchNodesRequest:{fields:{joiner:{type:"SearchNode.Group.Joiner",id:1},existingNode:{type:"SearchNode",id:2},additionalNode:{type:"SearchNode",id:3}}},ReplaceSearchNodeRequest:{fields:{existingNode:{type:"SearchNode",id:1},replacementNode:{type:"SearchNode",id:2}}},FindAndReplaceRequest:{fields:{nids:{rule:"repeated",type:"int64",id:1},search:{type:"string",id:2},replacement:{type:"string",id:3},regex:{type:"bool",id:4},matchCase:{type:"bool",id:5},fieldName:{type:"string",id:6}}},BrowserColumns:{fields:{columns:{rule:"repeated",type:"Column",id:1}},nested:{Sorting:{values:{SORTING_NONE:0,SORTING_NORMAL:1,SORTING_REVERSED:2}},Alignment:{values:{ALIGNMENT_START:0,ALIGNMENT_CENTER:1}},Column:{fields:{key:{type:"string",id:1},cardsModeLabel:{type:"string",id:2},notesModeLabel:{type:"string",id:3},sorting:{type:"Sorting",id:4},usesCellFont:{type:"bool",id:5},alignment:{type:"Alignment",id:6}}}}},BrowserRow:{fields:{cells:{rule:"repeated",type:"Cell",id:1},color:{type:"Color",id:2},fontName:{type:"string",id:3},fontSize:{type:"uint32",id:4}},nested:{Cell:{fields:{text:{type:"string",id:1},isRtl:{type:"bool",id:2}}},Color:{values:{COLOR_DEFAULT:0,COLOR_MARKED:1,COLOR_SUSPENDED:2,COLOR_FLAG_RED:3,COLOR_FLAG_ORANGE:4,COLOR_FLAG_GREEN:5,COLOR_FLAG_BLUE:6,COLOR_FLAG_PINK:7,COLOR_FLAG_TURQUOISE:8,COLOR_FLAG_PURPLE:9}}}}}},stats:{nested:{StatsService:{methods:{CardStats:{requestType:"cards.CardId",responseType:"generic.String"},Graphs:{requestType:"GraphsRequest",responseType:"GraphsResponse"},GetGraphPreferences:{requestType:"generic.Empty",responseType:"GraphPreferences"},SetGraphPreferences:{requestType:"GraphPreferences",responseType:"generic.Empty"}}},GraphsRequest:{fields:{search:{type:"string",id:1},days:{type:"uint32",id:2}}},GraphsResponse:{fields:{cards:{rule:"repeated",type:"cards.Card",id:1},revlog:{rule:"repeated",type:"RevlogEntry",id:2},daysElapsed:{type:"uint32",id:3},nextDayAtSecs:{type:"uint32",id:4},schedulerVersion:{type:"uint32",id:5},localOffsetSecs:{type:"int32",id:7}}},GraphPreferences:{fields:{calendarFirstDayOfWeek:{type:"Weekday",id:1},cardCountsSeparateInactive:{type:"bool",id:2},browserLinksSupported:{type:"bool",id:3},futureDueShowBacklog:{type:"bool",id:4}},nested:{Weekday:{values:{SUNDAY:0,MONDAY:1,FRIDAY:5,SATURDAY:6}}}},RevlogEntry:{fields:{id:{type:"int64",id:1},cid:{type:"int64",id:2},usn:{type:"int32",id:3},buttonChosen:{type:"uint32",id:4},interval:{type:"int32",id:5},lastInterval:{type:"int32",id:6},easeFactor:{type:"uint32",id:7},takenMillis:{type:"uint32",id:8},reviewKind:{type:"ReviewKind",id:9}},nested:{ReviewKind:{values:{LEARNING:0,REVIEW:1,RELEARNING:2,FILTERED:3,MANUAL:4}}}}}},sync:{nested:{SyncService:{methods:{SyncMedia:{requestType:"SyncAuth",responseType:"generic.Empty"},AbortSync:{requestType:"generic.Empty",responseType:"generic.Empty"},AbortMediaSync:{requestType:"generic.Empty",responseType:"generic.Empty"},BeforeUpload:{requestType:"generic.Empty",responseType:"generic.Empty"},SyncLogin:{requestType:"SyncLoginRequest",responseType:"SyncAuth"},SyncStatus:{requestType:"SyncAuth",responseType:"SyncStatusResponse"},SyncCollection:{requestType:"SyncAuth",responseType:"SyncCollectionResponse"},FullUpload:{requestType:"SyncAuth",responseType:"generic.Empty"},FullDownload:{requestType:"SyncAuth",responseType:"generic.Empty"},SyncServerMethod:{requestType:"SyncServerMethodRequest",responseType:"generic.Json"}}},SyncAuth:{fields:{hkey:{type:"string",id:1},hostNumber:{type:"uint32",id:2}}},SyncLoginRequest:{fields:{username:{type:"string",id:1},password:{type:"string",id:2}}},SyncStatusResponse:{fields:{required:{type:"Required",id:1}},nested:{Required:{values:{NO_CHANGES:0,NORMAL_SYNC:1,FULL_SYNC:2}}}},SyncCollectionResponse:{fields:{hostNumber:{type:"uint32",id:1},serverMessage:{type:"string",id:2},required:{type:"ChangesRequired",id:3}},nested:{ChangesRequired:{values:{NO_CHANGES:0,NORMAL_SYNC:1,FULL_SYNC:2,FULL_DOWNLOAD:3,FULL_UPLOAD:4}}}},SyncServerMethodRequest:{fields:{method:{type:"Method",id:1},data:{type:"bytes",id:2}},nested:{Method:{values:{HOST_KEY:0,META:1,START:2,APPLY_GRAVES:3,APPLY_CHANGES:4,CHUNK:5,APPLY_CHUNK:6,SANITY_CHECK:7,FINISH:8,ABORT:9,FULL_UPLOAD:10,FULL_DOWNLOAD:11}}}}}},tags:{nested:{TagsService:{methods:{ClearUnusedTags:{requestType:"generic.Empty",responseType:"collection.OpChangesWithCount"},AllTags:{requestType:"generic.Empty",responseType:"generic.StringList"},RemoveTags:{requestType:"generic.String",responseType:"collection.OpChangesWithCount"},SetTagCollapsed:{requestType:"SetTagCollapsedRequest",responseType:"collection.OpChanges"},TagTree:{requestType:"generic.Empty",responseType:"TagTreeNode"},ReparentTags:{requestType:"ReparentTagsRequest",responseType:"collection.OpChangesWithCount"},RenameTags:{requestType:"RenameTagsRequest",responseType:"collection.OpChangesWithCount"},AddNoteTags:{requestType:"NoteIdsAndTagsRequest",responseType:"collection.OpChangesWithCount"},RemoveNoteTags:{requestType:"NoteIdsAndTagsRequest",responseType:"collection.OpChangesWithCount"},FindAndReplaceTag:{requestType:"FindAndReplaceTagRequest",responseType:"collection.OpChangesWithCount"}}},SetTagCollapsedRequest:{fields:{name:{type:"string",id:1},collapsed:{type:"bool",id:2}}},TagTreeNode:{fields:{name:{type:"string",id:1},children:{rule:"repeated",type:"TagTreeNode",id:2},level:{type:"uint32",id:3},collapsed:{type:"bool",id:4}}},ReparentTagsRequest:{fields:{tags:{rule:"repeated",type:"string",id:1},newParent:{type:"string",id:2}}},RenameTagsRequest:{fields:{currentPrefix:{type:"string",id:1},newPrefix:{type:"string",id:2}}},NoteIdsAndTagsRequest:{fields:{noteIds:{rule:"repeated",type:"int64",id:1},tags:{type:"string",id:2}}},FindAndReplaceTagRequest:{fields:{noteIds:{rule:"repeated",type:"int64",id:1},search:{type:"string",id:2},replacement:{type:"string",id:3},regex:{type:"bool",id:4},matchCase:{type:"bool",id:5}}}}}}}});return t})});var k_={};gl(k_,{AddedGraph:()=>oy,ButtonsGraph:()=>my,CalendarGraph:()=>Ly,CardCounts:()=>wy,EaseGraph:()=>Zg,FutureDue:()=>Ey,HourGraph:()=>Sy,IntervalsGraph:()=>Kg,RangeBox:()=>Fp,ReviewsGraph:()=>Iy,RevlogRange:()=>ve,TodayStats:()=>fy,graphs:()=>S_});var Ll=Qi(Fl()),{__extends:A_,__assign:E_,__rest:D_,__decorate:N_,__param:O_,__metadata:j_,__awaiter:It,__generator:I_,__exportStar:q_,__createBinding:M_,__values:F_,__read:L_,__spread:P_,__spreadArrays:B_,__spreadArray:$_,__await:G_,__asyncGenerator:z_,__asyncDelegator:W_,__asyncValues:U_,__makeTemplateObject:H_,__importStar:Y_,__importDefault:V_,__classPrivateFieldGet:K_,__classPrivateFieldSet:J_}=Ll.default;var rk=Qi(sc()),mn=Qi(uc());function Cx(e){if(!!e)for(let t of Object.keys(e))typeof e[t]=="number"&&(e[t]=new mn.FluentNumber(e[t],{maximumFractionDigits:2}))}var lc=class{constructor(){this.bundles=[],this.langs=[]}translate(t,r){Cx(r);for(let n of this.bundles){let i=n.getMessage(t);if(i&&i.value)return n.formatPattern(i.value,r)}return`missing key: ${t}`}supportsVerticalText(){let t=this.bundles[0].locales[0];return t.startsWith("ja")||t.startsWith("zh")||t.startsWith("ko")}direction(){let t=this.bundles[0].locales[0];return t.startsWith("ar")||t.startsWith("he")||t.startsWith("fa")?"rtl":"ltr"}weekdayLabel(t){let r=this.bundles[0].locales[0],n=new Date,i=-n.getDay()+t;return new Date(n.getTime()+i*864e5).toLocaleDateString(r,{weekday:"narrow"})}withCollapsedWhitespace(t){return t.replace(/\s+/g," ")}},O=new lc;function Bs(e){return It(this,void 0,void 0,function*(){let t=yield fetch("/_anki/i18nResources",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw Error(`unexpected reply: ${t.statusText}`);let r=yield t.json();O.bundles=[];for(let n in r.resources){let i=r.resources[n],s=r.langs[n],u=new mn.FluentBundle([s,"en-US"]),a=new mn.FluentResource(i);u.addResource(a),O.bundles.push(u)}O.langs=r.langs})}function cc(e){return O.translate("scheduling-time-span-days",e)}function fc(e){return O.translate("scheduling-time-span-hours",e)}function dc(e){return O.translate("scheduling-time-span-minutes",e)}function pc(e){return O.translate("scheduling-time-span-months",e)}function mc(e){return O.translate("scheduling-time-span-seconds",e)}function hc(e){return O.translate("scheduling-time-span-years",e)}function gc(){return O.translate("statistics-added-subtitle")}function yc(){return O.translate("statistics-added-title")}function xc(e){return O.translate("statistics-amount-of-total-with-percentage",e)}function vc(){return O.translate("statistics-answer-buttons-button-number")}function bc(){return O.translate("statistics-answer-buttons-button-pressed")}function wc(){return O.translate("statistics-answer-buttons-subtitle")}function _c(){return O.translate("statistics-answer-buttons-title")}function oo(){return O.translate("statistics-average")}function kc(e){return O.translate("statistics-average-answer-time",{"average-seconds":e.averageSeconds,"cards-per-minute":e.cardsPerMinute})}function Sc(){return O.translate("statistics-average-answer-time-label")}function Tc(){return O.translate("statistics-average-ease")}function Cc(){return O.translate("statistics-average-for-days-studied")}function Rc(){return O.translate("statistics-average-interval")}function Ac(){return O.translate("statistics-average-over-period")}function Ec(){return O.translate("statistics-backlog-checkbox")}function Dc(){return O.translate("statistics-calendar-title")}function Nc(){return O.translate("statistics-card-ease-subtitle")}function Oc(){return O.translate("statistics-card-ease-title")}function jc(e){return O.translate("statistics-card-ease-tooltip",e)}function so(e){return O.translate("statistics-cards",e)}function Ic(e){return O.translate("statistics-cards-due",e)}function qc(e){return O.translate("statistics-cards-per-day",e)}function Mc(){return O.translate("statistics-counts-buried-cards")}function Fc(){return O.translate("statistics-counts-filtered-cards")}function hn(){return O.translate("statistics-counts-learning-cards")}function gn(){return O.translate("statistics-counts-mature-cards")}function Lc(){return O.translate("statistics-counts-new-cards")}function ao(){return O.translate("statistics-counts-relearning-cards")}function Pc(){return O.translate("statistics-counts-separate-suspended-buried-cards")}function Bc(){return O.translate("statistics-counts-suspended-cards")}function $c(){return O.translate("statistics-counts-title")}function Gc(){return O.translate("statistics-counts-total-cards")}function yn(){return O.translate("statistics-counts-young-cards")}function zc(e){return O.translate("statistics-days-ago-range",e)}function Wc(e){return O.translate("statistics-days-ago-single",e)}function Uc(){return O.translate("statistics-days-studied")}function Hc(){return O.translate("statistics-due-tomorrow")}function Yc(e){return O.translate("statistics-elapsed-time-days",e)}function Vc(e){return O.translate("statistics-elapsed-time-hours",e)}function Kc(e){return O.translate("statistics-elapsed-time-minutes",e)}function Jc(e){return O.translate("statistics-elapsed-time-months",e)}function Xc(e){return O.translate("statistics-elapsed-time-seconds",e)}function Qc(e){return O.translate("statistics-elapsed-time-years",e)}function Zc(){return O.translate("statistics-future-due-subtitle")}function ef(){return O.translate("statistics-future-due-title")}function uo(e){return O.translate("statistics-hours-correct",e)}function tf(e){return O.translate("statistics-hours-range",e)}function rf(){return O.translate("statistics-hours-subtitle")}function nf(){return O.translate("statistics-hours-title")}function of(e){return O.translate("statistics-in-days-range",e)}function sf(e){return O.translate("statistics-in-days-single",e)}function af(e){return O.translate("statistics-intervals-day-range",e)}function uf(e){return O.translate("statistics-intervals-day-single",e)}function lf(){return O.translate("statistics-intervals-subtitle")}function cf(){return O.translate("statistics-intervals-title")}function $s(e){return O.translate("statistics-minutes-per-day",e)}function ff(){return O.translate("statistics-no-data")}function df(){return O.translate("statistics-range-1-year-history")}function pf(){return O.translate("statistics-range-all-history")}function lo(){return O.translate("statistics-range-all-time")}function mf(){return O.translate("statistics-range-collection")}function hf(){return O.translate("statistics-range-deck")}function gf(){return O.translate("statistics-range-search")}function _r(e){return O.translate("statistics-reviews",e)}function yf(){return O.translate("statistics-reviews-count-subtitle")}function Xn(e){return O.translate("statistics-reviews-per-day",e)}function xf(){return O.translate("statistics-reviews-time-checkbox")}function vf(){return O.translate("statistics-reviews-time-subtitle")}function bf(){return O.translate("statistics-reviews-title")}function kr(){return O.translate("statistics-running-total")}function wf(e){return O.translate("statistics-studied-today",{unit:e.unit,"secs-per-card":e.secsPerCard,amount:e.amount,cards:e.cards})}function _f(){return O.translate("statistics-today-again-count")}function kf(e){return O.translate("statistics-today-correct-mature",e)}function Sf(){return O.translate("statistics-today-no-cards")}function Tf(){return O.translate("statistics-today-no-mature-cards")}function Cf(){return O.translate("statistics-today-title")}function Rf(e){return O.translate("statistics-today-type-counts",e)}function xn(){return O.translate("statistics-total")}var Qn;(function(e){e.ABOUT="about",e.ACTIONS="actions",e.ADDING="adding",e.ADDONS="addons",e.BROWSING="browsing",e.CARD_STATS="card_stats",e.CARD_TEMPLATE_RENDERING="card_template_rendering",e.CARD_TEMPLATES="card_templates",e.CHANGE_NOTETYPE="change_notetype",e.CUSTOM_STUDY="custom_study",e.DATABASE_CHECK="database_check",e.DECK_CONFIG="deck_config",e.DECKS="decks",e.EDITING="editing",e.EMPTY_CARDS="empty_cards",e.ERRORS="errors",e.EXPORTING="exporting",e.FIELDS="fields",e.FINDREPLACE="findreplace",e.IMPORTING="importing",e.KEYBOARD="keyboard",e.MEDIA="media",e.MEDIA_CHECK="media_check",e.NETWORK="network",e.NOTETYPES="notetypes",e.PREFERENCES="preferences",e.PROFILES="profiles",e.QT_ACCEL="qt_accel",e.QT_MISC="qt_misc",e.SCHEDULING="scheduling",e.SEARCH="search",e.STATISTICS="statistics",e.STUDYING="studying",e.SYNC="sync",e.UNDO="undo"})(Qn||(Qn={}));function Af(){let e=window.location.hash=="#night";return e&&(document.documentElement.className="night-mode"),e}function ne(){}function Rx(e,t){for(let r in t)e[r]=t[r];return e}function Gs(e){return e()}function Ef(){return Object.create(null)}function Le(e){e.forEach(Gs)}function co(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Df(e){return Object.keys(e).length===0}function qt(e,...t){if(e==null)return ne;let r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function zs(e){let t;return qt(e,r=>t=r)(),t}function _e(e,t,r){e.$$.on_destroy.push(qt(t,r))}function vn(e,t,r,n){if(e){let i=Nf(e,t,r,n);return e[0](i)}}function Nf(e,t,r,n){return e[1]&&n?Rx(r.ctx.slice(),e[1](n(t))):r.ctx}function bn(e,t,r,n){if(e[2]&&n){let i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){let s=[],u=Math.max(t.dirty.length,i.length);for(let a=0;a<u;a+=1)s[a]=t.dirty[a]|i[a];return s}return t.dirty|i}return t.dirty}function wn(e,t,r,n,i,s){if(i){let u=Nf(t,r,n,s);e.p(u,i)}}function _n(e){if(e.ctx.length>32){let t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function kn(e,t,r){return e.set(r),t}var lk=typeof window!="undefined";var ck=new Set;var Of=!1;function Ax(){Of=!0}function Ex(){Of=!1}function S(e,t){e.appendChild(t)}function E(e,t,r){e.insertBefore(t,r||null)}function A(e){e.parentNode.removeChild(e)}function Mt(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function L(e){return document.createElement(e)}function me(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function te(e){return document.createTextNode(e)}function G(){return te(" ")}function St(){return te("")}function ge(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function R(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Dx(e){return Array.from(e.childNodes)}function Ve(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Ws(e,t){e.value=t==null?"":t}function it(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}function Us(e,t,r){e.classList[r?"add":"remove"](t)}function Nx(e,t,r=!1){let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}var fk=new Set;var fo;function po(e){fo=e}function Ox(){if(!fo)throw new Error("Function called outside component initialization");return fo}function ot(){let e=Ox();return(t,r)=>{let n=e.$$.callbacks[t];if(n){let i=Nx(t,r);n.slice().forEach(s=>{s.call(e,i)})}}}var Zn=[];var we=[],mo=[],Hs=[],jx=Promise.resolve(),Ys=!1;function Ix(){Ys||(Ys=!0,jx.then(jf))}function Vs(e){mo.push(e)}function Ft(e){Hs.push(e)}var Ks=!1,Js=new Set;function jf(){if(!Ks){Ks=!0;do{for(let e=0;e<Zn.length;e+=1){let t=Zn[e];po(t),qx(t.$$)}for(po(null),Zn.length=0;we.length;)we.pop()();for(let e=0;e<mo.length;e+=1){let t=mo[e];Js.has(t)||(Js.add(t),t())}mo.length=0}while(Zn.length);for(;Hs.length;)Hs.pop()();Ys=!1,Ks=!1,Js.clear()}}function qx(e){if(e.fragment!==null){e.update(),Le(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Vs)}}var ho=new Set,$r;function Sr(){$r={r:0,c:[],p:$r}}function Tr(){$r.r||Le($r.c),$r=$r.p}function I(e,t){e&&e.i&&(ho.delete(e),e.i(t))}function M(e,t,r,n){if(e&&e.o){if(ho.has(e))return;ho.add(e),$r.c.push(()=>{ho.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}var dk=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var pk=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function Lt(e,t,r){let n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function U(e){e&&e.c()}function W(e,t,r,n){let{fragment:i,on_mount:s,on_destroy:u,after_update:a}=e.$$;i&&i.m(t,r),n||Vs(()=>{let o=s.map(Gs).filter(co);u?u.push(...o):Le(o),e.$$.on_mount=[]}),a.forEach(Vs)}function z(e,t){let r=e.$$;r.fragment!==null&&(Le(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Mx(e,t){e.$$.dirty[0]===-1&&(Zn.push(e),Ix(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,t,r,n,i,s,u,a=[-1]){let o=fo;po(e);let l=e.$$={fragment:null,ctx:null,props:s,update:ne,not_equal:i,bound:Ef(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:t.context||[]),callbacks:Ef(),dirty:a,skip_bound:!1,root:t.target||o.$$.root};u&&u(l.root);let c=!1;if(l.ctx=r?r(e,t.props||{},(f,d,...p)=>{let m=p.length?p[0]:d;return l.ctx&&i(l.ctx[f],l.ctx[f]=m)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](m),c&&Mx(e,f)),d}):[],l.update(),c=!0,Le(l.before_update),l.fragment=n?n(l.ctx):!1,t.target){if(t.hydrate){Ax();let f=Dx(t.target);l.fragment&&l.fragment.l(f),f.forEach(A)}else l.fragment&&l.fragment.c();t.intro&&I(e.$$.fragment),W(e,t.target,t.anchor,t.customElement),Ex(),jf()}po(o)}var Fx;typeof HTMLElement=="function"&&(Fx=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Gs).filter(co);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){Le(this.$$.on_disconnect)}$destroy(){z(this,1),this.$destroy=ne}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Df(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var X=class{$destroy(){z(this,1),this.$destroy=ne}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Df(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var Sn=[];function ei(e,t){return{subscribe:Tn(e,t).subscribe}}function Tn(e,t=ne){let r,n=new Set;function i(a){if(J(e,a)&&(e=a,r)){let o=!Sn.length;for(let l of n)l[1](),Sn.push(l,e);if(o){for(let l=0;l<Sn.length;l+=2)Sn[l][0](Sn[l+1]);Sn.length=0}}}function s(a){i(a(e))}function u(a,o=ne){let l=[a,o];return n.add(l),n.size===1&&(r=t(i)||ne),a(e),()=>{n.delete(l),n.size===0&&(r(),r=null)}}return{set:i,update:s,subscribe:u}}function ti(e,t,r){let n=!Array.isArray(e),i=n?[e]:e,s=t.length<2;return ei(r,u=>{let a=!1,o=[],l=0,c=ne,f=()=>{if(l)return;c();let p=t(n?o[0]:o,u);s?u(p):c=co(p)?p:ne},d=i.map((p,m)=>qt(p,h=>{o[m]=h,l&=~(1<<m),a&&f()},()=>{l|=1<<m}));return a=!0,f(),function(){Le(d),c()}})}var go={};globalThis.require=function(e){let t=go[e];if(t===void 0)throw new Error(`Cannot require(${e}) at runtime.`);return t};var Xs=()=>!1;function Qs(e,t,r){let n=r?new Proxy(t,{set:Xs,defineProperty:Xs,deleteProperty:Xs,get:(i,s)=>(s in r&&console.log(`anki: ${s} is deprecated: ${r[s]}`),i[s])}):t;go[e]=n}function If(){return Object.keys(go)}function Lx(...e){let t=If();return e.reduce((r,n)=>r&&t.includes(n),!0)}function qf(){return!1}Qs("anki/packages",{listPackages:If,hasPackages:Lx,immediatelyDeprecated:qf},{[qf.name]:"Do not use this function"});function Zs(e,t){window.bridgeCommand(e,t)}Qs("anki/bridgecommand",{bridgeCommand:Zs});var On=Qi(_p()),lS=On.anki.cards,cS=On.anki.deckconfig,fS=On.anki.notetypes,dS=On.anki.scheduler,Je=On.anki.stats;function qo(e,t,r={}){return It(this,void 0,void 0,function*(){t instanceof Uint8Array&&(r["Content-type"]="application/octet-stream");let n=yield fetch(e,{method:"POST",headers:r,body:t});if(!n.ok){let a=yield n.text();throw Error(`${n.status}: ${a}`)}let i=yield n.blob(),s=yield new Response(i).arrayBuffer();return new Uint8Array(s)})}function Av(e){let t=e(),r=ei(null,s=>{t.then(u=>s(u))}),n=ei(null,s=>{t.catch(u=>s(u))}),i=ei(!0,s=>{t.finally(()=>s(!1))});return{value:r,error:n,loading:i}}var kp=Av;function Ev(e,t){let r=ti(t,(u,a)=>a(e()),null),n=ti(r,(u,a)=>{u==null||u.then(o=>a(o))},null),i=ti(r,(u,a)=>(u==null||u.catch(o=>a(o)),()=>a(null)),null),s=ti(r,(u,a)=>(u==null||u.finally(()=>a(!1)),()=>a(!0)),!0);return{value:n,error:i,loading:s}}var Sp=Ev;function Dv(e,t){let{subscribe:r,set:n,update:i}=Tn(e);return{subscribe:r,set:s=>{n(s),t()},update:s=>{i(s),t()}}}function Nv(e,t,r){let n={};function i(){let u={};for(let a in n)u[a]=zs(n[a]);return u}function s(){t(i())}for(let[u,a]of Object.entries(r(e,{defaults:!0})))n[u]=Dv(a,s);return n}function Tp(e,t,r){return It(this,void 0,void 0,function*(){let n=yield e();return Nv(n,t,r)})}var ve;(function(e){e[e.Year=1]="Year",e[e.All=2]="All"})(ve||(ve={}));function Mo(e){return e>365||e===0?ve.All:ve.Year}var ie;(function(e){e[e.Month=0]="Month",e[e.ThreeMonths=1]="ThreeMonths",e[e.Year=2]="Year",e[e.AllTime=3]="AllTime"})(ie||(ie={}));function xt(){return{width:600,height:250,marginLeft:70,marginRight:70,marginTop:20,marginBottom:25}}function Xe(e,t){e.select(".no-data").attr("pointer-events",t?"none":"all").transition().duration(600).attr("opacity",t?0:1)}function Fo(e,t){let r;switch(e){case ie.Month:r=31;break;case ie.ThreeMonths:r=90;break;case ie.Year:r=365;break;case ie.AllTime:default:return 0}return(t-86400*r)*1e3}var Ov=e=>({revlogRange:e&4,loading:e&24,sourceData:e&32,preferences:e&64}),Cp=e=>({revlogRange:e[2],loading:e[3]||e[4],sourceData:e[5],preferences:e[6]});function jv(e){let t,r=e[17].default,n=vn(r,e,e[16],Cp);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,[s]){n&&n.p&&(!t||s&65660)&&wn(n,r,i,i[16],t?bn(r,i[16],s,Ov):_n(i[16]),Cp)},i(i){t||(I(n,i),t=!0)},o(i){M(n,i),t=!1},d(i){n&&n.d(i)}}}function Iv(e,t,r){let n,i,s,u,a=ne,o=()=>(a(),a=qt(k,C=>r(15,u=C)),k),l,c=ne,f=()=>(c(),c=qt(x,C=>r(18,l=C)),x),d,p,m,h;e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>c());let{$$slots:g={},$$scope:y}=t,{search:x}=t;f();let{days:k}=t;o();function j(C,ae){return It(this,void 0,void 0,function*(){return Je.GraphsResponse.decode(yield qo("/_anki/graphData",JSON.stringify({search:C,days:ae})))})}function q(){return It(this,void 0,void 0,function*(){return Je.GraphPreferences.decode(yield qo("/_anki/graphPreferences",JSON.stringify({})))})}function b(C){return It(this,void 0,void 0,function*(){yield qo("/_anki/setGraphPreferences",Je.GraphPreferences.encode(C).finish())})}let{loading:_,error:D,value:P}=Sp(()=>j(l,u),[x,k]);_e(e,_,C=>r(3,d=C)),_e(e,D,C=>r(14,s=C)),_e(e,P,C=>r(5,m=C));let{loading:K,error:N,value:F}=kp(()=>Tp(q,b,Je.GraphPreferences.toObject.bind(Je.GraphPreferences)));return _e(e,K,C=>r(4,p=C)),_e(e,N,C=>r(13,i=C)),_e(e,F,C=>r(6,h=C)),e.$$set=C=>{"search"in C&&f(r(0,x=C.search)),"days"in C&&o(r(1,k=C.days)),"$$scope"in C&&r(16,y=C.$$scope)},e.$$.update=()=>{if(e.$$.dirty&32768){e:r(2,n=Mo(u))}if(e.$$.dirty&16384){e:s&&alert(s)}if(e.$$.dirty&8192){e:i&&alert(i)}},[x,k,n,d,p,m,h,_,D,P,K,N,F,i,s,u,y,g]}var Rp=class extends X{constructor(t){super();Z(this,t,Iv,jv,J,{search:0,days:1})}},Ap=Rp;function Ep(e,t,r){let n=e.slice();return n[13]=t[r],n}function Dp(e){let t,r,n;var i=e[2];function s(u){return{props:{search:u[3],days:u[4],loading:u[9]}}}return i&&(t=new i(s(e))),{c(){t&&U(t.$$.fragment),r=St()},m(u,a){t&&W(t,u,a),E(u,r,a),n=!0},p(u,a){let o={};if(a&512&&(o.loading=u[9]),i!==(i=u[2])){if(t){Sr();let l=t;M(l.$$.fragment,1,0,()=>{z(l,1)}),Tr()}i?(t=new i(s(u)),U(t.$$.fragment),I(t.$$.fragment,1),W(t,r.parentNode,r)):t=null}else i&&t.$set(o)},i(u){n||(t&&I(t.$$.fragment,u),n=!0)},o(u){t&&M(t.$$.fragment,u),n=!1},d(u){u&&A(r),t&&z(t,u)}}}function Op(e){let t,r,n=e[1],i=[];for(let u=0;u<n.length;u+=1)i[u]=Np(Ep(e,n,u));let s=u=>M(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=St()},m(u,a){for(let o=0;o<i.length;o+=1)i[o].m(u,a);E(u,t,a),r=!0},p(u,a){if(a&7203){n=u[1];let o;for(o=0;o<n.length;o+=1){let l=Ep(u,n,o);i[o]?(i[o].p(l,a),I(i[o],1)):(i[o]=Np(l),i[o].c(),I(i[o],1),i[o].m(t.parentNode,t))}for(Sr(),o=n.length;o<i.length;o+=1)s(o);Tr()}},i(u){if(!r){for(let a=0;a<n.length;a+=1)I(i[a]);r=!0}},o(u){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)M(i[a]);r=!1},d(u){Mt(i,u),u&&A(t)}}}function Np(e){let t,r,n;var i=e[13];function s(u){return{props:{sourceData:u[10],preferences:u[11],revlogRange:u[12],nightMode:u[0]}}}return i&&(t=new i(s(e)),t.$on("search",e[5])),{c(){t&&U(t.$$.fragment),r=St()},m(u,a){t&&W(t,u,a),E(u,r,a),n=!0},p(u,a){let o={};if(a&1024&&(o.sourceData=u[10]),a&2048&&(o.preferences=u[11]),a&4096&&(o.revlogRange=u[12]),a&1&&(o.nightMode=u[0]),i!==(i=u[13])){if(t){Sr();let l=t;M(l.$$.fragment,1,0,()=>{z(l,1)}),Tr()}i?(t=new i(s(u)),t.$on("search",u[5]),U(t.$$.fragment),I(t.$$.fragment,1),W(t,r.parentNode,r)):t=null}else i&&t.$set(o)},i(u){n||(t&&I(t.$$.fragment,u),n=!0)},o(u){t&&M(t.$$.fragment,u),n=!1},d(u){u&&A(r),t&&z(t,u)}}}function qv(e){let t,r,n,i=e[2]&&Dp(e),s=e[10]&&e[11]&&e[12]&&Op(e);return{c(){i&&i.c(),t=G(),s&&s.c(),r=St()},m(u,a){i&&i.m(u,a),E(u,t,a),s&&s.m(u,a),E(u,r,a),n=!0},p(u,a){u[2]?i?(i.p(u,a),a&4&&I(i,1)):(i=Dp(u),i.c(),I(i,1),i.m(t.parentNode,t)):i&&(Sr(),M(i,1,1,()=>{i=null}),Tr()),u[10]&&u[11]&&u[12]?s?(s.p(u,a),a&7168&&I(s,1)):(s=Op(u),s.c(),I(s,1),s.m(r.parentNode,r)):s&&(Sr(),M(s,1,1,()=>{s=null}),Tr())},i(u){n||(I(i),I(s),n=!0)},o(u){M(i),M(s),n=!1},d(u){i&&i.d(u),u&&A(t),s&&s.d(u),u&&A(r)}}}function Mv(e){let t,r,n;return r=new Ap({props:{search:e[3],days:e[4],$$slots:{default:[qv,({loading:i,sourceData:s,preferences:u,revlogRange:a})=>({9:i,10:s,11:u,12:a}),({loading:i,sourceData:s,preferences:u,revlogRange:a})=>(i?512:0)|(s?1024:0)|(u?2048:0)|(a?4096:0)]},$$scope:{ctx:e}}}),{c(){t=L("div"),U(r.$$.fragment),R(t,"class","svelte-s8d64u")},m(i,s){E(i,t,s),W(r,t,null),n=!0},p(i,[s]){let u={};s&73223&&(u.$$scope={dirty:s,ctx:i}),r.$set(u)},i(i){n||(I(r.$$.fragment,i),n=!0)},o(i){M(r.$$.fragment,i),n=!1},d(i){i&&A(t),z(r)}}}function Fv(e,t,r){let n,{nightMode:i}=t,{graphs:s}=t,{initialSearch:u}=t,{initialDays:a}=t,{controller:o}=t,l=Tn(u);_e(e,l,d=>r(8,n=d));let c=Tn(a);function f(d){Zs(`browserSearch: ${n} ${d.detail.query}`)}return e.$$set=d=>{"nightMode"in d&&r(0,i=d.nightMode),"graphs"in d&&r(1,s=d.graphs),"initialSearch"in d&&r(6,u=d.initialSearch),"initialDays"in d&&r(7,a=d.initialDays),"controller"in d&&r(2,o=d.controller)},[i,s,o,l,c,f,u,a]}var jp=class extends X{constructor(t){super();Z(this,t,Fv,Mv,J,{nightMode:0,graphs:1,initialSearch:6,initialDays:7,controller:2})}},Ip=jp;function Lv(e){let t,r,n=e[1].default,i=vn(n,e,e[0],null);return{c(){t=L("div"),i&&i.c(),R(t,"class","svelte-7eoes0")},m(s,u){E(s,t,u),i&&i.m(t,null),r=!0},p(s,[u]){i&&i.p&&(!r||u&1)&&wn(i,n,s,s[0],r?bn(n,s[0],u,null):_n(s[0]),null)},i(s){r||(I(i,s),r=!0)},o(s){M(i,s),r=!1},d(s){s&&A(t),i&&i.d(s)}}}function Pv(e,t,r){let{$$slots:n={},$$scope:i}=t;return e.$$set=s=>{"$$scope"in s&&r(0,i=s.$$scope)},[i,n]}var qp=class extends X{constructor(t){super();Z(this,t,Pv,Lv,J,{})}},je=qp;function Bv(e){let t,r,n,i,s,u,a,o,l,c,f,d,p,m,h;return{c(){t=L("label"),r=L("input"),i=G(),s=te(e[9]),u=G(),a=L("label"),o=L("input"),c=G(),f=te(e[10]),d=G(),p=L("input"),R(r,"type","radio"),r.__value=n=e[3].Deck,r.value=r.__value,e[14][0].push(r),R(o,"type","radio"),o.__value=l=e[3].Collection,o.value=o.__value,e[14][0].push(o),R(p,"type","text"),R(p,"placeholder",e[11])},m(g,y){E(g,t,y),S(t,r),r.checked=r.__value===e[5],S(t,i),S(t,s),E(g,u,y),E(g,a,y),S(a,o),o.checked=o.__value===e[5],S(a,c),S(a,f),E(g,d,y),E(g,p,y),Ws(p,e[6]),m||(h=[ge(r,"change",e[13]),ge(o,"change",e[15]),ge(p,"input",e[16]),ge(p,"keyup",e[7]),ge(p,"focus",e[17])],m=!0)},p(g,y){y&8&&n!==(n=g[3].Deck)&&(r.__value=n,r.value=r.__value),y&32&&(r.checked=r.__value===g[5]),y&8&&l!==(l=g[3].Collection)&&(o.__value=l,o.value=o.__value),y&32&&(o.checked=o.__value===g[5]),y&64&&p.value!==g[6]&&Ws(p,g[6])},d(g){g&&A(t),e[14][0].splice(e[14][0].indexOf(r),1),g&&A(u),g&&A(a),e[14][0].splice(e[14][0].indexOf(o),1),g&&A(d),g&&A(p),m=!1,Le(h)}}}function $v(e){let t,r,n,i,s,u,a,o,l,c,f,d,p;return{c(){t=L("label"),r=L("input"),i=G(),s=te(e[8]),u=G(),a=L("label"),o=L("input"),c=G(),f=te(e[12]),R(r,"type","radio"),r.__value=n=ve.Year,r.value=r.__value,e[14][1].push(r),R(o,"type","radio"),o.__value=l=ve.All,o.value=o.__value,e[14][1].push(o)},m(m,h){E(m,t,h),S(t,r),r.checked=r.__value===e[4],S(t,i),S(t,s),E(m,u,h),E(m,a,h),S(a,o),o.checked=o.__value===e[4],S(a,c),S(a,f),d||(p=[ge(r,"change",e[18]),ge(o,"change",e[19])],d=!0)},p(m,h){h&16&&(r.checked=r.__value===m[4]),h&16&&(o.checked=o.__value===m[4])},d(m){m&&A(t),e[14][1].splice(e[14][1].indexOf(r),1),m&&A(u),m&&A(a),e[14][1].splice(e[14][1].indexOf(o),1),d=!1,Le(p)}}}function Gv(e){let t,r,n,i,s,u,a,o,l;return i=new je({props:{$$slots:{default:[Bv]},$$scope:{ctx:e}}}),u=new je({props:{$$slots:{default:[$v]},$$scope:{ctx:e}}}),{c(){t=L("div"),r=L("div"),r.textContent="\u25D0",n=G(),U(i.$$.fragment),s=G(),U(u.$$.fragment),a=G(),o=L("div"),R(r,"class","spin svelte-1m24zd5"),Us(r,"loading",e[0]),R(t,"class","range-box svelte-1m24zd5"),R(o,"class","range-box-pad svelte-1m24zd5")},m(c,f){E(c,t,f),S(t,r),S(t,n),W(i,t,null),S(t,s),W(u,t,null),E(c,a,f),E(c,o,f),l=!0},p(c,[f]){f&1&&Us(r,"loading",c[0]);let d={};f&4194408&&(d.$$scope={dirty:f,ctx:c}),i.$set(d);let p={};f&4194320&&(p.$$scope={dirty:f,ctx:c}),u.$set(p)},i(c){l||(I(i.$$.fragment,c),I(u.$$.fragment,c),l=!0)},o(c){M(i.$$.fragment,c),M(u.$$.fragment,c),l=!1},d(c){c&&A(t),z(i),z(u),c&&A(a),c&&A(o)}}}function zv(e,t,r){let n,i=ne,s=()=>(i(),i=qt(d,C=>r(20,n=C)),d),u,a=ne,o=()=>(a(),a=qt(f,C=>r(21,u=C)),f);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>a());var l;(function(C){C[C.Deck=1]="Deck",C[C.Collection=2]="Collection",C[C.Custom=3]="Custom"})(l||(l={}));let{loading:c}=t,{days:f}=t;o();let{search:d}=t;s();let p=Mo(u),m=n==="deck:current"?l.Deck:n===""?l.Collection:l.Custom,h=n;function g(C){C.code==="Enter"&&kn(d,n=h,n)}let y=df(),x=hf(),k=mf(),j=gf(),q=pf(),b=[[],[]];function _(){m=this.__value,r(5,m)}function D(){m=this.__value,r(5,m)}function P(){h=this.value,r(6,h),r(5,m),r(3,l)}let K=()=>{r(5,m=l.Custom)};function N(){p=this.__value,r(4,p)}function F(){p=this.__value,r(4,p)}return e.$$set=C=>{"loading"in C&&r(0,c=C.loading),"days"in C&&o(r(1,f=C.days)),"search"in C&&s(r(2,d=C.search))},e.$$.update=()=>{if(e.$$.dirty&40){e:switch(m){case l.Deck:kn(d,n=r(6,h="deck:current"),n);break;case l.Collection:kn(d,n=r(6,h=""),n);break}}if(e.$$.dirty&16){e:switch(p){case ve.Year:kn(f,u=365,u);break;case ve.All:kn(f,u=0,u);break}}},[c,f,d,l,p,m,h,g,y,x,k,j,q,_,b,D,P,K,N,F]}var Mp=class extends X{constructor(t){super();Z(this,t,zv,Gv,J,{loading:0,days:1,search:2})}},Fp=Mp;var Lp=1,Ya=60*Lp,Va=60*Ya,Ka=24*Va,Dr=30*Ka,Lo=12*Dr,pe;(function(e){e[e.Seconds=0]="Seconds",e[e.Minutes=1]="Minutes",e[e.Hours=2]="Hours",e[e.Days=3]="Days",e[e.Months=4]="Months",e[e.Years=5]="Years"})(pe||(pe={}));function Wv(e){switch(e){case pe.Seconds:return"seconds";case pe.Minutes:return"minutes";case pe.Hours:return"hours";case pe.Days:return"days";case pe.Months:return"months";case pe.Years:return"years"}}function Pp(e){return e=Math.abs(e),e<Ya?pe.Seconds:e<Va?pe.Minutes:e<Ka?pe.Hours:e<Dr?pe.Days:e<Lo?pe.Months:pe.Years}function Uv(e){switch(e){case pe.Seconds:return Lp;case pe.Minutes:return Ya;case pe.Hours:return Va;case pe.Days:return Ka;case pe.Months:return Dr;case pe.Years:return Lo}}function Bp(e,t){return t/Uv(e)}function $p(e,t){let r=Pp(t),n=Bp(r,t),i=Wv(r),s=0;return e>0&&(s=t/e),wf({unit:i,secsPerCard:s,cards:e,amount:n})}function Hv(e,t){if(t)switch(e){case pe.Seconds:return Xc;case pe.Minutes:return Kc;case pe.Hours:return Vc;case pe.Days:return Yc;case pe.Months:return Jc;case pe.Years:return Qc}else switch(e){case pe.Seconds:return mc;case pe.Minutes:return dc;case pe.Hours:return fc;case pe.Days:return cc;case pe.Months:return pc;case pe.Years:return hc}}function vt(e,t=!1){let r=Pp(e),n=Bp(r,e);return Hv(r,t)({amount:n})}function jn(e,t){let r=Math.max(Math.abs(e),Math.abs(t)),n=Math.min(Math.abs(e),Math.abs(t));return r-n<=1?e>=0?sf({days:e}):Wc({days:-e}):e>=0?of({daysStart:e,daysEnd:t-1}):zc({daysStart:Math.abs(t-1),daysEnd:-e})}function Gp(e){let t,r;return{c(){t=L("div"),r=te(e[1]),R(t,"class","subtitle svelte-184rj7o")},m(n,i){E(n,t,i),S(t,r)},p(n,i){i&2&&Ve(r,n[1])},d(n){n&&A(t)}}}function Yv(e){let t,r,n,i,s,u,a=e[1]&&Gp(e),o=e[3].default,l=vn(o,e,e[2],null);return{c(){t=L("div"),r=L("h1"),n=te(e[0]),i=G(),a&&a.c(),s=G(),l&&l.c(),R(r,"class","svelte-184rj7o"),R(t,"class","graph svelte-184rj7o"),R(t,"tabindex","-1")},m(c,f){E(c,t,f),S(t,r),S(r,n),S(t,i),a&&a.m(t,null),S(t,s),l&&l.m(t,null),u=!0},p(c,[f]){(!u||f&1)&&Ve(n,c[0]),c[1]?a?a.p(c,f):(a=Gp(c),a.c(),a.m(t,s)):a&&(a.d(1),a=null),l&&l.p&&(!u||f&4)&&wn(l,o,c,c[2],u?bn(o,c[2],f,null):_n(c[2]),null)},i(c){u||(I(l,c),u=!0)},o(c){M(l,c),u=!1},d(c){c&&A(t),a&&a.d(),l&&l.d(c)}}}function Vv(e,t,r){let{$$slots:n={},$$scope:i}=t,{title:s}=t,{subtitle:u=null}=t;return e.$$set=a=>{"title"in a&&r(0,s=a.title),"subtitle"in a&&r(1,u=a.subtitle),"$$scope"in a&&r(2,i=a.$$scope)},[s,u,i,n]}var zp=class extends X{constructor(t){super();Z(this,t,Vv,Yv,J,{title:0,subtitle:1})}},Ne=zp;function Kv(e){let t,r,n,i,s,u,a,o;return{c(){t=me("g"),n=G(),i=me("g"),u=G(),a=me("g"),R(t,"class","x-ticks svelte-1mgreab"),R(t,"transform",r=`translate(0, ${e[0].height-e[0].marginBottom})`),R(i,"class","y-ticks svelte-1mgreab"),R(i,"transform",s=`translate(${e[0].marginLeft}, 0)`),R(a,"class","y2-ticks svelte-1mgreab"),R(a,"transform",o=`translate(${e[0].width-e[0].marginRight}, 0)`)},m(l,c){E(l,t,c),E(l,n,c),E(l,i,c),E(l,u,c),E(l,a,c)},p(l,[c]){c&1&&r!==(r=`translate(0, ${l[0].height-l[0].marginBottom})`)&&R(t,"transform",r),c&1&&s!==(s=`translate(${l[0].marginLeft}, 0)`)&&R(i,"transform",s),c&1&&o!==(o=`translate(${l[0].width-l[0].marginRight}, 0)`)&&R(a,"transform",o)},i:ne,o:ne,d(l){l&&A(t),l&&A(n),l&&A(i),l&&A(u),l&&A(a)}}}function Jv(e,t,r){let{bounds:n}=t;return e.$$set=i=>{"bounds"in i&&r(0,n=i.bounds)},[n]}var Wp=class extends X{constructor(t){super();Z(this,t,Jv,Kv,J,{bounds:0})}},Yt=Wp;function Xv(e){let t,r,n,i,s,u,a,o;return{c(){t=me("g"),r=me("rect"),s=me("text"),u=te(e[1]),R(r,"x","0"),R(r,"y","0"),R(r,"width",n=e[0].width),R(r,"height",i=e[0].height),R(r,"class","svelte-1248oq2"),R(s,"x",a=""+(e[0].width/2+",")),R(s,"y",o=e[0].height/2),R(s,"class","svelte-1248oq2"),R(t,"class","no-data svelte-1248oq2")},m(l,c){E(l,t,c),S(t,r),S(t,s),S(s,u)},p(l,[c]){c&1&&n!==(n=l[0].width)&&R(r,"width",n),c&1&&i!==(i=l[0].height)&&R(r,"height",i),c&1&&a!==(a=""+(l[0].width/2+","))&&R(s,"x",a),c&1&&o!==(o=l[0].height/2)&&R(s,"y",o)},i:ne,o:ne,d(l){l&&A(t)}}}function Qv(e,t,r){let{bounds:n}=t,i=ff();return e.$$set=s=>{"bounds"in s&&r(0,n=s.bounds)},[n,i]}var Up=class extends X{constructor(t){super();Z(this,t,Qv,Xv,J,{bounds:0})}},Vt=Up;function Zv(e){let t;return{c(){t=me("path"),R(t,"class","cumulative-overlay svelte-5v0l18")},m(r,n){E(r,t,n)},p:ne,i:ne,o:ne,d(r){r&&A(t)}}}var Hp=class extends X{constructor(t){super();Z(this,t,null,Zv,J,{})}},In=Hp;function e0(e){let t;return{c(){t=me("g"),R(t,"class","hover-columns svelte-cgvdvm")},m(r,n){E(r,t,n)},p:ne,i:ne,o:ne,d(r){r&&A(t)}}}var Yp=class extends X{constructor(t){super();Z(this,t,null,e0,J,{})}},Nr=Yp;function qn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ja(e){let t=e,r=e;e.length===1&&(t=(u,a)=>e(u)-a,r=t0(e));function n(u,a,o,l){for(o==null&&(o=0),l==null&&(l=u.length);o<l;){let c=o+l>>>1;r(u[c],a)<0?o=c+1:l=c}return o}function i(u,a,o,l){for(o==null&&(o=0),l==null&&(l=u.length);o<l;){let c=o+l>>>1;r(u[c],a)>0?l=c:o=c+1}return o}function s(u,a,o,l){o==null&&(o=0),l==null&&(l=u.length);let c=n(u,a,o,l-1);return c>o&&t(u[c-1],a)>-t(u[c],a)?c-1:c}return{left:n,center:s,right:i}}function t0(e){return(t,r)=>qn(e(t),r)}function Xa(e){return e===null?NaN:+e}function*Vp(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var Kp=Ja(qn),Jp=Kp.right,r0=Kp.left,n0=Ja(Xa).center,hi=Jp;function Qa(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&++r}return r}function Or(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?i=>r+=+i||0:i=>r+=+t(i,n++,e)||0)}function ut(e,t){let r,n;if(t===void 0)for(let i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(r===void 0?s>=s&&(r=n=s):(r>s&&(r=s),n<s&&(n=s)))}return[r,n]}var Yr=class extends Map{constructor(t,r=s0){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(Xp(this,t))}has(t){return super.has(Xp(this,t))}set(t,r){return super.set(i0(this,t),r)}delete(t){return super.delete(o0(this,t))}};function Xp({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function i0({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function o0({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(r),e.delete(n)),r}function s0(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Po(e){return e}function Za(e,t,...r){return a0(e,Po,t,r)}function a0(e,t,r,n){return function i(s,u){if(u>=n.length)return r(s);let a=new Yr,o=n[u++],l=-1;for(let c of s){let f=o(c,++l,s),d=a.get(f);d?d.push(c):a.set(f,[c])}for(let[c,f]of a)a.set(c,i(f,u));return t(a)}(e,0)}var Qp=Array.prototype,Zp=Qp.slice,VT=Qp.map;function gi(e){return function(){return e}}var eu=Math.sqrt(50),tu=Math.sqrt(10),ru=Math.sqrt(2);function yi(e,t,r){var n,i=-1,s,u,a;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(a=jr(e,t,r))===0||!isFinite(a))return[];if(a>0){let o=Math.round(e/a),l=Math.round(t/a);for(o*a<e&&++o,l*a>t&&--l,u=new Array(s=l-o+1);++i<s;)u[i]=(o+i)*a}else{a=-a;let o=Math.round(e*a),l=Math.round(t*a);for(o/a<e&&++o,l/a>t&&--l,u=new Array(s=l-o+1);++i<s;)u[i]=(o+i)/a}return n&&u.reverse(),u}function jr(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,i);return i>=0?(s>=eu?10:s>=tu?5:s>=ru?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=eu?10:s>=tu?5:s>=ru?2:1)}function nu(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/i;return s>=eu?i*=10:s>=tu?i*=5:s>=ru&&(i*=2),t<e?-i:i}function iu(e,t,r){let n;for(;;){let i=jr(e,t,r);if(i===n||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),n=i}}function em(e){return Math.ceil(Math.log(Qa(e))/Math.LN2)+1}function lt(){var e=Po,t=ut,r=em;function n(i){Array.isArray(i)||(i=Array.from(i));var s,u=i.length,a,o=new Array(u);for(s=0;s<u;++s)o[s]=e(i[s],s,i);var l=t(o),c=l[0],f=l[1],d=r(o,c,f);if(!Array.isArray(d)){let g=f,y=+d;if(t===ut&&([c,f]=iu(c,f,y)),d=yi(c,f,y),d[d.length-1]>=f)if(g>=f&&t===ut){let x=jr(c,f,y);isFinite(x)&&(x>0?f=(Math.floor(f/x)+1)*x:x<0&&(f=(Math.ceil(f*-x)+1)/-x))}else d.pop()}for(var p=d.length;d[0]<=c;)d.shift(),--p;for(;d[p-1]>f;)d.pop(),--p;var m=new Array(p+1),h;for(s=0;s<=p;++s)h=m[s]=[],h.x0=s>0?d[s-1]:c,h.x1=s<p?d[s]:f;for(s=0;s<u;++s)a=o[s],a!=null&&c<=a&&a<=f&&m[hi(d,a,0,p)].push(i[s]);return m}return n.value=function(i){return arguments.length?(e=typeof i=="function"?i:gi(i),n):e},n.domain=function(i){return arguments.length?(t=typeof i=="function"?i:gi([i[0],i[1]]),n):t},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Array.isArray(i)?gi(Zp.call(i)):gi(i),n):r},n}function ar(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Vr(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function Bo(e,t,r=0,n=e.length-1,i=qn){for(;n>r;){if(n-r>600){let o=n-r+1,l=t-r+1,c=Math.log(o),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(o-f)/o)*(l-o/2<0?-1:1),p=Math.max(r,Math.floor(t-l*f/o+d)),m=Math.min(n,Math.floor(t+(o-l)*f/o+d));Bo(e,t,p,m,i)}let s=e[t],u=r,a=n;for(xi(e,r,t),i(e[n],s)>0&&xi(e,r,n);u<a;){for(xi(e,u,a),++u,--a;i(e[u],s)<0;)++u;for(;i(e[a],s)>0;)--a}i(e[r],s)===0?xi(e,r,a):(++a,xi(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function xi(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function vi(e,t,r){if(e=Float64Array.from(Vp(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return Vr(e);if(t>=1)return ar(e);var n,i=(n-1)*t,s=Math.floor(i),u=ar(Bo(e,s).subarray(0,s+1)),a=Vr(e.subarray(s+1));return u+(a-u)*(i-s)}}function $o(e,t){let r=0,n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++r,n+=s)}if(r)return n/r}function ou(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ke(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}function tm(e){return e}var su=1,Go=2,au=3,bi=4,rm=1e-6;function u0(e){return"translate("+e+",0)"}function l0(e){return"translate(0,"+e+")"}function c0(e){return t=>+e(t)}function f0(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function d0(){return!this.__axis}function uu(e,t){var r=[],n=null,i=null,s=6,u=6,a=3,o=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,l=e===su||e===bi?-1:1,c=e===bi||e===Go?"x":"y",f=e===su||e===au?u0:l0;function d(p){var m=n==null?t.ticks?t.ticks.apply(t,r):t.domain():n,h=i==null?t.tickFormat?t.tickFormat.apply(t,r):tm:i,g=Math.max(s,0)+a,y=t.range(),x=+y[0]+o,k=+y[y.length-1]+o,j=(t.bandwidth?f0:c0)(t.copy(),o),q=p.selection?p.selection():p,b=q.selectAll(".domain").data([null]),_=q.selectAll(".tick").data(m,t).order(),D=_.exit(),P=_.enter().append("g").attr("class","tick"),K=_.select("line"),N=_.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(P),K=K.merge(P.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),N=N.merge(P.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",e===su?"0em":e===au?"0.71em":"0.32em")),p!==q&&(b=b.transition(p),_=_.transition(p),K=K.transition(p),N=N.transition(p),D=D.transition(p).attr("opacity",rm).attr("transform",function(F){return isFinite(F=j(F))?f(F+o):this.getAttribute("transform")}),P.attr("opacity",rm).attr("transform",function(F){var C=this.parentNode.__axis;return f((C&&isFinite(C=C(F))?C:j(F))+o)})),D.remove(),b.attr("d",e===bi||e===Go?u?"M"+l*u+","+x+"H"+o+"V"+k+"H"+l*u:"M"+o+","+x+"V"+k:u?"M"+x+","+l*u+"V"+o+"H"+k+"V"+l*u:"M"+x+","+o+"H"+k),_.attr("opacity",1).attr("transform",function(F){return f(j(F)+o)}),K.attr(c+"2",l*s),N.attr(c,l*g).text(h),q.filter(d0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Go?"start":e===bi?"end":"middle"),q.each(function(){this.__axis=j})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(s=u=+p,d):s},d.tickSizeInner=function(p){return arguments.length?(s=+p,d):s},d.tickSizeOuter=function(p){return arguments.length?(u=+p,d):u},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(o=+p,d):o},d}function Kr(e){return uu(Go,e)}function ur(e){return uu(au,e)}function lr(e){return uu(bi,e)}var p0={value:()=>{}};function nm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new zo(r)}function zo(e){this._=e}function m0(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}zo.prototype=nm.prototype={constructor:zo,on:function(e,t){var r=this._,n=m0(e+"",r),i,s=-1,u=n.length;if(arguments.length<2){for(;++s<u;)if((i=(e=n[s]).type)&&(i=h0(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<u;)if(i=(e=n[s]).type)r[i]=im(r[i],e.name,t);else if(t==null)for(i in r)r[i]=im(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new zo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function h0(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function im(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=p0,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var lu=nm;var Wo="http://www.w3.org/1999/xhtml",cu={svg:"http://www.w3.org/2000/svg",xhtml:Wo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cr(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),cu.hasOwnProperty(t)?{space:cu[t],local:e}:e}function g0(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Wo&&t.documentElement.namespaceURI===Wo?t.createElement(e):t.createElementNS(r,e)}}function y0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uo(e){var t=cr(e);return(t.local?y0:g0)(t)}function x0(){}function Jr(e){return e==null?x0:function(){return this.querySelector(e)}}function om(e){typeof e!="function"&&(e=Jr(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],u=s.length,a=n[i]=new Array(u),o,l,c=0;c<u;++c)(o=s[c])&&(l=e.call(o,o.__data__,c,s))&&("__data__"in o&&(l.__data__=o.__data__),a[c]=l);return new Se(n,this._parents)}function fu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function v0(){return[]}function wi(e){return e==null?v0:function(){return this.querySelectorAll(e)}}function b0(e){return function(){return fu(e.apply(this,arguments))}}function sm(e){typeof e=="function"?e=b0(e):e=wi(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var u=t[s],a=u.length,o,l=0;l<a;++l)(o=u[l])&&(n.push(e.call(o,o.__data__,l,u)),i.push(o));return new Se(n,i)}function _i(e){return function(){return this.matches(e)}}function Ho(e){return function(t){return t.matches(e)}}var w0=Array.prototype.find;function _0(e){return function(){return w0.call(this.children,e)}}function k0(){return this.firstElementChild}function am(e){return this.select(e==null?k0:_0(typeof e=="function"?e:Ho(e)))}var S0=Array.prototype.filter;function T0(){return Array.from(this.children)}function C0(e){return function(){return S0.call(this.children,e)}}function um(e){return this.selectAll(e==null?T0:C0(typeof e=="function"?e:Ho(e)))}function lm(e){typeof e!="function"&&(e=_i(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],u=s.length,a=n[i]=[],o,l=0;l<u;++l)(o=s[l])&&e.call(o,o.__data__,l,s)&&a.push(o);return new Se(n,this._parents)}function Yo(e){return new Array(e.length)}function cm(){return new Se(this._enter||this._groups.map(Yo),this._parents)}function ki(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ki.prototype={constructor:ki,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fm(e){return function(){return e}}function R0(e,t,r,n,i,s){for(var u=0,a,o=t.length,l=s.length;u<l;++u)(a=t[u])?(a.__data__=s[u],n[u]=a):r[u]=new ki(e,s[u]);for(;u<o;++u)(a=t[u])&&(i[u]=a)}function A0(e,t,r,n,i,s,u){var a,o,l=new Map,c=t.length,f=s.length,d=new Array(c),p;for(a=0;a<c;++a)(o=t[a])&&(d[a]=p=u.call(o,o.__data__,a,t)+"",l.has(p)?i[a]=o:l.set(p,o));for(a=0;a<f;++a)p=u.call(e,s[a],a,s)+"",(o=l.get(p))?(n[a]=o,o.__data__=s[a],l.delete(p)):r[a]=new ki(e,s[a]);for(a=0;a<c;++a)(o=t[a])&&l.get(d[a])===o&&(i[a]=o)}function E0(e){return e.__data__}function dm(e,t){if(!arguments.length)return Array.from(this,E0);var r=t?A0:R0,n=this._parents,i=this._groups;typeof e!="function"&&(e=fm(e));for(var s=i.length,u=new Array(s),a=new Array(s),o=new Array(s),l=0;l<s;++l){var c=n[l],f=i[l],d=f.length,p=D0(e.call(c,c&&c.__data__,l,n)),m=p.length,h=a[l]=new Array(m),g=u[l]=new Array(m),y=o[l]=new Array(d);r(c,f,h,g,y,p,t);for(var x=0,k=0,j,q;x<m;++x)if(j=h[x]){for(x>=k&&(k=x+1);!(q=g[k])&&++k<m;);j._next=q||null}}return u=new Se(u,n),u._enter=a,u._exit=o,u}function D0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pm(){return new Se(this._exit||this._groups.map(Yo),this._parents)}function mm(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function hm(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,u=Math.min(i,s),a=new Array(i),o=0;o<u;++o)for(var l=r[o],c=n[o],f=l.length,d=a[o]=new Array(f),p,m=0;m<f;++m)(p=l[m]||c[m])&&(d[m]=p);for(;o<i;++o)a[o]=r[o];return new Se(a,this._parents)}function gm(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],u;--i>=0;)(u=n[i])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function ym(e){e||(e=N0);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var u=r[s],a=u.length,o=i[s]=new Array(a),l,c=0;c<a;++c)(l=u[c])&&(o[c]=l);o.sort(t)}return new Se(i,this._parents).order()}function N0(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xm(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vm(){return Array.from(this)}function bm(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var u=n[i];if(u)return u}return null}function wm(){let e=0;for(let t of this)++e;return e}function _m(){return!this.node()}function km(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,u=i.length,a;s<u;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function O0(e){return function(){this.removeAttribute(e)}}function j0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I0(e,t){return function(){this.setAttribute(e,t)}}function q0(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M0(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function F0(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Sm(e,t){var r=cr(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?j0:O0:typeof t=="function"?r.local?F0:M0:r.local?q0:I0)(r,t))}function Vo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function L0(e){return function(){this.style.removeProperty(e)}}function P0(e,t,r){return function(){this.style.setProperty(e,t,r)}}function B0(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Tm(e,t,r){return arguments.length>1?this.each((t==null?L0:typeof t=="function"?B0:P0)(e,t,r==null?"":r)):Ir(this.node(),e)}function Ir(e,t){return e.style.getPropertyValue(t)||Vo(e).getComputedStyle(e,null).getPropertyValue(t)}function $0(e){return function(){delete this[e]}}function G0(e,t){return function(){this[e]=t}}function z0(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Cm(e,t){return arguments.length>1?this.each((t==null?$0:typeof t=="function"?z0:G0)(e,t)):this.node()[e]}function Rm(e){return e.trim().split(/^|\s+/)}function du(e){return e.classList||new Am(e)}function Am(e){this._node=e,this._names=Rm(e.getAttribute("class")||"")}Am.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Em(e,t){for(var r=du(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Dm(e,t){for(var r=du(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function W0(e){return function(){Em(this,e)}}function U0(e){return function(){Dm(this,e)}}function H0(e,t){return function(){(t.apply(this,arguments)?Em:Dm)(this,e)}}function Nm(e,t){var r=Rm(e+"");if(arguments.length<2){for(var n=du(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?H0:t?W0:U0)(r,t))}function Y0(){this.textContent=""}function V0(e){return function(){this.textContent=e}}function K0(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Om(e){return arguments.length?this.each(e==null?Y0:(typeof e=="function"?K0:V0)(e)):this.node().textContent}function J0(){this.innerHTML=""}function X0(e){return function(){this.innerHTML=e}}function Q0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function jm(e){return arguments.length?this.each(e==null?J0:(typeof e=="function"?Q0:X0)(e)):this.node().innerHTML}function Z0(){this.nextSibling&&this.parentNode.appendChild(this)}function Im(){return this.each(Z0)}function eb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qm(){return this.each(eb)}function Mm(e){var t=typeof e=="function"?e:Uo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tb(){return null}function Fm(e,t){var r=typeof e=="function"?e:Uo(e),n=t==null?tb:typeof t=="function"?t:Jr(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function rb(){var e=this.parentNode;e&&e.removeChild(this)}function Lm(){return this.each(rb)}function nb(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ib(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pm(e){return this.select(e?ib:nb)}function Bm(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ob(e){return function(t){e.call(this,t,this.__data__)}}function sb(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function ab(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function ub(e,t,r){return function(){var n=this.__on,i,s=ob(t);if(n){for(var u=0,a=n.length;u<a;++u)if((i=n[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function $m(e,t,r){var n=sb(e+""),i,s=n.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var o=0,l=a.length,c;o<l;++o)for(i=0,c=a[o];i<s;++i)if((u=n[i]).type===c.type&&u.name===c.name)return c.value}return}for(a=t?ub:ab,i=0;i<s;++i)this.each(a(n[i],t,r));return this}function Gm(e,t,r){var n=Vo(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lb(e,t){return function(){return Gm(this,e,t)}}function cb(e,t){return function(){return Gm(this,e,t.apply(this,arguments))}}function zm(e,t){return this.each((typeof t=="function"?cb:lb)(e,t))}function*Wm(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,u;i<s;++i)(u=n[i])&&(yield u)}var pu=[null];function Se(e,t){this._groups=e,this._parents=t}function Um(){return new Se([[document.documentElement]],pu)}function fb(){return this}Se.prototype=Um.prototype={constructor:Se,select:om,selectAll:sm,selectChild:am,selectChildren:um,filter:lm,data:dm,enter:cm,exit:pm,join:mm,merge:hm,selection:fb,order:gm,sort:ym,call:xm,nodes:vm,node:bm,size:wm,empty:_m,each:km,attr:Sm,style:Tm,property:Cm,classed:Nm,text:Om,html:jm,raise:Im,lower:qm,append:Mm,insert:Fm,remove:Lm,clone:Pm,datum:Bm,on:$m,dispatch:zm,[Symbol.iterator]:Wm};var fr=Um;function ct(e){return typeof e=="string"?new Se([[document.querySelector(e)]],[document.documentElement]):new Se([[e]],pu)}function Hm(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rt(e,t){if(e=Hm(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Ko(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mu(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Si(){}var Ti=.7,Jo=1/Ti,Mn="\\s*([+-]?\\d+)\\s*",Ci="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",db=/^#([0-9a-f]{3,8})$/,pb=new RegExp("^rgb\\("+[Mn,Mn,Mn]+"\\)$"),mb=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),hb=new RegExp("^rgba\\("+[Mn,Mn,Mn,Ci]+"\\)$"),gb=new RegExp("^rgba\\("+[Kt,Kt,Kt,Ci]+"\\)$"),yb=new RegExp("^hsl\\("+[Ci,Kt,Kt]+"\\)$"),xb=new RegExp("^hsla\\("+[Ci,Kt,Kt,Ci]+"\\)$"),Ym={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ko(Si,At,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Vm,formatHex:Vm,formatHsl:vb,formatRgb:Km,toString:Km});function Vm(){return this.rgb().formatHex()}function vb(){return Jm(this).formatHsl()}function Km(){return this.rgb().formatRgb()}function At(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=db.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Xm(t):r===3?new ft(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pb.exec(e))?new ft(t[1],t[2],t[3],1):(t=mb.exec(e))?new ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hb.exec(e))?Xo(t[1],t[2],t[3],t[4]):(t=gb.exec(e))?Xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yb.exec(e))?Qm(t[1],t[2]/100,t[3]/100,1):(t=xb.exec(e))?Qm(t[1],t[2]/100,t[3]/100,t[4]):Ym.hasOwnProperty(e)?Xm(Ym[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function Xm(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function Xo(e,t,r,n){return n<=0&&(e=t=r=NaN),new ft(e,t,r,n)}function bb(e){return e instanceof Si||(e=At(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function Fn(e,t,r,n){return arguments.length===1?bb(e):new ft(e,t,r,n==null?1:n)}function ft(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ko(ft,Fn,mu(Si,{brighter:function(e){return e=e==null?Jo:Math.pow(Jo,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ti:Math.pow(Ti,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zm,formatHex:Zm,formatRgb:eh,toString:eh}));function Zm(){return"#"+hu(this.r)+hu(this.g)+hu(this.b)}function eh(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function hu(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Qm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jt(e,t,r,n)}function Jm(e){if(e instanceof Jt)return new Jt(e.h,e.s,e.l,e.opacity);if(e instanceof Si||(e=At(e)),!e)return new Jt;if(e instanceof Jt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),u=NaN,a=s-i,o=(s+i)/2;return a?(t===s?u=(r-n)/a+(r<n)*6:r===s?u=(n-t)/a+2:u=(t-r)/a+4,a/=o<.5?s+i:2-s-i,u*=60):a=o>0&&o<1?0:u,new Jt(u,a,o,e.opacity)}function th(e,t,r,n){return arguments.length===1?Jm(e):new Jt(e,t,r,n==null?1:n)}function Jt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ko(Jt,th,mu(Si,{brighter:function(e){return e=e==null?Jo:Math.pow(Jo,e),new Jt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ti:Math.pow(Ti,e),new Jt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ft(gu(e>=240?e-240:e+120,i,n),gu(e,i,n),gu(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function gu(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function yu(e,t,r,n,i){var s=e*e,u=s*e;return((1-3*e+3*s-u)*t+(4-6*s+3*u)*r+(1+3*e+3*s-3*u)*n+u*i)/6}function rh(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],u=n>0?e[n-1]:2*i-s,a=n<t-1?e[n+2]:2*s-i;return yu((r-n/t)*t,u,i,s,a)}}function nh(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],s=e[n%t],u=e[(n+1)%t],a=e[(n+2)%t];return yu((r-n/t)*t,i,s,u,a)}}var Ri=e=>()=>e;function wb(e,t){return function(r){return e+r*t}}function _b(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ih(e){return(e=+e)==1?Qo:function(t,r){return r-t?_b(t,r,e):Ri(isNaN(t)?r:t)}}function Qo(e,t){var r=t-e;return r?wb(e,r):Ri(isNaN(e)?t:e)}var Xr=function e(t){var r=ih(t);function n(i,s){var u=r((i=Fn(i)).r,(s=Fn(s)).r),a=r(i.g,s.g),o=r(i.b,s.b),l=Qo(i.opacity,s.opacity);return function(c){return i.r=u(c),i.g=a(c),i.b=o(c),i.opacity=l(c),i+""}}return n.gamma=e,n}(1);function oh(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),u,a;for(u=0;u<r;++u)a=Fn(t[u]),n[u]=a.r||0,i[u]=a.g||0,s[u]=a.b||0;return n=e(n),i=e(i),s=e(s),a.opacity=1,function(o){return a.r=n(o),a.g=i(o),a.b=s(o),a+""}}}var xu=oh(rh),kb=oh(nh);function sh(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function ah(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uh(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),u;for(u=0;u<n;++u)i[u]=Et(e[u],t[u]);for(;u<r;++u)s[u]=t[u];return function(a){for(u=0;u<n;++u)s[u]=i[u](a);return s}}function lh(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Be(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ch(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Et(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var vu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bu=new RegExp(vu.source,"g");function Sb(e){return function(){return e}}function Tb(e){return function(t){return e(t)+""}}function Ai(e,t){var r=vu.lastIndex=bu.lastIndex=0,n,i,s,u=-1,a=[],o=[];for(e=e+"",t=t+"";(n=vu.exec(e))&&(i=bu.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[u]?a[u]+=s:a[++u]=s),(n=n[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,o.push({i:u,x:Be(n,i)})),r=bu.lastIndex;return r<t.length&&(s=t.slice(r),a[u]?a[u]+=s:a[++u]=s),a.length<2?o[0]?Tb(o[0].x):Sb(t):(t=o.length,function(l){for(var c=0,f;c<t;++c)a[(f=o[c]).i]=f.x(l);return a.join("")})}function Et(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ri(t):(r==="number"?Be:r==="string"?(n=At(t))?(t=n,Xr):Ai:t instanceof At?Xr:t instanceof Date?lh:ah(t)?sh:Array.isArray(t)?uh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ch:Be)(e,t)}function Ei(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var fh=180/Math.PI,Zo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wu(e,t,r,n,i,s){var u,a,o;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(o=e*r+t*n)&&(r-=e*o,n-=t*o),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,o/=a),e*n<t*r&&(e=-e,t=-t,o=-o,u=-u),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*fh,skewX:Math.atan(o)*fh,scaleX:u,scaleY:a}}var es;function dh(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zo:wu(t.a,t.b,t.c,t.d,t.e,t.f)}function ph(e){return e==null?Zo:(es||(es=document.createElementNS("http://www.w3.org/2000/svg","g")),es.setAttribute("transform",e),(e=es.transform.baseVal.consolidate())?(e=e.matrix,wu(e.a,e.b,e.c,e.d,e.e,e.f)):Zo)}function mh(e,t,r,n){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,p,m){if(l!==f||c!==d){var h=p.push("translate(",null,t,null,r);m.push({i:h-4,x:Be(l,f)},{i:h-2,x:Be(c,d)})}else(f||d)&&p.push("translate("+f+t+d+r)}function u(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:Be(l,c)})):c&&f.push(i(f)+"rotate("+c+n)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:Be(l,c)}):c&&f.push(i(f)+"skewX("+c+n)}function o(l,c,f,d,p,m){if(l!==f||c!==d){var h=p.push(i(p)+"scale(",null,",",null,")");m.push({i:h-4,x:Be(l,f)},{i:h-2,x:Be(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),u(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),o(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(p){for(var m=-1,h=d.length,g;++m<h;)f[(g=d[m]).i]=g.x(p);return f.join("")}}}var _u=mh(dh,"px, ","px)","deg)"),ku=mh(ph,", ",")",")");var Ln=0,Di=0,Ni=0,hh=1e3,ts,Oi,rs=0,Qr=0,ns=0,ji=typeof performance=="object"&&performance.now?performance:Date,gh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ii(){return Qr||(gh(Cb),Qr=ji.now()+ns)}function Cb(){Qr=0}function qi(){this._call=this._time=this._next=null}qi.prototype=is.prototype={constructor:qi,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Ii():+r)+(t==null?0:+t),!this._next&&Oi!==this&&(Oi?Oi._next=this:ts=this,Oi=this),this._call=e,this._time=r,Su()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Su())}};function is(e,t,r){var n=new qi;return n.restart(e,t,r),n}function yh(){Ii(),++Ln;for(var e=ts,t;e;)(t=Qr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ln}function xh(){Qr=(rs=ji.now())+ns,Ln=Di=0;try{yh()}finally{Ln=0,Rb(),Qr=0}}function Ab(){var e=ji.now(),t=e-rs;t>hh&&(ns-=t,rs=e)}function Rb(){for(var e,t=ts,r,n=Infinity;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ts=r);Oi=e,Su(n)}function Su(e){if(!Ln){Di&&(Di=clearTimeout(Di));var t=e-Qr;t>24?(e<Infinity&&(Di=setTimeout(xh,e-ji.now()-ns)),Ni&&(Ni=clearInterval(Ni))):(Ni||(rs=ji.now(),Ni=setInterval(Ab,hh)),Ln=1,gh(xh))}}function os(e,t,r){var n=new qi;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var Eb=lu("start","end","cancel","interrupt"),Db=[],vh=0,bh=1,ss=2,as=3,wh=4,us=5,Mi=6;function qr(e,t,r,n,i,s){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;Nb(e,r,{name:t,index:n,group:i,on:Eb,tween:Db,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:vh})}function Fi(e,t){var r=Ie(e,t);if(r.state>vh)throw new Error("too late; already scheduled");return r}function $e(e,t){var r=Ie(e,t);if(r.state>as)throw new Error("too late; already running");return r}function Ie(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Nb(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=is(s,0,r.time);function s(l){r.state=bh,r.timer.restart(u,r.delay,r.time),r.delay<=l&&u(l-r.delay)}function u(l){var c,f,d,p;if(r.state!==bh)return o();for(c in n)if(p=n[c],p.name===r.name){if(p.state===as)return os(u);p.state===wh?(p.state=Mi,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=Mi,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(os(function(){r.state===as&&(r.state=wh,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=ss,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ss){for(r.state=as,i=new Array(d=r.tween.length),c=0,f=-1;c<d;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=p);i.length=f+1}}function a(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(o),r.state=us,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);r.state===us&&(r.on.call("end",e,e.__data__,r.index,r.group),o())}function o(){r.state=Mi,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function ls(e,t){var r=e.__transition,n,i,s=!0,u;if(!!r){t=t==null?null:t+"";for(u in r){if((n=r[u]).name!==t){s=!1;continue}i=n.state>ss&&n.state<us,n.state=Mi,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[u]}s&&delete e.__transition}}function _h(e){return this.each(function(){ls(this,e)})}function Ob(e,t){var r,n;return function(){var i=$e(this,e),s=i.tween;if(s!==r){n=r=s;for(var u=0,a=n.length;u<a;++u)if(n[u].name===t){n=n.slice(),n.splice(u,1);break}}i.tween=n}}function jb(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=$e(this,e),u=s.tween;if(u!==n){i=(n=u).slice();for(var a={name:t,value:r},o=0,l=i.length;o<l;++o)if(i[o].name===t){i[o]=a;break}o===l&&i.push(a)}s.tween=i}}function kh(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Ie(this.node(),r).tween,i=0,s=n.length,u;i<s;++i)if((u=n[i]).name===e)return u.value;return null}return this.each((t==null?Ob:jb)(r,e,t))}function Pn(e,t,r){var n=e._id;return e.each(function(){var i=$e(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Ie(i,n).value[t]}}function cs(e,t){var r;return(typeof t=="number"?Be:t instanceof At?Xr:(r=At(t))?(t=r,Xr):Ai)(e,t)}function Ib(e){return function(){this.removeAttribute(e)}}function qb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mb(e,t,r){var n,i=r+"",s;return function(){var u=this.getAttribute(e);return u===i?null:u===n?s:s=t(n=u,r)}}function Fb(e,t,r){var n,i=r+"",s;return function(){var u=this.getAttributeNS(e.space,e.local);return u===i?null:u===n?s:s=t(n=u,r)}}function Lb(e,t,r){var n,i,s;return function(){var u,a=r(this),o;return a==null?void this.removeAttribute(e):(u=this.getAttribute(e),o=a+"",u===o?null:u===n&&o===i?s:(i=o,s=t(n=u,a)))}}function Pb(e,t,r){var n,i,s;return function(){var u,a=r(this),o;return a==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),o=a+"",u===o?null:u===n&&o===i?s:(i=o,s=t(n=u,a)))}}function Sh(e,t){var r=cr(e),n=r==="transform"?ku:cs;return this.attrTween(e,typeof t=="function"?(r.local?Pb:Lb)(r,n,Pn(this,"attr."+e,t)):t==null?(r.local?qb:Ib)(r):(r.local?Fb:Mb)(r,n,t))}function Bb(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function $b(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Gb(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&$b(e,s)),r}return i._value=t,i}function zb(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Bb(e,s)),r}return i._value=t,i}function Th(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=cr(e);return this.tween(r,(n.local?Gb:zb)(n,t))}function Wb(e,t){return function(){Fi(this,e).delay=+t.apply(this,arguments)}}function Ub(e,t){return t=+t,function(){Fi(this,e).delay=t}}function Ch(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Wb:Ub)(t,e)):Ie(this.node(),t).delay}function Hb(e,t){return function(){$e(this,e).duration=+t.apply(this,arguments)}}function Yb(e,t){return t=+t,function(){$e(this,e).duration=t}}function Rh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Hb:Yb)(t,e)):Ie(this.node(),t).duration}function Vb(e,t){if(typeof t!="function")throw new Error;return function(){$e(this,e).ease=t}}function Ah(e){var t=this._id;return arguments.length?this.each(Vb(t,e)):Ie(this.node(),t).ease}function Kb(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;$e(this,e).ease=r}}function Eh(e){if(typeof e!="function")throw new Error;return this.each(Kb(this._id,e))}function Dh(e){typeof e!="function"&&(e=_i(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],u=s.length,a=n[i]=[],o,l=0;l<u;++l)(o=s[l])&&e.call(o,o.__data__,l,s)&&a.push(o);return new Qe(n,this._parents,this._name,this._id)}function Nh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),u=new Array(n),a=0;a<s;++a)for(var o=t[a],l=r[a],c=o.length,f=u[a]=new Array(c),d,p=0;p<c;++p)(d=o[p]||l[p])&&(f[p]=d);for(;a<n;++a)u[a]=t[a];return new Qe(u,this._parents,this._name,this._id)}function Jb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Xb(e,t,r){var n,i,s=Jb(t)?Fi:$e;return function(){var u=s(this,e),a=u.on;a!==n&&(i=(n=a).copy()).on(t,r),u.on=i}}function Oh(e,t){var r=this._id;return arguments.length<2?Ie(this.node(),r).on.on(e):this.each(Xb(r,e,t))}function Qb(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function jh(){return this.on("end.remove",Qb(this._id))}function Ih(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Jr(e));for(var n=this._groups,i=n.length,s=new Array(i),u=0;u<i;++u)for(var a=n[u],o=a.length,l=s[u]=new Array(o),c,f,d=0;d<o;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,qr(l[d],t,r,d,l,Ie(c,r)));return new Qe(s,this._parents,t,r)}function qh(e){var t=this._name,r=this._id;typeof e!="function"&&(e=wi(e));for(var n=this._groups,i=n.length,s=[],u=[],a=0;a<i;++a)for(var o=n[a],l=o.length,c,f=0;f<l;++f)if(c=o[f]){for(var d=e.call(c,c.__data__,f,o),p,m=Ie(c,r),h=0,g=d.length;h<g;++h)(p=d[h])&&qr(p,t,r,h,d,m);s.push(d),u.push(c)}return new Qe(s,u,t,r)}var Zb=fr.prototype.constructor;function Mh(){return new Zb(this._groups,this._parents)}function ew(e,t){var r,n,i;return function(){var s=Ir(this,e),u=(this.style.removeProperty(e),Ir(this,e));return s===u?null:s===r&&u===n?i:i=t(r=s,n=u)}}function Fh(e){return function(){this.style.removeProperty(e)}}function tw(e,t,r){var n,i=r+"",s;return function(){var u=Ir(this,e);return u===i?null:u===n?s:s=t(n=u,r)}}function rw(e,t,r){var n,i,s;return function(){var u=Ir(this,e),a=r(this),o=a+"";return a==null&&(o=a=(this.style.removeProperty(e),Ir(this,e))),u===o?null:u===n&&o===i?s:(i=o,s=t(n=u,a))}}function nw(e,t){var r,n,i,s="style."+t,u="end."+s,a;return function(){var o=$e(this,e),l=o.on,c=o.value[s]==null?a||(a=Fh(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(u,i=c),o.on=n}}function Lh(e,t,r){var n=(e+="")==="transform"?_u:cs;return t==null?this.styleTween(e,ew(e,n)).on("end.style."+e,Fh(e)):typeof t=="function"?this.styleTween(e,rw(e,n,Pn(this,"style."+e,t))).each(nw(this._id,e)):this.styleTween(e,tw(e,n,t),r).on("end.style."+e,null)}function iw(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function ow(e,t,r){var n,i;function s(){var u=t.apply(this,arguments);return u!==i&&(n=(i=u)&&iw(e,u,r)),n}return s._value=t,s}function Ph(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ow(e,t,r==null?"":r))}function sw(e){return function(){this.textContent=e}}function aw(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Bh(e){return this.tween("text",typeof e=="function"?aw(Pn(this,"text",e)):sw(e==null?"":e+""))}function uw(e){return function(t){this.textContent=e.call(this,t)}}function lw(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&uw(i)),t}return n._value=e,n}function $h(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lw(e))}function Gh(){for(var e=this._name,t=this._id,r=fs(),n=this._groups,i=n.length,s=0;s<i;++s)for(var u=n[s],a=u.length,o,l=0;l<a;++l)if(o=u[l]){var c=Ie(o,t);qr(o,e,r,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Qe(n,this._parents,e,r)}function zh(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,u){var a={value:u},o={value:function(){--i==0&&s()}};r.each(function(){var l=$e(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(o)),l.on=t}),i===0&&s()})}var cw=0;function Qe(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Wh(e){return fr().transition(e)}function fs(){return++cw}var dr=fr.prototype;Qe.prototype=Wh.prototype={constructor:Qe,select:Ih,selectAll:qh,selectChild:dr.selectChild,selectChildren:dr.selectChildren,filter:Dh,merge:Nh,selection:Mh,transition:Gh,call:dr.call,nodes:dr.nodes,node:dr.node,size:dr.size,empty:dr.empty,each:dr.each,on:Oh,attr:Sh,attrTween:Th,style:Lh,styleTween:Ph,text:Bh,textTween:$h,remove:jh,tween:kh,delay:Ch,duration:Rh,ease:Ah,easeVarying:Eh,end:zh,[Symbol.iterator]:dr[Symbol.iterator]};function ds(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fw={time:null,delay:0,duration:250,ease:ds};function dw(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Uh(e){var t,r;e instanceof Qe?(t=e._id,e=e._name):(t=fs(),(r=fw).time=Ii(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var u=n[s],a=u.length,o,l=0;l<a;++l)(o=u[l])&&qr(o,e,t,l,u,r||dw(o,t));return new Qe(n,this._parents,e,t)}fr.prototype.interrupt=_h;fr.prototype.transition=Uh;function Hh(e){return[+e[0],+e[1]]}function pw(e){return[Hh(e[0]),Hh(e[1])]}var mN={name:"x",handles:["w","e"].map(Tu),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},hN={name:"y",handles:["n","s"].map(Tu),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},gN={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Tu),input:function(e){return e==null?null:pw(e)},output:function(e){return e}};function Tu(e){return{type:e}}var Cu=Math.PI,Ru=2*Cu,Zr=1e-6,mw=Ru-Zr;function Au(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yh(){return new Au}Au.prototype=Yh.prototype={constructor:Au,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var s=this._x1,u=this._y1,a=r-e,o=n-t,l=s-e,c=u-t,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Zr)if(!(Math.abs(c*a-o*l)>Zr)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=r-s,p=n-u,m=a*a+o*o,h=d*d+p*p,g=Math.sqrt(m),y=Math.sqrt(f),x=i*Math.tan((Cu-Math.acos((m+f-h)/(2*g*y)))/2),k=x/y,j=x/g;Math.abs(k-1)>Zr&&(this._+="L"+(e+k*l)+","+(t+k*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>l*p)+","+(this._x1=e+j*a)+","+(this._y1=t+j*o)}},arc:function(e,t,r,n,i,s){e=+e,t=+t,r=+r,s=!!s;var u=r*Math.cos(n),a=r*Math.sin(n),o=e+u,l=t+a,c=1^s,f=s?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+o+","+l:(Math.abs(this._x1-o)>Zr||Math.abs(this._y1-l)>Zr)&&(this._+="L"+o+","+l),!!r&&(f<0&&(f=f%Ru+Ru),f>mw?this._+="A"+r+","+r+",0,1,"+c+","+(e-u)+","+(t-a)+"A"+r+","+r+",0,1,"+c+","+(this._x1=o)+","+(this._y1=l):f>Zr&&(this._+="A"+r+","+r+",0,"+ +(f>=Cu)+","+c+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var en=Yh;function Vh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tn(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xt(e){return e=tn(Math.abs(e)),e?e[1]:NaN}function Kh(e,t){return function(r,n){for(var i=r.length,s=[],u=0,a=e[0],o=0;i>0&&a>0&&(o+a+1>n&&(a=Math.max(1,n-o)),s.push(r.substring(i-=a,i+a)),!((o+=a+1)>n));)a=e[u=(u+1)%e.length];return s.reverse().join(t)}}function Jh(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mr(e){if(!(t=hw.exec(e)))throw new Error("invalid format: "+e);var t;return new ps({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mr.prototype=ps.prototype;function ps(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ps.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xh(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Eu;function Qh(e,t){var r=tn(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(Eu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=n.length;return s===u?n:s>u?n+new Array(s-u+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+tn(e,Math.max(0,t+s-1))[0]}function Du(e,t){var r=tn(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var Nu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Du(e*100,t),r:Du,s:Qh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ou(e){return e}var Zh=Array.prototype.map,eg=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function tg(e){var t=e.grouping===void 0||e.thousands===void 0?Ou:Kh(Zh.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Ou:Jh(Zh.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Mr(f);var d=f.fill,p=f.align,m=f.sign,h=f.symbol,g=f.zero,y=f.width,x=f.comma,k=f.precision,j=f.trim,q=f.type;q==="n"?(x=!0,q="g"):Nu[q]||(k===void 0&&(k=12),j=!0,q="g"),(g||d==="0"&&p==="=")&&(g=!0,d="0",p="=");var b=h==="$"?r:h==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",_=h==="$"?n:/[%p]/.test(q)?u:"",D=Nu[q],P=/[defgprs%]/.test(q);k=k===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function K(N){var F=b,C=_,ae,Oe,We;if(q==="c")C=D(N)+C,N="";else{N=+N;var Fe=N<0||1/N<0;if(N=isNaN(N)?o:D(Math.abs(N),k),j&&(N=Xh(N)),Fe&&+N==0&&m!=="+"&&(Fe=!1),F=(Fe?m==="("?m:a:m==="-"||m==="("?"":m)+F,C=(q==="s"?eg[8+Eu/3]:"")+C+(Fe&&m==="("?")":""),P){for(ae=-1,Oe=N.length;++ae<Oe;)if(We=N.charCodeAt(ae),48>We||We>57){C=(We===46?i+N.slice(ae+1):N.slice(ae))+C,N=N.slice(0,ae);break}}}x&&!g&&(N=t(N,Infinity));var Ue=F.length+N.length+C.length,Ee=Ue<y?new Array(y-Ue+1).join(d):"";switch(x&&g&&(N=t(Ee+N,Ee.length?y-C.length:Infinity),Ee=""),p){case"<":N=F+N+C+Ee;break;case"=":N=F+Ee+N+C;break;case"^":N=Ee.slice(0,Ue=Ee.length>>1)+F+N+C+Ee.slice(Ue);break;default:N=Ee+F+N+C;break}return s(N)}return K.toString=function(){return f+""},K}function c(f,d){var p=l((f=Mr(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Xt(d)/3)))*3,h=Math.pow(10,-m),g=eg[8+m/3];return function(y){return p(h*y)+g}}return{format:l,formatPrefix:c}}var ms,hs,gs;ju({thousands:",",grouping:[3],currency:["$",""]});function ju(e){return ms=tg(e),hs=ms.format,gs=ms.formatPrefix,ms}function Iu(e){return Math.max(0,-Xt(Math.abs(e)))}function qu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xt(t)/3)))*3-Xt(Math.abs(e)))}function Mu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xt(t)-Xt(e))+1}function Bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var rg=Symbol("implicit");function ys(){var e=new Yr,t=[],r=[],n=rg;function i(s){let u=e.get(s);if(u===void 0){if(n!==rg)return n;e.set(s,u=t.push(s)-1)}return r[u%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Yr;for(let u of s)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ys(t,r).unknown(n)},Bn.apply(i,arguments),i}function Fr(){var e=ys().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,u,a=!1,o=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<n,m=p?i:n,h=p?n:i;s=(h-m)/Math.max(1,d-o+l*2),a&&(s=Math.floor(s)),m+=(h-m-s*(d-o))*c,u=s*(1-o),a&&(m=Math.round(m),u=Math.round(u));var g=ou(d).map(function(y){return m+s*y});return r(p?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,a=!0,f()},e.bandwidth=function(){return u},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(o=Math.min(1,l=+d),f()):o},e.paddingInner=function(d){return arguments.length?(o=Math.min(1,d),f()):o},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Fr(t(),[n,i]).round(a).paddingInner(o).paddingOuter(l).align(c)},Bn.apply(f(),arguments)}function Lu(e){return function(){return e}}function Pu(e){return+e}var ng=[0,1];function nt(e){return e}function Bu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lu(isNaN(t)?NaN:.5)}function gw(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yw(e,t,r){var n=e[0],i=e[1],s=t[0],u=t[1];return i<n?(n=Bu(i,n),s=r(u,s)):(n=Bu(n,i),s=r(s,u)),function(a){return s(n(a))}}function xw(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)i[u]=Bu(e[u],e[u+1]),s[u]=r(t[u],t[u+1]);return function(a){var o=hi(e,a,1,n)-1;return s[o](i[o](a))}}function $u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ig(){var e=ng,t=ng,r=Et,n,i,s,u=nt,a,o,l;function c(){var d=Math.min(e.length,t.length);return u!==nt&&(u=gw(e[0],e[d-1])),a=d>2?xw:yw,o=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(o||(o=a(e.map(n),t,r)))(n(u(d)))}return f.invert=function(d){return u(i((l||(l=a(t,e.map(n),Be)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Pu),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=Ei,c()},f.clamp=function(d){return arguments.length?(u=d?!0:nt,c()):u!==nt},f.interpolate=function(d){return arguments.length?(r=d,c()):r},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,p){return n=d,i=p,c()}}function Gu(){return ig()(nt,nt)}function zu(e,t,r,n){var i=nu(e,t,r),s;switch(n=Mr(n==null?",f":n),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=qu(i,u))&&(n.precision=s),gs(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Mu(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Iu(i))&&(n.precision=s-(n.type==="%")*2);break}}return hs(n)}function Li(e){var t=e.domain;return e.ticks=function(r){var n=t();return yi(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var i=t();return zu(i[0],i[i.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,u=n[i],a=n[s],o,l,c=10;for(a<u&&(l=u,u=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=jr(u,a,r),l===o)return n[i]=u,n[s]=a,t(n);if(l>0)u=Math.floor(u/l)*l,a=Math.ceil(a/l)*l;else if(l<0)u=Math.ceil(u*l)/l,a=Math.floor(a*l)/l;else break;o=l}return e},e}function fe(){var e=Gu();return e.copy=function(){return $u(e,fe())},Bn.apply(e,arguments),Li(e)}function og(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bw(e){return e<0?-e*e:e*e}function sg(e){var t=e(nt,nt),r=1;function n(){return r===1?e(nt,nt):r===.5?e(vw,bw):e(og(r),og(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Li(t)}var Wu=new Date,Uu=new Date;function pr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var u=i(s),a=i.ceil(s);return s-u<a-s?u:a},i.offset=function(s,u){return t(s=new Date(+s),u==null?1:Math.floor(u)),s},i.range=function(s,u,a){var o=[],l;if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<u)||!(a>0))return o;do o.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<u);return o},i.filter=function(s){return pr(function(u){if(u>=u)for(;e(u),!s(u);)u.setTime(u-1)},function(u,a){if(u>=u)if(a<0)for(;++a<=0;)for(;t(u,-1),!s(u););else for(;--a>=0;)for(;t(u,1),!s(u););})},r&&(i.count=function(s,u){return Wu.setTime(+s),Uu.setTime(+u),e(Wu),e(Uu),Math.floor(r(Wu,Uu))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?function(u){return n(u)%s==0}:function(u){return i.count(0,u)%s==0}):i}),i}var ww=1e3,Pi=ww*60,_w=Pi*60,Bi=_w*24,ag=Bi*7,PO=Bi*30,BO=Bi*365;var ug=pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pi)/Bi,e=>e.getDate()-1),$n=ug,kw=ug.range;function rn(e){return pr(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/ag})}var $i=rn(0),xs=rn(1),lg=rn(2),cg=rn(3),fg=rn(4),vs=rn(5),bs=rn(6),dg=$i.range,Sw=xs.range,Tw=lg.range,Cw=cg.range,Rw=fg.range,Aw=vs.range,Ew=bs.range;var Hu=pr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Hu.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:pr(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var nn=Hu,Dw=Hu.range;function pg(){var e=0,t=1,r,n,i,s,u=nt,a=!1,o;function l(f){return f==null||isNaN(f=+f)?o:u(i===0?.5:(f=(s(f)-r)*i,a?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(f){return arguments.length?(a=!!f,l):a},l.interpolator=function(f){return arguments.length?(u=f,l):u};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,u=f(p,m),l):[u(0),u(1)]}}return l.range=c(Et),l.rangeRound=c(Ei),l.unknown=function(f){return arguments.length?(o=f,l):o},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),l}}function mg(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ae(){var e=Li(pg()(nt));return e.copy=function(){return mg(e,Ae())},Fu.apply(e,arguments)}function Yu(){var e=sg(pg());return e.copy=function(){return mg(e,Yu()).exponent(e.exponent())},Fu.apply(e,arguments)}function Vu(){return Yu.apply(null,arguments).exponent(.5)}function bt(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var wt=e=>xu(e[e.length-1]);var hg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(bt),Gi=wt(hg);var ws=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(bt),mr=wt(ws);var zi=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(bt),Gn=wt(zi);var gg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(bt),Ku=wt(gg);var _s=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(bt),Ju=wt(_s);var ks=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(bt),Xu=wt(ks);function se(e){return function(){return e}}var Qu=Math.abs,Ge=Math.atan2,Lr=Math.cos,yg=Math.max,Ss=Math.min,Dt=Math.sin,on=Math.sqrt,Ze=1e-12,zn=Math.PI,Wi=zn/2,Wn=2*zn;function xg(e){return e>1?0:e<-1?zn:Math.acos(e)}function Zu(e){return e>=1?Wi:e<=-1?-Wi:Math.asin(e)}function Nw(e){return e.innerRadius}function Ow(e){return e.outerRadius}function jw(e){return e.startAngle}function Iw(e){return e.endAngle}function qw(e){return e&&e.padAngle}function Mw(e,t,r,n,i,s,u,a){var o=r-e,l=n-t,c=u-i,f=a-s,d=f*o-c*l;if(!(d*d<Ze))return d=(c*(t-s)-f*(e-i))/d,[e+d*o,t+d*l]}function Ts(e,t,r,n,i,s,u){var a=e-r,o=t-n,l=(u?s:-s)/on(a*a+o*o),c=l*o,f=-l*a,d=e+c,p=t+f,m=r+c,h=n+f,g=(d+m)/2,y=(p+h)/2,x=m-d,k=h-p,j=x*x+k*k,q=i-s,b=d*h-m*p,_=(k<0?-1:1)*on(yg(0,q*q*j-b*b)),D=(b*k-x*_)/j,P=(-b*x-k*_)/j,K=(b*k+x*_)/j,N=(-b*x+k*_)/j,F=D-g,C=P-y,ae=K-g,Oe=N-y;return F*F+C*C>ae*ae+Oe*Oe&&(D=K,P=N),{cx:D,cy:P,x01:-c,y01:-f,x11:D*(i/q-1),y11:P*(i/q-1)}}function el(){var e=Nw,t=Ow,r=se(0),n=null,i=jw,s=Iw,u=qw,a=null;function o(){var l,c,f=+e.apply(this,arguments),d=+t.apply(this,arguments),p=i.apply(this,arguments)-Wi,m=s.apply(this,arguments)-Wi,h=Qu(m-p),g=m>p;if(a||(a=l=en()),d<f&&(c=d,d=f,f=c),!(d>Ze))a.moveTo(0,0);else if(h>Wn-Ze)a.moveTo(d*Lr(p),d*Dt(p)),a.arc(0,0,d,p,m,!g),f>Ze&&(a.moveTo(f*Lr(m),f*Dt(m)),a.arc(0,0,f,m,p,g));else{var y=p,x=m,k=p,j=m,q=h,b=h,_=u.apply(this,arguments)/2,D=_>Ze&&(n?+n.apply(this,arguments):on(f*f+d*d)),P=Ss(Qu(d-f)/2,+r.apply(this,arguments)),K=P,N=P,F,C;if(D>Ze){var ae=Zu(D/f*Dt(_)),Oe=Zu(D/d*Dt(_));(q-=ae*2)>Ze?(ae*=g?1:-1,k+=ae,j-=ae):(q=0,k=j=(p+m)/2),(b-=Oe*2)>Ze?(Oe*=g?1:-1,y+=Oe,x-=Oe):(b=0,y=x=(p+m)/2)}var We=d*Lr(y),Fe=d*Dt(y),Ue=f*Lr(j),Ee=f*Dt(j);if(P>Ze){var et=d*Lr(x),tr=d*Dt(x),rr=f*Lr(k),nr=f*Dt(k),qe;if(h<zn&&(qe=Mw(We,Fe,rr,nr,et,tr,Ue,Ee))){var ir=We-qe[0],kt=Fe-qe[1],jt=et-qe[0],hr=tr-qe[1],H=1/Dt(xg((ir*jt+kt*hr)/(on(ir*ir+kt*kt)*on(jt*jt+hr*hr)))/2),he=on(qe[0]*qe[0]+qe[1]*qe[1]);K=Ss(P,(f-he)/(H-1)),N=Ss(P,(d-he)/(H+1))}}b>Ze?N>Ze?(F=Ts(rr,nr,We,Fe,d,N,g),C=Ts(et,tr,Ue,Ee,d,N,g),a.moveTo(F.cx+F.x01,F.cy+F.y01),N<P?a.arc(F.cx,F.cy,N,Ge(F.y01,F.x01),Ge(C.y01,C.x01),!g):(a.arc(F.cx,F.cy,N,Ge(F.y01,F.x01),Ge(F.y11,F.x11),!g),a.arc(0,0,d,Ge(F.cy+F.y11,F.cx+F.x11),Ge(C.cy+C.y11,C.cx+C.x11),!g),a.arc(C.cx,C.cy,N,Ge(C.y11,C.x11),Ge(C.y01,C.x01),!g))):(a.moveTo(We,Fe),a.arc(0,0,d,y,x,!g)):a.moveTo(We,Fe),!(f>Ze)||!(q>Ze)?a.lineTo(Ue,Ee):K>Ze?(F=Ts(Ue,Ee,et,tr,f,-K,g),C=Ts(We,Fe,rr,nr,f,-K,g),a.lineTo(F.cx+F.x01,F.cy+F.y01),K<P?a.arc(F.cx,F.cy,K,Ge(F.y01,F.x01),Ge(C.y01,C.x01),!g):(a.arc(F.cx,F.cy,K,Ge(F.y01,F.x01),Ge(F.y11,F.x11),!g),a.arc(0,0,f,Ge(F.cy+F.y11,F.cx+F.x11),Ge(C.cy+C.y11,C.cx+C.x11),g),a.arc(C.cx,C.cy,K,Ge(C.y11,C.x11),Ge(C.y01,C.x01),!g))):a.arc(0,0,f,j,k,g)}if(a.closePath(),l)return a=null,l+""||null}return o.centroid=function(){var l=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-zn/2;return[Lr(c)*l,Dt(c)*l]},o.innerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:se(+l),o):e},o.outerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:se(+l),o):t},o.cornerRadius=function(l){return arguments.length?(r=typeof l=="function"?l:se(+l),o):r},o.padRadius=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:se(+l),o):n},o.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:se(+l),o):i},o.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:se(+l),o):s},o.padAngle=function(l){return arguments.length?(u=typeof l=="function"?l:se(+l),o):u},o.context=function(l){return arguments.length?(a=l==null?null:l,o):a},o}var Yj=Array.prototype.slice;function Un(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vg(e){this._context=e}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Cs(e){return new vg(e)}function Rs(e){return e[0]}function As(e){return e[1]}function bg(e,t){var r=se(!0),n=null,i=Cs,s=null;e=typeof e=="function"?e:e===void 0?Rs:se(e),t=typeof t=="function"?t:t===void 0?As:se(t);function u(a){var o,l=(a=Un(a)).length,c,f=!1,d;for(n==null&&(s=i(d=en())),o=0;o<=l;++o)!(o<l&&r(c=a[o],o,a))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(c,o,a),+t(c,o,a));if(d)return s=null,d+""||null}return u.x=function(a){return arguments.length?(e=typeof a=="function"?a:se(+a),u):e},u.y=function(a){return arguments.length?(t=typeof a=="function"?a:se(+a),u):t},u.defined=function(a){return arguments.length?(r=typeof a=="function"?a:se(!!a),u):r},u.curve=function(a){return arguments.length?(i=a,n!=null&&(s=i(n)),u):i},u.context=function(a){return arguments.length?(a==null?n=s=null:s=i(n=a),u):n},u}function sn(e,t,r){var n=null,i=se(!0),s=null,u=Cs,a=null;e=typeof e=="function"?e:e===void 0?Rs:se(+e),t=typeof t=="function"?t:t===void 0?se(0):se(+t),r=typeof r=="function"?r:r===void 0?As:se(+r);function o(c){var f,d,p,m=(c=Un(c)).length,h,g=!1,y,x=new Array(m),k=new Array(m);for(s==null&&(a=u(y=en())),f=0;f<=m;++f){if(!(f<m&&i(h=c[f],f,c))===g)if(g=!g)d=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=d;--p)a.point(x[p],k[p]);a.lineEnd(),a.areaEnd()}g&&(x[f]=+e(h,f,c),k[f]=+t(h,f,c),a.point(n?+n(h,f,c):x[f],r?+r(h,f,c):k[f]))}if(y)return a=null,y+""||null}function l(){return bg().defined(i).curve(u).context(s)}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:se(+c),n=null,o):e},o.x0=function(c){return arguments.length?(e=typeof c=="function"?c:se(+c),o):e},o.x1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:se(+c),o):n},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:se(+c),r=null,o):t},o.y0=function(c){return arguments.length?(t=typeof c=="function"?c:se(+c),o):t},o.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:se(+c),o):r},o.lineX0=o.lineY0=function(){return l().x(e).y(t)},o.lineY1=function(){return l().x(e).y(r)},o.lineX1=function(){return l().x(n).y(t)},o.defined=function(c){return arguments.length?(i=typeof c=="function"?c:se(!!c),o):i},o.curve=function(c){return arguments.length?(u=c,s!=null&&(a=u(s)),o):u},o.context=function(c){return arguments.length?(c==null?s=a=null:a=u(s=c),o):s},o}function wg(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function _g(e){return e}function tl(){var e=_g,t=wg,r=null,n=se(0),i=se(Wn),s=se(0);function u(a){var o,l=(a=Un(a)).length,c,f,d=0,p=new Array(l),m=new Array(l),h=+n.apply(this,arguments),g=Math.min(Wn,Math.max(-Wn,i.apply(this,arguments)-h)),y,x=Math.min(Math.abs(g)/l,s.apply(this,arguments)),k=x*(g<0?-1:1),j;for(o=0;o<l;++o)(j=m[p[o]=o]=+e(a[o],o,a))>0&&(d+=j);for(t!=null?p.sort(function(q,b){return t(m[q],m[b])}):r!=null&&p.sort(function(q,b){return r(a[q],a[b])}),o=0,f=d?(g-l*k)/d:0;o<l;++o,h=y)c=p[o],j=m[c],y=h+(j>0?j*f:0)+k,m[c]={data:a[c],index:o,value:j,startAngle:h,endAngle:y,padAngle:x};return m}return u.value=function(a){return arguments.length?(e=typeof a=="function"?a:se(+a),u):e},u.sortValues=function(a){return arguments.length?(t=a,r=null,u):t},u.sort=function(a){return arguments.length?(r=a,t=null,u):r},u.startAngle=function(a){return arguments.length?(n=typeof a=="function"?a:se(+a),u):n},u.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:se(+a),u):i},u.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:se(+a),u):s},u}function kg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Sg(e){this._context=e}Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function an(e){return new Sg(e)}function Pr(e,t,r){this.k=e,this.x=t,this.y=r}Pr.prototype={constructor:Pr,scale:function(e){return e===1?this:new Pr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Pr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rl=new Pr(1,0,0);nl.prototype=Pr.prototype;function nl(e){for(;!e.__zoom;)if(!(e=e.parentNode))return rl;return e.__zoom}var Fw=typeof global=="object"&&global&&global.Object===Object&&global,Tg=Fw;var Lw=typeof self=="object"&&self&&self.Object===Object&&self,Pw=Tg||Lw||Function("return this")(),Es=Pw;var Bw=Es.Symbol,Hn=Bw;var Cg=Object.prototype,$w=Cg.hasOwnProperty,Gw=Cg.toString,Ui=Hn?Hn.toStringTag:void 0;function zw(e){var t=$w.call(e,Ui),r=e[Ui];try{e[Ui]=void 0;var n=!0}catch(s){}var i=Gw.call(e);return n&&(t?e[Ui]=r:delete e[Ui]),i}var Rg=zw;var Ww=Object.prototype,Uw=Ww.toString;function Hw(e){return Uw.call(e)}var Ag=Hw;var Yw="[object Null]",Vw="[object Undefined]",Eg=Hn?Hn.toStringTag:void 0;function Kw(e){return e==null?e===void 0?Vw:Yw:Eg&&Eg in Object(e)?Rg(e):Ag(e)}var Dg=Kw;function Jw(e){return e!=null&&typeof e=="object"}var Ng=Jw;var Xw="[object Symbol]";function Qw(e){return typeof e=="symbol"||Ng(e)&&Dg(e)==Xw}var Og=Qw;var Zw=/\s/;function e1(e){for(var t=e.length;t--&&Zw.test(e.charAt(t)););return t}var jg=e1;var t1=/^\s+/;function r1(e){return e&&e.slice(0,jg(e)+1).replace(t1,"")}var Ig=r1;function n1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var un=n1;var qg=0/0,i1=/^[-+]0x[0-9a-f]+$/i,o1=/^0b[01]+$/i,s1=/^0o[0-7]+$/i,a1=parseInt;function u1(e){if(typeof e=="number")return e;if(Og(e))return qg;if(un(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=un(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ig(e);var r=o1.test(e);return r||s1.test(e)?a1(e.slice(2),r?2:8):i1.test(e)?qg:+e}var il=u1;var l1=function(){return Es.Date.now()},Ds=l1;var c1="Expected a function",f1=Math.max,d1=Math.min;function p1(e,t,r){var n,i,s,u,a,o,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(c1);t=il(t)||0,un(r)&&(c=!!r.leading,f="maxWait"in r,s=f?f1(il(r.maxWait)||0,t):s,d="trailing"in r?!!r.trailing:d);function p(b){var _=n,D=i;return n=i=void 0,l=b,u=e.apply(D,_),u}function m(b){return l=b,a=setTimeout(y,t),c?p(b):u}function h(b){var _=b-o,D=b-l,P=t-_;return f?d1(P,s-D):P}function g(b){var _=b-o,D=b-l;return o===void 0||_>=t||_<0||f&&D>=s}function y(){var b=Ds();if(g(b))return x(b);a=setTimeout(y,h(b))}function x(b){return a=void 0,d&&n?p(b):(n=i=void 0,u)}function k(){a!==void 0&&clearTimeout(a),l=0,n=o=i=a=void 0}function j(){return a===void 0?u:x(Ds())}function q(){var b=Ds(),_=g(b);if(n=arguments,i=this,o=b,_){if(a===void 0)return m(o);if(f)return clearTimeout(a),a=setTimeout(y,t),p(o)}return a===void 0&&(a=setTimeout(y,t)),u}return q.cancel=k,q.flush=j,q}var Mg=p1;var m1="Expected a function";function h1(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(m1);return un(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Mg(e,t,{leading:n,maxWait:t,trailing:i})}var ol=h1;function g1(e){let t;return{c(){t=L("div"),R(t,"class","tooltip svelte-1x9rjc3"),it(t,"left",e[3]+"px"),it(t,"top",e[4]+"px"),it(t,"opacity",e[1]?1:0)},m(r,n){E(r,t,n),t.innerHTML=e[0],e[8](t)},p(r,[n]){n&1&&(t.innerHTML=r[0]),n&8&&it(t,"left",r[3]+"px"),n&16&&it(t,"top",r[4]+"px"),n&2&&it(t,"opacity",r[1]?1:0)},i:ne,o:ne,d(r){r&&A(t),e[8](null)}}}function y1(e,t,r){let{html:n=""}=t,{x:i=0}=t,{y:s=0}=t,{show:u=!0}=t,a=null,o,l,c=0;function f(d){we[d?"unshift":"push"](()=>{a=d,r(2,a)})}return e.$$set=d=>{"html"in d&&r(0,n=d.html),"x"in d&&r(5,i=d.x),"y"in d&&r(6,s=d.y),"show"in d&&r(1,u=d.show)},e.$$.update=()=>{if(e.$$.dirty&36){e:r(7,c=a?Math.round(a.clientWidth*1.2*(i/document.body.clientWidth)):0)}if(e.$$.dirty&224){e:r(3,o=i+40-c),r(4,l=s+40)}},[n,u,a,o,l,i,s,c,f]}var Fg=class extends X{constructor(t){super();Z(this,t,y1,g1,J,{html:0,x:5,y:6,show:1})}},Lg=Fg;var Ns=null;function Pg(){if(Ns)return Ns;let e=document.createElement("div");return Ns=new Lg({target:e}),document.body.appendChild(e),Ns}function x1(e,t,r){Pg().$set({html:e,x:t,y:r,show:!0})}var Nt=ol(x1,16);function Qt(){let e=Pg();Nt.cancel(),e.$set({show:!1})}var Bg="tick-odd",Os="graph-element-clickable";function $g(e,t,r){var n;let i=ct(e),s=i.transition().duration(600);if(r)Xe(i,!0);else{Xe(i,!1);return}let u=(n=r.binValue)!==null&&n!==void 0?n:y=>y.length,a=r.scale.range([t.marginLeft,t.width-t.marginRight]);i.select(".x-ticks").call(y=>{var x;return y.transition(s).call(ur(a).ticks(7).tickSizeOuter(0).tickFormat((x=r.xTickFormat)!==null&&x!==void 0?x:null))}).attr("direction","ltr");let o=ar(r.bins,y=>u(y)),l=fe().range([t.height-t.marginBottom,t.marginTop]).domain([0,o]).nice();i.select(".y-ticks").call(y=>y.transition(s).call(lr(l).ticks(t.height/50).tickSizeOuter(0))).attr("direction","ltr");function c(y){let x=Math.max(0,a(y.x1)-a(y.x0)-1);return x!=null?x:0}let f=y=>y.attr("width",c).transition(s).attr("x",x=>a(x.x0)).attr("y",x=>l(u(x))).attr("height",x=>l(0)-l(u(x))).attr("fill",x=>r.colourScale(x.x1));i.select("g.bars").selectAll("rect").data(r.bins).join(y=>y.append("rect").attr("rx",1).attr("x",x=>a(x.x0)).attr("y",l(0)).attr("height",0).call(f),y=>y.call(f),y=>y.call(x=>x.transition(s).attr("height",0).attr("y",l(0))));let d=r.bins.map(y=>u(y));d.unshift(0);let p=Or(d),m=l.copy().domain([0,r.total]).nice();r.showArea&&r.bins.length&&p.slice(-1)[0]&&(i.select(".y2-ticks").call(y=>y.transition(s).call(Kr(m).ticks(t.height/50).tickSizeOuter(0))).attr("direction","ltr"),i.select("path.cumulative-overlay").datum(p).attr("d",sn().curve(an).x((y,x)=>a(x===0?r.bins[0].x0:r.bins[x-1].x1)).y0(t.height-t.marginBottom).y1(y=>m(y))));let h=r.bins.map((y,x)=>[y,p[x+1]]),g=i.select("g.hover-columns").selectAll("rect").data(h).join("rect").attr("x",([y])=>a(y.x0)).attr("y",()=>l(o)).attr("width",([y])=>c(y)).attr("height",()=>l(0)-l(o)).on("mousemove",(y,[x,k])=>{let[j,q]=Rt(y,document.body),b=r.showArea?k/r.total*100:0;Nt(r.hoverText(x,k,b),j,q)}).on("mouseout",Qt);r.onClick&&g.filter(([y])=>y.length>0).attr("class",Os).on("click",(y,[x])=>r.onClick(x))}function v1(e){let t,r,n,i,s,u,a,o;return n=new Nr({}),i=new In({}),s=new Yt({props:{bounds:e[1]}}),u=new Vt({props:{bounds:e[1]}}),{c(){t=me("svg"),r=me("g"),U(n.$$.fragment),U(i.$$.fragment),U(s.$$.fragment),U(u.$$.fragment),R(r,"class","bars"),R(t,"viewBox",a=`0 0 ${e[1].width} ${e[1].height}`)},m(l,c){E(l,t,c),S(t,r),W(n,t,null),W(i,t,null),W(s,t,null),W(u,t,null),e[3](t),o=!0},p:ne,i(l){o||(I(n.$$.fragment,l),I(i.$$.fragment,l),I(s.$$.fragment,l),I(u.$$.fragment,l),o=!0)},o(l){M(n.$$.fragment,l),M(i.$$.fragment,l),M(s.$$.fragment,l),M(u.$$.fragment,l),o=!1},d(l){l&&A(t),z(n),z(i),z(s),z(u),e[3](null)}}}function b1(e,t,r){let{data:n=null}=t,i=xt(),s=null;function u(a){we[a?"unshift":"push"](()=>{s=a,r(0,s)})}return e.$$set=a=>{"data"in a&&r(2,n=a.data)},e.$$.update=()=>{if(e.$$.dirty&5){e:$g(s,i,n)}},[s,i,n,u]}var Gg=class extends X{constructor(t){super();Z(this,t,b1,v1,J,{data:2})}},Br=Gg;function zg(e,t,r){let n=e.slice();return n[1]=t[r].label,n[2]=t[r].value,n}function Wg(e){let t,r,n=e[1]+"",i,s,u,a,o=e[2]+"",l,c;return{c(){t=L("tr"),r=L("td"),i=te(n),s=te(":"),u=G(),a=L("td"),l=te(o),c=G(),R(r,"class","align-end svelte-19jvh8e"),R(a,"class","align-start svelte-19jvh8e")},m(f,d){E(f,t,d),S(t,r),S(r,i),S(r,s),S(t,u),S(t,a),S(a,l),S(t,c)},p(f,d){d&1&&n!==(n=f[1]+"")&&Ve(i,n),d&1&&o!==(o=f[2]+"")&&Ve(l,o)},d(f){f&&A(t)}}}function w1(e){let t,r,n,i=e[0],s=[];for(let u=0;u<i.length;u+=1)s[u]=Wg(zg(e,i,u));return{c(){t=L("div"),r=L("table");for(let u=0;u<s.length;u+=1)s[u].c();R(r,"dir",n=O.direction()),R(t,"class","svelte-19jvh8e")},m(u,a){E(u,t,a),S(t,r);for(let o=0;o<s.length;o+=1)s[o].m(r,null)},p(u,[a]){if(a&1){i=u[0];let o;for(o=0;o<i.length;o+=1){let l=zg(u,i,o);s[o]?s[o].p(l,a):(s[o]=Wg(l),s[o].c(),s[o].m(r,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},i:ne,o:ne,d(u){u&&A(t),Mt(s,u)}}}function _1(e,t,r){let{tableData:n}=t;return e.$$set=i=>{"tableData"in i&&r(0,n=i.tableData)},[n]}var Ug=class extends X{constructor(t){super();Z(this,t,_1,w1,J,{tableData:0})}},Zt=Ug;var dt;(function(e){e[e.New=0]="New",e[e.Learn=1]="Learn",e[e.Review=2]="Review",e[e.Relearn=3]="Relearn"})(dt||(dt={}));var Ot;(function(e){e[e.New=0]="New",e[e.Learn=1]="Learn",e[e.Review=2]="Review",e[e.DayLearn=3]="DayLearn",e[e.PreviewRepeat=4]="PreviewRepeat",e[e.Suspended=-1]="Suspended",e[e.UserBuried=-2]="UserBuried",e[e.SchedBuried=-3]="SchedBuried"})(Ot||(Ot={}));var _t;(function(e){e[e.Month=0]="Month",e[e.Percentile50=1]="Percentile50",e[e.Percentile95=2]="Percentile95",e[e.All=3]="All"})(_t||(_t={}));function Hg(e){return{intervals:e.cards.filter(r=>[dt.Review,dt.Relearn].includes(r.ctype)).map(r=>r.interval)}}function k1(e,t,r){return t-e<=1?uf({day:e,cards:r}):af({daysStart:e,daysEnd:t-1,cards:r})}function S1(e,t){if(e===t)return`"prop:ivl=${e}"`;let r=`"prop:ivl>=${e}"`,n=`"prop:ivl<=${t}"`;return`${r} AND ${n}`}function Yg(e,t,r,n){var i;let s=e.intervals;if(!s.length)return[null,[]];let u=0,[,a]=ut(s),o=!1;switch(t){case _t.Month:a=Math.min(a,30);break;case _t.Percentile50:a=vi(s,.5),o=!0;break;case _t.Percentile95:a=vi(s,.95),o=!0;break;case _t.All:o=!0;break}a=a+1;let l=_=>_+1,c=(_,D,P)=>D===P.length-1?[_-(P[0]-1),_+1]:[_-(P[0]-1)],f=Math.min(70,a-u),d=fe().domain([u,a]),p=fe().domain((o?d.nice():d).domain().map(l)),m=lt().domain(p.domain()).thresholds(p.ticks(f).flatMap(c))(s),h=ke(m,_=>_.length);if(!h)return[null,[]];let g=fe().range([.7,.3]),y=Ae(_=>mr(g(_))).domain([a,u]);function x(_,D,P){let K=k1(_.x0,_.x1,_.length),N=kr();return`${K}<br>${N}: \u200E${P.toFixed(1)}%`}function k(_){let D=_.x0,P=_.x1-1,K=S1(D,P);r("search",{query:K})}let j=Math.round((i=$o(s))!==null&&i!==void 0?i:0),q=vt(j*86400,!1),b=[{label:Rc(),value:q}];return[{scale:p,bins:m,total:h,hoverText:x,onClick:n?k:null,colourScale:y,showArea:!0},b]}function T1(e){let t,r,n,i,s,u,a,o,l,c,f,d,p,m,h,g,y,x,k,j,q,b,_;return{c(){t=L("label"),r=L("input"),i=G(),s=te(e[6]),u=G(),a=L("label"),o=L("input"),c=te(`
            50%`),f=G(),d=L("label"),p=L("input"),h=te(`
            95%`),g=G(),y=L("label"),x=L("input"),j=G(),q=te(e[7]),R(r,"type","radio"),r.__value=n=_t.Month,r.value=r.__value,e[13][0].push(r),R(o,"type","radio"),o.__value=l=_t.Percentile50,o.value=o.__value,e[13][0].push(o),R(p,"type","radio"),p.__value=m=_t.Percentile95,p.value=p.__value,e[13][0].push(p),R(x,"type","radio"),x.__value=k=_t.All,x.value=x.__value,e[13][0].push(x)},m(D,P){E(D,t,P),S(t,r),r.checked=r.__value===e[0],S(t,i),S(t,s),E(D,u,P),E(D,a,P),S(a,o),o.checked=o.__value===e[0],S(a,c),E(D,f,P),E(D,d,P),S(d,p),p.checked=p.__value===e[0],S(d,h),E(D,g,P),E(D,y,P),S(y,x),x.checked=x.__value===e[0],S(y,j),S(y,q),b||(_=[ge(r,"change",e[12]),ge(o,"change",e[14]),ge(p,"change",e[15]),ge(x,"change",e[16])],b=!0)},p(D,P){P&1&&(r.checked=r.__value===D[0]),P&1&&(o.checked=o.__value===D[0]),P&1&&(p.checked=p.__value===D[0]),P&1&&(x.checked=x.__value===D[0])},d(D){D&&A(t),e[13][0].splice(e[13][0].indexOf(r),1),D&&A(u),D&&A(a),e[13][0].splice(e[13][0].indexOf(o),1),D&&A(f),D&&A(d),e[13][0].splice(e[13][0].indexOf(p),1),D&&A(g),D&&A(y),e[13][0].splice(e[13][0].indexOf(x),1),b=!1,Le(_)}}}function C1(e){let t,r,n,i,s,u;return t=new je({props:{$$slots:{default:[T1]},$$scope:{ctx:e}}}),n=new Br({props:{data:e[1]}}),s=new Zt({props:{tableData:e[2]}}),{c(){U(t.$$.fragment),r=G(),U(n.$$.fragment),i=G(),U(s.$$.fragment)},m(a,o){W(t,a,o),E(a,r,o),W(n,a,o),E(a,i,o),W(s,a,o),u=!0},p(a,o){let l={};o&262145&&(l.$$scope={dirty:o,ctx:a}),t.$set(l);let c={};o&2&&(c.data=a[1]),n.$set(c);let f={};o&4&&(f.tableData=a[2]),s.$set(f)},i(a){u||(I(t.$$.fragment,a),I(n.$$.fragment,a),I(s.$$.fragment,a),u=!0)},o(a){M(t.$$.fragment,a),M(n.$$.fragment,a),M(s.$$.fragment,a),u=!1},d(a){z(t,a),a&&A(r),z(n,a),a&&A(i),z(s,a)}}}function R1(e){let t,r;return t=new Ne({props:{title:e[4],subtitle:e[5],$$slots:{default:[C1]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&262151&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function A1(e,t,r){let n,{sourceData:i=null}=t,{preferences:s}=t,u=ot(),a=null,o=null,l=[],c=_t.Percentile95,{browserLinksSupported:f}=s;_e(e,f,q=>r(11,n=q));let d=cf(),p=lf(),m=vt(1*Dr),h=lo(),g=[[]];function y(){c=this.__value,r(0,c)}function x(){c=this.__value,r(0,c)}function k(){c=this.__value,r(0,c)}function j(){c=this.__value,r(0,c)}return e.$$set=q=>{"sourceData"in q&&r(8,i=q.sourceData),"preferences"in q&&r(9,s=q.preferences)},e.$$.update=()=>{if(e.$$.dirty&256){e:i&&r(10,a=Hg(i))}if(e.$$.dirty&3073){e:a&&r(1,[o,l]=Yg(a,c,u,n),o,(r(2,l),r(10,a),r(0,c),r(11,n),r(8,i)))}},[c,o,l,f,d,p,m,h,i,s,a,n,y,g,x,k,j]}var Vg=class extends X{constructor(t){super();Z(this,t,A1,R1,J,{sourceData:8,preferences:9})}},Kg=Vg;function Jg(e){return{eases:e.cards.filter(r=>[dt.Review,dt.Relearn].includes(r.ctype)).map(r=>r.easeFactor/10)}}function E1(e,t){if(e===t)return`"prop:ease=${e/100}"`;let r=`"prop:ease>=${e/100}"`,n=`"prop:ease<${(t+1)/100}"`;return`${r} AND ${n}`}function D1(e,t,r){let n=fe().domain([e,t]).nice(),i=n.ticks(r),s=n.domain(),u=e-s[0],a=i[1]-i[0];if(u===0||u%a!=0&&a%u!=0)return[n,i];let o=l=>l+u;return[fe().domain(s.map(o)),i.map(o)]}function Xg(e,t,r){let n=e.eases;if(!n.length)return[null,[]];let i=n.length,[,s]=ut(n),u=130,a=s+1,o=20,[l,c]=D1(u,a,o),f=lt().domain(l.domain()).thresholds(c)(n),d=Ae(Gi).domain([u,300]);function p(y,x){let k=Math.floor(y.x0),q=Math.floor(y.x1)-k<=10?`${y.x0}%`:`${y.x0}%-${y.x1}%`;return jc({cards:y.length,percent:q})}function m(y){let x=y.x0,k=y.x1-1,j=E1(x,k);t("search",{query:j})}let h=y=>`${y.toFixed(0)}%`,g=[{label:Tc(),value:h(ke(n)/i)}];return[{scale:l,bins:f,total:i,hoverText:p,onClick:r?m:null,colourScale:d,showArea:!1,xTickFormat:h},g]}function N1(e){let t,r,n,i;return t=new Br({props:{data:e[0]}}),n=new Zt({props:{tableData:e[1]}}),{c(){U(t.$$.fragment),r=G(),U(n.$$.fragment)},m(s,u){W(t,s,u),E(s,r,u),W(n,s,u),i=!0},p(s,u){let a={};u&1&&(a.data=s[0]),t.$set(a);let o={};u&2&&(o.tableData=s[1]),n.$set(o)},i(s){i||(I(t.$$.fragment,s),I(n.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),M(n.$$.fragment,s),i=!1},d(s){z(t,s),s&&A(r),z(n,s)}}}function O1(e){let t,r;return t=new Ne({props:{title:e[3],subtitle:e[4],$$slots:{default:[N1]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&515&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function j1(e,t,r){let n,{sourceData:i=null}=t,{preferences:s}=t,u=ot(),a=null,o=[],{browserLinksSupported:l}=s;_e(e,l,d=>r(7,n=d));let c=Oc(),f=Nc();return e.$$set=d=>{"sourceData"in d&&r(5,i=d.sourceData),"preferences"in d&&r(6,s=d.preferences)},e.$$.update=()=>{if(e.$$.dirty&160){e:i&&r(0,[a,o]=Xg(Jg(i),u,n),a,(r(1,o),r(5,i),r(7,n)))}},[a,o,l,c,f,i,s,n]}var Qg=class extends X{constructor(t){super();Z(this,t,j1,O1,J,{sourceData:5,preferences:6})}},Zg=Qg;function ey(e){let t,r,n,i,s,u,a;return{c(){t=L("label"),r=L("input"),i=G(),s=te(e[5]),R(r,"type","radio"),r.__value=n=ie.AllTime,r.value=r.__value,e[8][0].push(r)},m(o,l){E(o,t,l),S(t,r),r.checked=r.__value===e[0],S(t,i),S(t,s),u||(a=ge(r,"change",e[11]),u=!0)},p(o,l){l&1&&(r.checked=r.__value===o[0])},d(o){o&&A(t),e[8][0].splice(e[8][0].indexOf(r),1),u=!1,a()}}}function I1(e){let t,r,n,i,s,u,a,o,l,c,f,d,p,m,h,g,y,x,k,j,q,b=e[1]===ve.All&&ey(e);return{c(){t=L("label"),r=L("input"),i=G(),s=te(e[2]),u=G(),a=L("label"),o=L("input"),c=G(),f=te(e[3]),d=G(),p=L("label"),m=L("input"),g=G(),y=te(e[4]),x=G(),b&&b.c(),k=St(),R(r,"type","radio"),r.__value=n=ie.Month,r.value=r.__value,e[8][0].push(r),R(o,"type","radio"),o.__value=l=ie.ThreeMonths,o.value=o.__value,e[8][0].push(o),R(m,"type","radio"),m.__value=h=ie.Year,m.value=m.__value,e[8][0].push(m)},m(_,D){E(_,t,D),S(t,r),r.checked=r.__value===e[0],S(t,i),S(t,s),E(_,u,D),E(_,a,D),S(a,o),o.checked=o.__value===e[0],S(a,c),S(a,f),E(_,d,D),E(_,p,D),S(p,m),m.checked=m.__value===e[0],S(p,g),S(p,y),E(_,x,D),b&&b.m(_,D),E(_,k,D),j||(q=[ge(r,"change",e[7]),ge(o,"change",e[9]),ge(m,"change",e[10])],j=!0)},p(_,[D]){D&1&&(r.checked=r.__value===_[0]),D&1&&(o.checked=o.__value===_[0]),D&1&&(m.checked=m.__value===_[0]),_[1]===ve.All?b?b.p(_,D):(b=ey(_),b.c(),b.m(k.parentNode,k)):b&&(b.d(1),b=null)},i:ne,o:ne,d(_){_&&A(t),e[8][0].splice(e[8][0].indexOf(r),1),_&&A(u),_&&A(a),e[8][0].splice(e[8][0].indexOf(o),1),_&&A(d),_&&A(p),e[8][0].splice(e[8][0].indexOf(m),1),_&&A(x),b&&b.d(_),_&&A(k),j=!1,Le(q)}}}function q1(e,t,r){let{revlogRange:n}=t,{graphRange:i}=t,{followRevlog:s=!1}=t;function u(g){g===ve.All?r(0,i=ie.AllTime):i===ie.AllTime&&r(0,i=ie.Year)}let a=vt(1*Dr),o=vt(3*Dr),l=vt(1*Lo),c=lo(),f=[[]];function d(){i=this.__value,r(0,i)}function p(){i=this.__value,r(0,i)}function m(){i=this.__value,r(0,i)}function h(){i=this.__value,r(0,i)}return e.$$set=g=>{"revlogRange"in g&&r(1,n=g.revlogRange),"graphRange"in g&&r(0,i=g.graphRange),"followRevlog"in g&&r(6,s=g.followRevlog)},e.$$.update=()=>{if(e.$$.dirty&66){e:s&&u(n)}},[i,n,a,o,l,c,s,d,f,p,m,h]}var ty=class extends X{constructor(t){super();Z(this,t,q1,I1,J,{revlogRange:1,graphRange:0,followRevlog:6})}},er=ty;function ry(e){return{daysAdded:e.cards.map(r=>{let n=r.id/1e3-e.nextDayAtSecs;return Math.ceil(n/86400)})}}function M1(e,t){let r=`"added:${e}"`;if(e===1)return r;let n=`-"added:${t}"`;return`${r} AND ${n}`}function ny(e,t,r,n){if(!e.daysAdded.length)return[null,[]];let[s]=ut(e.daysAdded),u=s;switch(t){case ie.Month:u=-31;break;case ie.ThreeMonths:u=-90;break;case ie.Year:u=-365;break;case ie.AllTime:break}let a=1,o=Math.min(70,Math.abs(u)),l=fe().domain([u,a]),c=lt().domain(l.domain()).thresholds(l.ticks(o))(e.daysAdded);if(!ke(c,k=>k.length))return[null,[]];let f=fe().range([.7,.3]),d=Ae(k=>mr(f(k))).domain([a,u]),p=ke(c,k=>k.length),m=Math.abs(u),h=Math.round(p/m),g=[{label:xn(),value:so({cards:p})},{label:oo(),value:qc({count:h})}];function y(k,j,q){let b=jn(k.x0,k.x1),_=so({cards:k.length}),D=kr(),P=so({cards:j});return`${b}:<br>${_}<br>${D}: ${P}`}function x(k){let j=Math.abs(k.x0)+1,q=Math.abs(k.x1)+1,b=M1(j,q);r("search",{query:b})}return[{scale:l,bins:c,total:p,hoverText:y,onClick:n?x:null,colourScale:d,showArea:!0},g]}function F1(e){let t,r,n;function i(u){e[10](u)}let s={revlogRange:ve.All};return e[0]!==void 0&&(s.graphRange=e[0]),t=new er({props:s}),we.push(()=>Lt(t,"graphRange",i)),{c(){U(t.$$.fragment)},m(u,a){W(t,u,a),n=!0},p(u,a){let o={};!r&&a&1&&(r=!0,o.graphRange=u[0],Ft(()=>r=!1)),t.$set(o)},i(u){n||(I(t.$$.fragment,u),n=!0)},o(u){M(t.$$.fragment,u),n=!1},d(u){z(t,u)}}}function L1(e){let t,r,n,i,s,u;return t=new je({props:{$$slots:{default:[F1]},$$scope:{ctx:e}}}),n=new Br({props:{data:e[1]}}),s=new Zt({props:{tableData:e[2]}}),{c(){U(t.$$.fragment),r=G(),U(n.$$.fragment),i=G(),U(s.$$.fragment)},m(a,o){W(t,a,o),E(a,r,o),W(n,a,o),E(a,i,o),W(s,a,o),u=!0},p(a,o){let l={};o&4097&&(l.$$scope={dirty:o,ctx:a}),t.$set(l);let c={};o&2&&(c.data=a[1]),n.$set(c);let f={};o&4&&(f.tableData=a[2]),s.$set(f)},i(a){u||(I(t.$$.fragment,a),I(n.$$.fragment,a),I(s.$$.fragment,a),u=!0)},o(a){M(t.$$.fragment,a),M(n.$$.fragment,a),M(s.$$.fragment,a),u=!1},d(a){z(t,a),a&&A(r),z(n,a),a&&A(i),z(s,a)}}}function P1(e){let t,r;return t=new Ne({props:{title:e[4],subtitle:e[5],$$slots:{default:[L1]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&4103&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function B1(e,t,r){let n,{sourceData:i=null}=t,{preferences:s}=t,u=null,a=[],o=ie.Month,{browserLinksSupported:l}=s;_e(e,l,h=>r(9,n=h));let c=ot(),f=null,d=yc(),p=gc();function m(h){o=h,r(0,o)}return e.$$set=h=>{"sourceData"in h&&r(6,i=h.sourceData),"preferences"in h&&r(7,s=h.preferences)},e.$$.update=()=>{if(e.$$.dirty&64){e:i&&r(8,f=ry(i))}if(e.$$.dirty&769){e:f&&r(1,[u,a]=ny(f,o,c,n),u,(r(2,a),r(8,f),r(0,o),r(9,n),r(6,i)))}},[o,u,a,l,d,p,i,s,f,n,m]}var iy=class extends X{constructor(t){super();Z(this,t,B1,P1,J,{sourceData:6,preferences:7})}},oy=iy;var Hi=Je.RevlogEntry.ReviewKind;function sy(e){let t=0,r=0,n=0,i=0,s=0,u=0,a=0,o=0,l=0,c=(e.nextDayAtSecs-86400)*1e3;for(let d of e.revlog)if(!(d.id<c)&&d.reviewKind!=Hi.MANUAL)switch(t+=1,r+=d.takenMillis,d.buttonChosen>1&&(n+=1),d.lastInterval>=21&&(s+=1,d.buttonChosen>1&&(i+=1)),d.reviewKind){case Hi.LEARNING:u+=1;break;case Hi.REVIEW:a+=1;break;case Hi.RELEARNING:o+=1;break;case Hi.FILTERED:l+=1;break}let f;if(t){let d=$p(t,r/1e3),p=t-n,m=_f();m+=` ${p} (${(p/t*100).toFixed(2)}%)`;let h=Rf({learnCount:u,reviewCount:a,relearnCount:o,filteredCount:l}),g;s?g=kf({correct:i,total:s,percent:i/s*100}):g=Tf(),f=[d,m,h,g]}else f=[Sf()];return{title:Cf(),lines:f}}function ay(e,t,r){let n=e.slice();return n[2]=t[r],n}function uy(e){let t,r;return t=new Ne({props:{title:e[0].title,$$slots:{default:[$1]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,i){let s={};i&1&&(s.title=n[0].title),i&33&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function ly(e){let t,r=e[2]+"",n;return{c(){t=L("div"),n=te(r)},m(i,s){E(i,t,s),S(t,n)},p(i,s){s&1&&r!==(r=i[2]+"")&&Ve(n,r)},d(i){i&&A(t)}}}function $1(e){let t,r=e[0].lines,n=[];for(let i=0;i<r.length;i+=1)n[i]=ly(ay(e,r,i));return{c(){t=L("div");for(let i=0;i<n.length;i+=1)n[i].c();R(t,"class","legend svelte-2llkqb")},m(i,s){E(i,t,s);for(let u=0;u<n.length;u+=1)n[u].m(t,null)},p(i,s){if(s&1){r=i[0].lines;let u;for(u=0;u<r.length;u+=1){let a=ay(i,r,u);n[u]?n[u].p(a,s):(n[u]=ly(a),n[u].c(),n[u].m(t,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}},d(i){i&&A(t),Mt(n,i)}}}function G1(e){let t,r,n=e[0]&&uy(e);return{c(){n&&n.c(),t=St()},m(i,s){n&&n.m(i,s),E(i,t,s),r=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&I(n,1)):(n=uy(i),n.c(),I(n,1),n.m(t.parentNode,t)):n&&(Sr(),M(n,1,1,()=>{n=null}),Tr())},i(i){r||(I(n),r=!0)},o(i){M(n),r=!1},d(i){n&&n.d(i),i&&A(t)}}}function z1(e,t,r){let{sourceData:n=null}=t,i=null;return e.$$set=s=>{"sourceData"in s&&r(1,n=s.sourceData)},e.$$.update=()=>{if(e.$$.dirty&2){e:n&&r(0,i=sy(n))}},[i,n]}var cy=class extends X{constructor(t){super();Z(this,t,z1,G1,J,{sourceData:1})}},fy=cy;var js=Je.RevlogEntry.ReviewKind;function W1(e,t){let r=Fo(t,e.nextDayAtSecs),n=[0,0,0,0],i=[0,0,0,0],s=[0,0,0,0];for(let u of e.revlog){if(r&&u.id<r)continue;let a=u.buttonChosen;if(a<=0||a>4)continue;let o=n;switch(u.reviewKind){case js.LEARNING:case js.RELEARNING:a===4&&e.schedulerVersion===1&&(a=3);break;case js.REVIEW:u.lastInterval<21?o=i:o=s;break;case js.FILTERED:break}o[a-1]+=1}return{learning:n,young:i,mature:s}}function dy(e,t,r,n){let i=W1(r,n),s=[...i.learning.map((g,y)=>({buttonNum:y+1,group:"learning",count:g})),...i.young.map((g,y)=>({buttonNum:y+1,group:"young",count:g})),...i.mature.map((g,y)=>({buttonNum:y+1,group:"mature",count:g}))],u=g=>{let y=s.filter(q=>q.group==g),x=ke(y,q=>q.count),k=ke(y.filter(q=>q.buttonNum>1),q=>q.count),j=x?(k/x*100).toFixed(2):"0";return{total:x,correct:k,percent:j}},a=Math.max(...s.map(g=>g.count)),o=ct(e),l=o.transition().duration(600);if(a)Xe(o,!0);else{Xe(o,!1);return}let c=Fr().domain(["learning","young","mature"]).range([t.marginLeft,t.width-t.marginRight]);o.select(".x-ticks").call(g=>g.transition(l).call(ur(c).tickFormat(y=>{let x;switch(y){case"learning":x=hn();break;case"young":x=yn();break;case"mature":default:x=gn();break}return`${x} \u200E(${u(y).percent}%)`}).tickSizeOuter(0))).attr("direction","ltr");let f=Fr().domain(["1","2","3","4"]).range([0,c.bandwidth()]).paddingOuter(1).paddingInner(.1),d=Ae(Gi).domain([1,4]),p=fe().range([t.height-t.marginBottom,t.marginTop]).domain([0,a]);o.select(".y-ticks").call(g=>g.transition(l).call(lr(p).ticks(t.height/50).tickSizeOuter(0))).attr("direction","ltr");let m=g=>g.attr("width",f.bandwidth()).attr("opacity",.8).transition(l).attr("x",y=>c(y.group)+f(y.buttonNum.toString())).attr("y",y=>p(y.count)).attr("height",y=>p(0)-p(y.count)).attr("fill",y=>d(y.buttonNum));o.select("g.bars").selectAll("rect").data(s).join(g=>g.append("rect").attr("rx",1).attr("x",y=>c(y.group)+f(y.buttonNum.toString())).attr("y",p(0)).attr("height",0).call(m),g=>g.call(m),g=>g.call(y=>y.transition(l).attr("height",0).attr("y",p(0))));function h(g){let y=vc(),x=bc(),k=uo(u(g.group));return`${y}: ${g.buttonNum}<br>${x}: ${g.count}<br>${k}`}o.select("g.hover-columns").selectAll("rect").data(s).join("rect").attr("x",g=>c(g.group)+f(g.buttonNum.toString())).attr("y",()=>p(a)).attr("width",f.bandwidth()).attr("height",()=>p(0)-p(a)).on("mousemove",(g,y)=>{let[x,k]=Rt(g,document.body);Nt(h(y),x,k)}).on("mouseout",Qt)}function U1(e){let t,r,n;function i(u){e[7](u)}let s={revlogRange:e[0],followRevlog:!0};return e[1]!==void 0&&(s.graphRange=e[1]),t=new er({props:s}),we.push(()=>Lt(t,"graphRange",i)),{c(){U(t.$$.fragment)},m(u,a){W(t,u,a),n=!0},p(u,a){let o={};a&1&&(o.revlogRange=u[0]),!r&&a&2&&(r=!0,o.graphRange=u[1],Ft(()=>r=!1)),t.$set(o)},i(u){n||(I(t.$$.fragment,u),n=!0)},o(u){M(t.$$.fragment,u),n=!1},d(u){z(t,u)}}}function H1(e){let t,r,n,i,s,u,a,o,l;return t=new je({props:{$$slots:{default:[U1]},$$scope:{ctx:e}}}),s=new Nr({}),u=new Yt({props:{bounds:e[3]}}),a=new Vt({props:{bounds:e[3]}}),{c(){U(t.$$.fragment),r=G(),n=me("svg"),i=me("g"),U(s.$$.fragment),U(u.$$.fragment),U(a.$$.fragment),R(i,"class","bars"),R(n,"viewBox",o=`0 0 ${e[3].width} ${e[3].height}`)},m(c,f){W(t,c,f),E(c,r,f),E(c,n,f),S(n,i),W(s,n,null),W(u,n,null),W(a,n,null),e[8](n),l=!0},p(c,f){let d={};f&515&&(d.$$scope={dirty:f,ctx:c}),t.$set(d)},i(c){l||(I(t.$$.fragment,c),I(s.$$.fragment,c),I(u.$$.fragment,c),I(a.$$.fragment,c),l=!0)},o(c){M(t.$$.fragment,c),M(s.$$.fragment,c),M(u.$$.fragment,c),M(a.$$.fragment,c),l=!1},d(c){z(t,c),c&&A(r),c&&A(n),z(s),z(u),z(a),e[8](null)}}}function Y1(e){let t,r;return t=new Ne({props:{title:e[4],subtitle:e[5],$$slots:{default:[H1]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&519&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function V1(e,t,r){let{sourceData:n=null}=t,{revlogRange:i}=t,s=ie.Year,u=xt(),a=null,o=_c(),l=wc();function c(d){s=d,r(1,s)}function f(d){we[d?"unshift":"push"](()=>{a=d,r(2,a)})}return e.$$set=d=>{"sourceData"in d&&r(6,n=d.sourceData),"revlogRange"in d&&r(0,i=d.revlogRange)},e.$$.update=()=>{if(e.$$.dirty&70){e:n&&dy(a,u,n,s)}},[i,s,a,u,o,l,n,c,f]}var py=class extends X{constructor(t){super();Z(this,t,V1,Y1,J,{sourceData:6,revlogRange:0})}},my=py;var hy=[ws[5][2],ks[5][2],_s[5][2],zi[5][2],zi[5][3],"#FFDC41","grey"];function K1(e,t){let r=0,n=0,i=0,s=0,u=0,a=0,o=0;for(let f of e){if(t)switch(f.queue){case Ot.Suspended:a+=1;continue;case Ot.SchedBuried:case Ot.UserBuried:o+=1;continue}switch(f.ctype){case dt.New:r+=1;break;case dt.Learn:n+=1;break;case dt.Review:f.interval<21?s+=1:u+=1;break;case dt.Relearn:i+=1;break}}let l=t?'AND -("is:buried" OR "is:suspended")':"";return[[Lc(),r,!0,`"is:new"${l}`],[hn(),n,!0,`(-"is:review" AND "is:learn")${l}`],[ao(),i,!0,`("is:review" AND "is:learn")${l}`],[yn(),s,!0,`("is:review" AND -"is:learn") AND "prop:ivl<21"${l}`],[gn(),u,!0,`("is:review" -"is:learn") AND "prop:ivl>=21"${l}`],[Bc(),a,t,'"is:suspended"'],[Mc(),o,t,'"is:buried"']]}function gy(e,t){let r=e.cards.length,n=K1(e.cards,t);return{title:$c(),counts:n,totalCards:r}}function yy(e,t,r){let n=Or(r.counts,m=>m[1]),i=Array.from(n).map((m,h)=>{let g=r.counts[h];return{label:g[0],count:g[1],show:g[2],query:g[3],idx:h,total:m}}),s=Math.max(1,n.slice(-1)[0]),u=fe().domain([0,s]),a=ct(e),o=a.select(".counts"),l=tl()(r.counts.map(m=>m[1])),c=t.height/2-t.marginTop-t.marginBottom,f=el().innerRadius(0).outerRadius(c),d=a.transition().duration(600);return o.attr("transform",`translate(${c},${c+t.marginTop})`).selectAll("path").data(l).join(m=>m.append("path").attr("fill",(h,g)=>hy[g]).attr("d",f),function(m){return m.call(h=>h.transition(d).attrTween("d",g=>{let y=Et({startAngle:0,endAngle:0},g);return x=>f(y(x))}))}),u.range([t.marginLeft,t.width-t.marginRight]),i.flatMap((m,h)=>{let g=(m.count/s*100).toFixed(1);return m.show?{label:m.label,count:m.count,percent:`${g}%`,colour:hy[h],query:m.query}:[]})}function xy(e,t,r){let n=e.slice();return n[15]=t[r],n[17]=r,n}function J1(e){let t,r,n,i,s,u;return{c(){t=L("label"),r=L("input"),n=G(),i=te(e[8]),R(r,"type","checkbox")},m(a,o){E(a,t,o),S(t,r),r.checked=e[3],S(t,n),S(t,i),s||(u=ge(r,"change",e[12]),s=!0)},p(a,o){o&8&&(r.checked=a[3])},d(a){a&&A(t),s=!1,u()}}}function X1(e){let t,r=e[15].label+"",n;return{c(){t=L("span"),n=te(r)},m(i,s){E(i,t,s),S(t,n)},p(i,s){s&16&&r!==(r=i[15].label+"")&&Ve(n,r)},d(i){i&&A(t)}}}function Q1(e){let t,r=e[15].label+"",n,i,s;function u(){return e[14](e[15])}return{c(){t=L("span"),n=te(r),R(t,"class","search-link svelte-xzznkc")},m(a,o){E(a,t,o),S(t,n),i||(s=ge(t,"click",u),i=!0)},p(a,o){e=a,o&16&&r!==(r=e[15].label+"")&&Ve(n,r)},d(a){a&&A(t),i=!1,s()}}}function vy(e){let t,r,n,i,s,u,a,o=e[15].count+"",l,c,f,d=e[15].percent+"",p;function m(y,x){return y[6]?Q1:X1}let g=m(e,-1)(e);return{c(){t=L("tr"),r=L("td"),n=L("span"),i=te("\u25A0\xA0"),s=G(),g.c(),u=G(),a=L("td"),l=te(o),c=G(),f=L("td"),p=te(d),it(n,"color",e[15].colour),R(r,"class","svelte-xzznkc"),R(a,"class","right svelte-xzznkc"),R(f,"class","right svelte-xzznkc")},m(y,x){E(y,t,x),S(t,r),S(r,n),S(n,i),S(r,s),g.m(r,null),S(t,u),S(t,a),S(a,l),S(t,c),S(t,f),S(f,p)},p(y,x){x&16&&it(n,"color",y[15].colour),g.p(y,x),x&16&&o!==(o=y[15].count+"")&&Ve(l,o),x&16&&d!==(d=y[15].percent+"")&&Ve(p,d)},d(y){y&&A(t),g.d()}}}function Z1(e){let t,r,n,i,s,u,a,o,l,c,f,d,p,m,h,g,y,x,k,j=e[2].totalCards+"",q,b,_,D;t=new je({props:{$$slots:{default:[J1]},$$scope:{ctx:e}}});let P=e[4],K=[];for(let N=0;N<P.length;N+=1)K[N]=vy(xy(e,P,N));return{c(){U(t.$$.fragment),r=G(),n=L("div"),i=me("svg"),s=me("g"),l=G(),c=L("div"),f=L("table");for(let N=0;N<K.length;N+=1)K[N].c();d=G(),p=L("tr"),m=L("td"),h=L("span"),h.textContent="\u25A0",g=G(),y=te(e[9]),x=G(),k=L("td"),q=te(j),b=G(),_=L("td"),R(s,"class","counts"),R(i,"viewBox",u=`0 0 ${e[1].width} ${e[1].height}`),R(i,"width",a=e[1].width),R(i,"height",o=e[1].height),it(i,"opacity",e[2].totalCards?1:0),R(i,"class","svelte-xzznkc"),it(h,"visibility","hidden"),R(m,"class","svelte-xzznkc"),R(k,"class","right svelte-xzznkc"),R(_,"class","svelte-xzznkc"),R(f,"class","svelte-xzznkc"),R(c,"class","counts-table svelte-xzznkc"),R(n,"class","counts-outer svelte-xzznkc")},m(N,F){W(t,N,F),E(N,r,F),E(N,n,F),S(n,i),S(i,s),e[13](i),S(n,l),S(n,c),S(c,f);for(let C=0;C<K.length;C+=1)K[C].m(f,null);S(f,d),S(f,p),S(p,m),S(m,h),S(m,g),S(m,y),S(p,x),S(p,k),S(k,q),S(p,b),S(p,_),D=!0},p(N,F){let C={};if(F&262152&&(C.$$scope={dirty:F,ctx:N}),t.$set(C),(!D||F&2&&u!==(u=`0 0 ${N[1].width} ${N[1].height}`))&&R(i,"viewBox",u),(!D||F&2&&a!==(a=N[1].width))&&R(i,"width",a),(!D||F&2&&o!==(o=N[1].height))&&R(i,"height",o),(!D||F&4)&&it(i,"opacity",N[2].totalCards?1:0),F&208){P=N[4];let ae;for(ae=0;ae<P.length;ae+=1){let Oe=xy(N,P,ae);K[ae]?K[ae].p(Oe,F):(K[ae]=vy(Oe),K[ae].c(),K[ae].m(f,d))}for(;ae<K.length;ae+=1)K[ae].d(1);K.length=P.length}(!D||F&4)&&j!==(j=N[2].totalCards+"")&&Ve(q,j)},i(N){D||(I(t.$$.fragment,N),D=!0)},o(N){M(t.$$.fragment,N),D=!1},d(N){z(t,N),N&&A(r),N&&A(n),e[13](null),Mt(K,N)}}}function e_(e){let t,r;return t=new Ne({props:{title:e[2].title,$$slots:{default:[Z1]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&4&&(s.title=n[2].title),i&262175&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function t_(e,t,r){let n,{sourceData:i}=t,{preferences:s}=t,{cardCountsSeparateInactive:u,browserLinksSupported:a}=s;_e(e,u,x=>r(3,n=x));let o=ot(),l=null,c=xt();c.width=225,c.marginBottom=0;let f=null,d=null,p=Pc(),m=Gc();function h(){n=this.checked,u.set(n)}function g(x){we[x?"unshift":"push"](()=>{l=x,r(0,l)})}let y=x=>o("search",{query:x.query});return e.$$set=x=>{"sourceData"in x&&r(10,i=x.sourceData),"preferences"in x&&r(11,s=x.preferences)},e.$$.update=()=>{if(e.$$.dirty&1039){e:r(2,f=gy(i,n)),r(4,d=yy(l,c,f))}},[l,c,f,n,d,u,a,o,p,m,i,s,h,g,y]}var by=class extends X{constructor(t){super();Z(this,t,t_,e_,J,{sourceData:10,preferences:11})}},wy=by;var Yi=Je.RevlogEntry.ReviewKind;function r_(e,t){let r=[...Array(24)].map((i,s)=>({hour:s,totalCount:0,correctCount:0})),n=Fo(t,e.nextDayAtSecs);for(let i of e.revlog){switch(i.reviewKind){case Yi.LEARNING:case Yi.REVIEW:case Yi.RELEARNING:break;case Yi.FILTERED:case Yi.MANUAL:continue}if(n&&i.id<n)continue;let s=Math.floor((i.id/1e3+e.localOffsetSecs)/3600%24);r[s].totalCount+=1,i.buttonChosen!=1&&(r[s].correctCount+=1)}return r}function _y(e,t,r,n){let i=r_(r,n),s=Math.max(...i.map(h=>h.totalCount)),u=ct(e),a=u.transition().duration(600);if(s)Xe(u,!0);else{Xe(u,!1);return}let o=Fr().domain(i.map(h=>h.hour.toString())).range([t.marginLeft,t.width-t.marginRight]).paddingInner(.1);u.select(".x-ticks").call(h=>h.transition(a).call(ur(o).tickSizeOuter(0))).selectAll(".tick").selectAll("text").classed(Bg,h=>h%2!=0).attr("direction","ltr");let l=fe().range([.1,.8]),c=Ae(h=>mr(l(h))).domain([0,s]),f=fe().range([t.height-t.marginBottom,t.marginTop]).domain([0,s]).nice();u.select(".y-ticks").call(h=>h.transition(a).call(lr(f).ticks(t.height/50).tickSizeOuter(0))).attr("direction","ltr");let d=f.copy().domain([0,1]),p=h=>h.attr("width",o.bandwidth()).transition(a).attr("x",g=>o(g.hour.toString())).attr("y",g=>f(g.totalCount)).attr("height",g=>f(0)-f(g.totalCount)).attr("fill",g=>c(g.totalCount));u.select("g.bars").selectAll("rect").data(i).join(h=>h.append("rect").attr("rx",1).attr("x",g=>o(g.hour.toString())).attr("y",f(0)).attr("height",0).call(p),h=>h.call(p),h=>h.call(g=>g.transition(a).attr("height",0).attr("y",f(0)))),u.select(".y2-ticks").call(h=>h.transition(a).call(Kr(d).ticks(t.height/50).tickFormat(g=>`${Math.round(g*100)}%`).tickSizeOuter(0))).attr("direction","ltr"),u.select("path.cumulative-overlay").datum(i).attr("d",sn().curve(an).defined(h=>h.totalCount>0).x(h=>o(h.hour.toString())+o.bandwidth()/2).y0(t.height-t.marginBottom).y1(h=>{let g=h.correctCount/h.totalCount;return d(isNaN(g)?0:g)}));function m(h){let g=tf({hourStart:h.hour,hourEnd:h.hour+1}),y=uo({correct:h.correctCount,total:h.totalCount,percent:h.totalCount?h.correctCount/h.totalCount*100:0});return`${g}<br>${y}`}u.select("g.hover-columns").selectAll("rect").data(i).join("rect").attr("x",h=>o(h.hour.toString())).attr("y",()=>f(s)).attr("width",o.bandwidth()).attr("height",()=>f(0)-f(s)).on("mousemove",(h,g)=>{let[y,x]=Rt(h,document.body);Nt(m(g),y,x)}).on("mouseout",Qt)}function n_(e){let t,r,n;function i(u){e[7](u)}let s={revlogRange:e[0],followRevlog:!0};return e[1]!==void 0&&(s.graphRange=e[1]),t=new er({props:s}),we.push(()=>Lt(t,"graphRange",i)),{c(){U(t.$$.fragment)},m(u,a){W(t,u,a),n=!0},p(u,a){let o={};a&1&&(o.revlogRange=u[0]),!r&&a&2&&(r=!0,o.graphRange=u[1],Ft(()=>r=!1)),t.$set(o)},i(u){n||(I(t.$$.fragment,u),n=!0)},o(u){M(t.$$.fragment,u),n=!1},d(u){z(t,u)}}}function i_(e){let t,r,n,i,s,u,a,o,l,c;return t=new je({props:{$$slots:{default:[n_]},$$scope:{ctx:e}}}),s=new In({}),u=new Nr({}),a=new Yt({props:{bounds:e[3]}}),o=new Vt({props:{bounds:e[3]}}),{c(){U(t.$$.fragment),r=G(),n=me("svg"),i=me("g"),U(s.$$.fragment),U(u.$$.fragment),U(a.$$.fragment),U(o.$$.fragment),R(i,"class","bars"),R(n,"viewBox",l=`0 0 ${e[3].width} ${e[3].height}`)},m(f,d){W(t,f,d),E(f,r,d),E(f,n,d),S(n,i),W(s,n,null),W(u,n,null),W(a,n,null),W(o,n,null),e[8](n),c=!0},p(f,d){let p={};d&515&&(p.$$scope={dirty:d,ctx:f}),t.$set(p)},i(f){c||(I(t.$$.fragment,f),I(s.$$.fragment,f),I(u.$$.fragment,f),I(a.$$.fragment,f),I(o.$$.fragment,f),c=!0)},o(f){M(t.$$.fragment,f),M(s.$$.fragment,f),M(u.$$.fragment,f),M(a.$$.fragment,f),M(o.$$.fragment,f),c=!1},d(f){z(t,f),f&&A(r),f&&A(n),z(s),z(u),z(a),z(o),e[8](null)}}}function o_(e){let t,r;return t=new Ne({props:{title:e[4],subtitle:e[5],$$slots:{default:[i_]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&519&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function s_(e,t,r){let{sourceData:n=null}=t,{revlogRange:i}=t,s=ie.Year,u=xt(),a=null,o=nf(),l=rf();function c(d){s=d,r(1,s)}function f(d){we[d?"unshift":"push"](()=>{a=d,r(2,a)})}return e.$$set=d=>{"sourceData"in d&&r(6,n=d.sourceData),"revlogRange"in d&&r(0,i=d.revlogRange)},e.$$.update=()=>{if(e.$$.dirty&70){e:n&&_y(a,u,n,s)}},[i,s,a,u,o,l,n,c,f]}var ky=class extends X{constructor(t){super();Z(this,t,s_,o_,J,{sourceData:6,revlogRange:0})}},Sy=ky;function Ty(e){let t=s=>[Ot.Learn,Ot.PreviewRepeat].includes(s.queue),r=!1,n=e.cards.filter(s=>[Ot.Review,Ot.DayLearn].includes(s.queue)||t(s)).map(s=>{let u;if(t(s)){let a=s.due-e.nextDayAtSecs;u=Math.floor(a/86400)+1}else u=(s.originalDeckId&&s.originalDue?s.originalDue:s.due)-e.daysElapsed;return r=r||u<0,u});return{dueCounts:Za(n,s=>s.length,s=>s),haveBacklog:r}}function sl(e){return ke(e,t=>t[1])}function a_(e,t){if(e===t)return`"prop:due=${e}"`;{let r=`"prop:due>=${e}"`,n=`"prop:due<=${t}"`;return`${r} AND ${n}`}}function Cy(e,t,r,n,i){var s;let u={histogramData:null,tableData:[]},a=e.dueCounts;if(!a)return u;let[o,l]=ut(a.keys()),c=o;r||(c=0);let f=l;switch(t){case ie.Month:f=31;break;case ie.ThreeMonths:f=90;break;case ie.Year:f=365;break;case ie.AllTime:break}let d=Math.min(70,f-c),p=fe().domain([c,f]),m=lt().value(b=>b[0]).domain(p.domain()).thresholds(p.ticks(d))(a.entries());if(!ke(m,b=>b.length))return u;let h=fe().range([.7,.3]),g=Ae(b=>Gn(h(b))).domain([c,f]),y=ke(m,sl);function x(b,_,D){let P=jn(b.x0,b.x1),K=Ic({cards:sl(b)}),N=kr();return`${P}:<br>${K}<br>${N}: ${_}`}function k(b){let _=b.x0,D=b.x1-1,P=a_(_,D);n("search",{query:P})}let j=f-c,q=[{label:xn(),value:_r({reviews:y})},{label:oo(),value:Xn({count:Math.round(y/j)})},{label:Hc(),value:_r({reviews:(s=e.dueCounts.get(1))!==null&&s!==void 0?s:0})}];return{histogramData:{scale:p,bins:m,total:y,hoverText:x,onClick:i?k:null,showArea:!0,colourScale:g,binValue:sl},tableData:q}}function Ry(e){let t,r,n,i,s,u;return{c(){t=L("label"),r=L("input"),n=G(),i=te(e[9]),R(r,"type","checkbox")},m(a,o){E(a,t,o),S(t,r),r.checked=e[2],S(t,n),S(t,i),s||(u=ge(r,"change",e[13]),s=!0)},p(a,o){o&4&&(r.checked=a[2])},d(a){a&&A(t),s=!1,u()}}}function u_(e){let t,r,n,i,s=e[0]&&e[0].haveBacklog&&Ry(e);function u(o){e[14](o)}let a={revlogRange:ve.All};return e[1]!==void 0&&(a.graphRange=e[1]),r=new er({props:a}),we.push(()=>Lt(r,"graphRange",u)),{c(){s&&s.c(),t=G(),U(r.$$.fragment)},m(o,l){s&&s.m(o,l),E(o,t,l),W(r,o,l),i=!0},p(o,l){o[0]&&o[0].haveBacklog?s?s.p(o,l):(s=Ry(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);let c={};!n&&l&2&&(n=!0,c.graphRange=o[1],Ft(()=>n=!1)),r.$set(c)},i(o){i||(I(r.$$.fragment,o),i=!0)},o(o){M(r.$$.fragment,o),i=!1},d(o){s&&s.d(o),o&&A(t),z(r,o)}}}function l_(e){let t,r,n,i,s,u;return t=new je({props:{$$slots:{default:[u_]},$$scope:{ctx:e}}}),n=new Br({props:{data:e[3]}}),s=new Zt({props:{tableData:e[4]}}),{c(){U(t.$$.fragment),r=G(),U(n.$$.fragment),i=G(),U(s.$$.fragment)},m(a,o){W(t,a,o),E(a,r,o),W(n,a,o),E(a,i,o),W(s,a,o),u=!0},p(a,o){let l={};o&65543&&(l.$$scope={dirty:o,ctx:a}),t.$set(l);let c={};o&8&&(c.data=a[3]),n.$set(c);let f={};o&16&&(f.tableData=a[4]),s.$set(f)},i(a){u||(I(t.$$.fragment,a),I(n.$$.fragment,a),I(s.$$.fragment,a),u=!0)},o(a){M(t.$$.fragment,a),M(n.$$.fragment,a),M(s.$$.fragment,a),u=!1},d(a){z(t,a),a&&A(r),z(n,a),a&&A(i),z(s,a)}}}function c_(e){let t,r;return t=new Ne({props:{title:e[7],subtitle:e[8],$$slots:{default:[l_]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&65567&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function f_(e,t,r){let n,i,{sourceData:s=null}=t,{preferences:u}=t,a=ot(),o=null,l=null,c=[],f=ie.Month,{browserLinksSupported:d,futureDueShowBacklog:p}=u;_e(e,d,k=>r(12,n=k)),_e(e,p,k=>r(2,i=k));let m=ef(),h=Zc(),g=Ec();function y(){i=this.checked,p.set(i)}function x(k){f=k,r(1,f)}return e.$$set=k=>{"sourceData"in k&&r(10,s=k.sourceData),"preferences"in k&&r(11,u=k.preferences)},e.$$.update=()=>{if(e.$$.dirty&1024){e:s&&r(0,o=Ty(s))}if(e.$$.dirty&4103){e:o&&r(3,{histogramData:l,tableData:c}=Cy(o,f,i,a,n),l,(r(4,c),r(0,o),r(1,f),r(2,i),r(12,n),r(10,s)))}},[o,f,i,l,c,d,p,m,h,g,s,u,n,y,x]}var Ay=class extends X{constructor(t){super();Z(this,t,f_,c_,J,{sourceData:10,preferences:11})}},Ey=Ay;var Vi=Je.RevlogEntry.ReviewKind;function Dy(e){var t,r;let n=new Map,i=new Map,s={mature:0,young:0,learn:0,relearn:0,filtered:0};for(let u of e.revlog){if(u.reviewKind==Vi.MANUAL)continue;let a=Math.ceil((u.id/1e3-e.nextDayAtSecs)/86400),o=(t=n.get(a))!==null&&t!==void 0?t:n.set(a,Object.assign({},s)).get(a),l=(r=i.get(a))!==null&&r!==void 0?r:i.set(a,Object.assign({},s)).get(a);switch(u.reviewKind){case Vi.LEARNING:o.learn+=1,l.learn+=u.takenMillis;break;case Vi.RELEARNING:o.relearn+=1,l.relearn+=u.takenMillis;break;case Vi.REVIEW:u.lastInterval<21?(o.young+=1,l.young+=u.takenMillis):(o.mature+=1,l.mature+=u.takenMillis);break;case Vi.FILTERED:o.filtered+=1,l.filtered+=u.takenMillis;break}}return{reviewCount:n,reviewTime:i}}var ze;(function(e){e[e.Mature=0]="Mature",e[e.Young=1]="Young",e[e.Relearn=2]="Relearn",e[e.Learn=3]="Learn",e[e.Filtered=4]="Filtered"})(ze||(ze={}));function Ny(e){let t=[0,0,0,0,0];for(let r of e)t[ze.Mature]+=r[1].mature,t[ze.Young]+=r[1].young,t[ze.Relearn]+=r[1].relearn,t[ze.Learn]+=r[1].learn,t[ze.Filtered]+=r[1].filtered;return t}function Ki(e,t){return ke(Ny(e).slice(0,t+1))}function Oy(e,t,r,n,i){let s=ct(e),u=s.transition().duration(600),a=1,o=0;switch(n){case ie.Month:o=-30;break;case ie.ThreeMonths:o=-89;break;case ie.Year:o=-364;break;case ie.AllTime:o=Vr(r.reviewCount.keys());break}let l=Math.min(70,Math.abs(o)),c=fe().domain([o,a]).nice(l);c.domain([c.domain()[0],a]);let f=i?r.reviewTime:r.reviewCount,d=lt().value(H=>H[0]).domain(c.domain()).thresholds(c.ticks(l))(f.entries());if(ke(d,H=>H.length))Xe(s,!0);else return Xe(s,!1),[];c.range([t.marginLeft,t.width-t.marginRight]),s.select(".x-ticks").call(H=>H.transition(u).call(ur(c).ticks(7).tickSizeOuter(0))).attr("direction","ltr");let m=H=>i?vt(H/1e3,!0):Math.round(H)!=H?"":H.toLocaleString(),h=ar(d,H=>Ki(H,4)),g=fe().range([t.height-t.marginBottom,t.marginTop]).domain([0,h]).nice();s.select(".y-ticks").call(H=>H.transition(u).call(lr(g).ticks(t.height/50).tickSizeOuter(0).tickFormat(m))).attr("direction","ltr");function y(H){let he=Math.max(0,c(H.x1)-c(H.x0)-1);return he!=null?he:0}let x=fe().range([.3,.5]),k=fe().range([.4,.7]),j=Ae(H=>Gn(k(H))).domain(c.domain()),q=Ae(H=>Gn(x(H))).domain(c.domain()),b=Ae(H=>Ju(x(H))).domain(c.domain()),_=Ae(H=>Xu(x(H))).domain(c.domain()),D=Ae(H=>Ku(x(H))).domain(c.domain());function P(H){switch(H){case ze.Mature:return j;case ze.Young:return q;case ze.Learn:return _;case ze.Relearn:return b;case ze.Filtered:return D}}function K(H){return i?vt(H/1e3):_r({reviews:H})}function N(H,he){let xe=jn(H.x0,H.x1),gr=Ny(H),yr=K(ke(gr)),xr=`<table><tr><td>${xe}</td><td align=right>${yr}</td></tr>`,Is=[[ze.Filtered,Fc()],[ze.Learn,hn()],[ze.Relearn,ao()],[ze.Young,yn()],[ze.Mature,gn()],[null,kr()]];for(let[Yn,qs]of Is){let Vn,Kn;Yn==null?(Vn="transparent",Kn=K(he)):(Vn=P(Yn)(1),Kn=K(gr[Yn])),xr+=`<tr>
            <td><span style="color: ${Vn};">\u25A0</span> ${qs}</td>
            <td align=right>${Kn}</td>
            </tr>`}return xr}let F=(H,he)=>H.attr("width",y).transition(u).attr("x",xe=>c(xe.x0)).attr("y",xe=>g(Ki(xe,he))).attr("height",xe=>g(0)-g(Ki(xe,he))).attr("fill",xe=>P(he)(xe.x0));for(let H of[0,1,2,3,4])s.select(`g.bars${H}`).selectAll("rect").data(d).join(he=>he.append("rect").attr("rx",1).attr("x",xe=>c(xe.x0)).attr("y",g(0)).attr("height",0).call(xe=>F(xe,H)),he=>he.call(xe=>F(xe,H)),he=>he.call(xe=>xe.transition(u).attr("height",0).attr("y",g(0))));let C=d.map(H=>Ki(H,4));C.unshift(0);let ae=Or(C),Oe=ae.slice(-1)[0],We=g.copy().domain([0,Oe]).nice();Oe&&(s.select(".y2-ticks").call(H=>H.transition(u).call(Kr(We).ticks(t.height/50).tickFormat(m).tickSizeOuter(0))).attr("direction","ltr"),s.select("path.cumulative-overlay").datum(ae).attr("d",sn().curve(an).x((H,he)=>c(he===0?d[0].x0:d[he-1].x1)).y0(t.height-t.marginBottom).y1(H=>We(H))));let Fe=d.map((H,he)=>[H,ae[he+1]]);s.select("g.hover-columns").selectAll("rect").data(Fe).join("rect").attr("x",([H])=>c(H.x0)).attr("y",()=>g(h)).attr("width",([H])=>y(H)).attr("height",()=>g(0)-g(h)).on("mousemove",(H,[he,xe])=>{let[gr,yr]=Rt(H,document.body);Nt(N(he,xe),gr,yr)}).on("mouseout",Qt);let Ue=-o+1,Ee=ke(d,H=>H.length),et=Oe,tr=et/Ue,rr=et/Ee,nr,qe,ir,kt,jt;if(i){nr=vt(et/1e3,!1),qe=$s({count:Math.round(rr/1e3/60)}),ir=$s({count:Math.round(tr/1e3/60)}),jt=Sc();let H=lt().value(xr=>xr[0]).domain(c.domain())(r.reviewCount.entries()),he=ke(H,xr=>Ki(xr,4)),xe=et/1e3,gr=xe/he,yr=he*60/xe;kt=kc({averageSeconds:gr,cardsPerMinute:yr})}else nr=_r({reviews:et}),qe=Xn({count:Math.round(rr)}),ir=Xn({count:Math.round(tr)}),kt=jt="";let hr=[{label:Uc(),value:xc({amount:Ee,total:Ue,percent:Math.round(Ee/Ue*100)})},{label:xn(),value:nr},{label:Cc(),value:qe},{label:Ac(),value:ir}];return kt&&hr.push({label:jt,value:kt}),hr}function d_(e,t,r){let n=e.slice();return n[14]=t[r],n}function p_(e){let t,r,n,i,s,u,a,o,l,c;function f(p){e[12](p)}let d={revlogRange:e[0],followRevlog:!0};return e[2]!==void 0&&(d.graphRange=e[2]),u=new er({props:d}),we.push(()=>Lt(u,"graphRange",f)),{c(){t=L("label"),r=L("input"),n=G(),i=te(e[8]),s=G(),U(u.$$.fragment),R(r,"type","checkbox")},m(p,m){E(p,t,m),S(t,r),r.checked=e[3],S(t,n),S(t,i),E(p,s,m),W(u,p,m),o=!0,l||(c=ge(r,"change",e[11]),l=!0)},p(p,m){m&8&&(r.checked=p[3]);let h={};m&1&&(h.revlogRange=p[0]),!a&&m&4&&(a=!0,h.graphRange=p[2],Ft(()=>a=!1)),u.$set(h)},i(p){o||(I(u.$$.fragment,p),o=!0)},o(p){M(u.$$.fragment,p),o=!1},d(p){p&&A(t),p&&A(s),z(u,p),l=!1,c()}}}function m_(e){let t,r;return{c(){t=me("g"),R(t,"class",r="bars"+e[14])},m(n,i){E(n,t,i)},d(n){n&&A(t)}}}function h_(e){let t,r,n,i,s,u,a,o,l,c,f,d;t=new je({props:{$$slots:{default:[p_]},$$scope:{ctx:e}}});let p=[4,3,2,1,0],m=[];for(let h=0;h<5;h+=1)m[h]=m_(d_(e,p,h));return s=new In({}),u=new Nr({}),a=new Yt({props:{bounds:e[6]}}),o=new Vt({props:{bounds:e[6]}}),f=new Zt({props:{tableData:e[4]}}),{c(){U(t.$$.fragment),r=G(),n=me("svg");for(let h=0;h<5;h+=1)m[h].c();i=St(),U(s.$$.fragment),U(u.$$.fragment),U(a.$$.fragment),U(o.$$.fragment),c=G(),U(f.$$.fragment),R(n,"viewBox",l=`0 0 ${e[6].width} ${e[6].height}`)},m(h,g){W(t,h,g),E(h,r,g),E(h,n,g);for(let y=0;y<5;y+=1)m[y].m(n,null);S(n,i),W(s,n,null),W(u,n,null),W(a,n,null),W(o,n,null),e[13](n),E(h,c,g),W(f,h,g),d=!0},p(h,g){let y={};g&131085&&(y.$$scope={dirty:g,ctx:h}),t.$set(y);let x={};g&16&&(x.tableData=h[4]),f.$set(x)},i(h){d||(I(t.$$.fragment,h),I(s.$$.fragment,h),I(u.$$.fragment,h),I(a.$$.fragment,h),I(o.$$.fragment,h),I(f.$$.fragment,h),d=!0)},o(h){M(t.$$.fragment,h),M(s.$$.fragment,h),M(u.$$.fragment,h),M(a.$$.fragment,h),M(o.$$.fragment,h),M(f.$$.fragment,h),d=!1},d(h){z(t,h),h&&A(r),h&&A(n),Mt(m,h),z(s),z(u),z(a),z(o),e[13](null),h&&A(c),z(f,h)}}}function g_(e){let t,r;return t=new Ne({props:{title:e[7],subtitle:e[5],$$slots:{default:[h_]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&32&&(s.subtitle=n[5]),i&131103&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function y_(e,t,r){let{sourceData:n=null}=t,{revlogRange:i}=t,s=null,u=xt(),a=null,o=ie.Month,l=!1,c=[],f=bf(),d=xf(),p="";function m(){l=this.checked,r(3,l)}function h(y){o=y,r(2,o)}function g(y){we[y?"unshift":"push"](()=>{a=y,r(1,a)})}return e.$$set=y=>{"sourceData"in y&&r(9,n=y.sourceData),"revlogRange"in y&&r(0,i=y.revlogRange)},e.$$.update=()=>{if(e.$$.dirty&512){e:n&&r(10,s=Dy(n))}if(e.$$.dirty&1038){e:s&&r(4,c=Oy(a,u,s,o,l))}if(e.$$.dirty&8){e:l?r(5,p=vf()):r(5,p=yf())}},[i,a,o,l,c,p,u,f,d,n,s,m,h,g]}var jy=class extends X{constructor(t){super();Z(this,t,y_,g_,J,{sourceData:9,revlogRange:0})}},Iy=jy;var ln=Je.GraphPreferences.Weekday;function qy(e,t){var r;let n=new Map;for(let u of e.revlog){if(u.buttonChosen==0)continue;let a=Math.ceil((u.id/1e3-e.nextDayAtSecs)/86400),o=(r=n.get(a))!==null&&r!==void 0?r:0;n.set(a,o+1)}let i=x_(t),s=[];for(let u=0;u<7;u++)s.push((t+u)%7);return{reviewCount:n,timeFunction:i,weekdayLabels:s}}function My(e,t,r,n,i,s,u,a){let o=ct(e),l=new Date,c=new Date;c.setFullYear(i);let f=fe().range([t.marginLeft,t.width-t.marginRight]).domain([-1,53]),d=new Map,p=0;for(let[b,_]of r.reviewCount.entries()){let D=new Date(l.getTime()+b*86400*1e3);if(D.getFullYear()!=i)continue;let P=r.timeFunction.count(nn(D),D),K=$n.count(r.timeFunction(D),D),N=$n.count(nn(D),D);d.set(N,{day:b,count:_,weekNumber:P,weekDay:K,date:D}),_>p&&(p=_)}if(p)Xe(o,!0);else{Xe(o,!1);return}let m=nn(c),h=new Date(l);h.setFullYear(l.getFullYear()-1);for(let b=0;b<365;b++){let _=new Date(m.getTime()+b*86400*1e3);if(_>l||u==ve.Year&&_<h)continue;let D=$n.count(nn(_),_);if(!d.has(D)){let P=r.timeFunction.count(nn(_),_),K=$n.count(r.timeFunction(_),_);d.set(D,{day:D,count:0,weekNumber:P,weekDay:K,date:_})}}let g=Array.from(d.values()),y=fe().range([.2,s?.8:1]),x=Vu().domain([0,p]).interpolator(b=>mr(y(b)));function k(b){let _=b.date.toLocaleString(O.langs,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),D=_r({reviews:b.count});return`${_}<br>${D}`}let j=t.height/10,q=s?"#333":"#ddd";o.select("g.weekdays").selectAll("text").data(r.weekdayLabels).join("text").text(b=>O.weekdayLabel(b)).attr("width",f(-1)-2).attr("height",j-2).attr("x",f(1)-3).attr("y",(b,_)=>t.marginTop+_*j).attr("fill",s?"#ddd":"black").attr("dominant-baseline","hanging").attr("text-anchor","end").attr("font-size","small").attr("font-family","monospace").attr("direction","ltr").style("user-select","none").on("click",null).filter(b=>[ln.SUNDAY,ln.MONDAY,ln.FRIDAY,ln.SATURDAY].includes(b)).on("click",(b,_)=>a(_)),o.select("g.days").selectAll("rect").data(g).join("rect").attr("fill",q).attr("width",b=>f(b.weekNumber+1)-f(b.weekNumber)-2).attr("height",j-2).attr("x",b=>f(b.weekNumber+1)).attr("y",b=>t.marginTop+b.weekDay*j).on("mousemove",(b,_)=>{let[D,P]=Rt(b,document.body);Nt(k(_),D,P)}).on("mouseout",Qt).attr("class",b=>b.count>0?Os:"").on("click",function(b,_){_.count>0&&n("search",{query:`"prop:rated=${_.day}"`})}).transition().duration(800).attr("fill",b=>b.count===0?q:x(b.count))}function x_(e){switch(e){case ln.MONDAY:return xs;case ln.FRIDAY:return vs;case ln.SATURDAY:return bs;default:return $i}}function v_(e){let t,r,n,i,s,u,a,o,l,c,f,d,p,m;return{c(){t=L("span"),r=L("button"),n=te("\u25C4"),s=G(),u=L("span"),a=te(e[3]),o=G(),l=L("span"),c=L("button"),f=te("\u25BA"),r.disabled=i=e[2]>=e[3],c.disabled=d=e[3]>=e[5]},m(h,g){E(h,t,g),S(t,r),S(r,n),E(h,s,g),E(h,u,g),S(u,a),E(h,o,g),E(h,l,g),S(l,c),S(c,f),p||(m=[ge(r,"click",e[13]),ge(c,"click",e[14])],p=!0)},p(h,g){g&12&&i!==(i=h[2]>=h[3])&&(r.disabled=i),g&8&&Ve(a,h[3]),g&8&&d!==(d=h[3]>=h[5])&&(c.disabled=d)},d(h){h&&A(t),h&&A(s),h&&A(u),h&&A(o),h&&A(l),p=!1,Le(m)}}}function b_(e){let t,r,n,i,s,u,a,o,l;return t=new je({props:{$$slots:{default:[v_]},$$scope:{ctx:e}}}),u=new Yt({props:{bounds:e[0]}}),a=new Vt({props:{bounds:e[0]}}),{c(){U(t.$$.fragment),r=G(),n=me("svg"),i=me("g"),s=me("g"),U(u.$$.fragment),U(a.$$.fragment),R(i,"class","weekdays"),R(s,"class","days"),R(n,"viewBox",o=`0 0 ${e[0].width} ${e[0].height}`)},m(c,f){W(t,c,f),E(c,r,f),E(c,n,f),S(n,i),S(n,s),W(u,n,null),W(a,n,null),e[15](n),l=!0},p(c,f){let d={};f&131084&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);let p={};f&1&&(p.bounds=c[0]),u.$set(p);let m={};f&1&&(m.bounds=c[0]),a.$set(m),(!l||f&1&&o!==(o=`0 0 ${c[0].width} ${c[0].height}`))&&R(n,"viewBox",o)},i(c){l||(I(t.$$.fragment,c),I(u.$$.fragment,c),I(a.$$.fragment,c),l=!0)},o(c){M(t.$$.fragment,c),M(u.$$.fragment,c),M(a.$$.fragment,c),l=!1},d(c){z(t,c),c&&A(r),c&&A(n),z(u),z(a),e[15](null)}}}function w_(e){let t,r;return t=new Ne({props:{title:e[6],$$slots:{default:[b_]},$$scope:{ctx:e}}}),{c(){U(t.$$.fragment)},m(n,i){W(t,n,i),r=!0},p(n,[i]){let s={};i&131087&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){M(t.$$.fragment,n),r=!1},d(n){z(t,n)}}}function __(e,t,r){let n,{sourceData:i}=t,{preferences:s}=t,{revlogRange:u}=t,{nightMode:a}=t,{calendarFirstDayOfWeek:o}=s;_e(e,o,j=>r(12,n=j));let l=ot(),c=null,f=xt();f.height=120,f.marginLeft=20,f.marginRight=20;let d=null,p=new Date().getFullYear(),m=0,h=p,g=Dc(),y=()=>r(3,h--,h),x=()=>r(3,h++,h);function k(j){we[j?"unshift":"push"](()=>{d=j,r(1,d)})}return e.$$set=j=>{"sourceData"in j&&r(7,i=j.sourceData),"preferences"in j&&r(8,s=j.preferences),"revlogRange"in j&&r(9,u=j.revlogRange),"nightMode"in j&&r(10,a=j.nightMode)},e.$$.update=()=>{if(e.$$.dirty&4224){e:i&&r(11,c=qy(i,n))}if(e.$$.dirty&524){e:u<ve.Year?r(2,m=p):u===ve.Year?r(2,m=p-1):r(2,m=2e3),h<m&&r(3,h=m)}if(e.$$.dirty&3595){e:c&&My(d,f,c,l,h,a,u,o.set)}},[f,d,m,h,o,p,g,i,s,u,a,c,n,y,x,k]}var Fy=class extends X{constructor(t){super();Z(this,t,__,w_,J,{sourceData:7,preferences:8,revlogRange:9,nightMode:10})}},Ly=Fy;function S_(e,t,{search:r="deck:current",days:n=365,controller:i=null}={}){let s=Af();Bs({modules:[Qn.STATISTICS,Qn.SCHEDULING]}).then(()=>{new Ip({target:e,props:{graphs:t,nightMode:s,initialSearch:r,initialDays:n,controller:i}})})}return k_;})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
//# sourceMappingURL=graphs.js.map
